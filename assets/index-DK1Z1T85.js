var to=Object.defineProperty;var ja=a=>{throw TypeError(a)};var no=(a,e,t)=>e in a?to(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var je=(a,e,t)=>no(a,typeof e!="symbol"?e+"":e,t),ao=(a,e,t)=>e.has(a)||ja("Cannot "+t);var Ta=(a,e,t)=>e.has(a)?ja("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,t);var Cn=(a,e,t)=>(ao(a,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ee(){}function io(a,e){for(const t in e)a[t]=e[t];return a}function Ti(a){return a()}function za(){return Object.create(null)}function De(a){a.forEach(Ti)}function ha(a){return typeof a=="function"}function Ae(a,e){return a!=a?e==e:a!==e||a&&typeof a=="object"||typeof a=="function"}let qn;function Bn(a,e){return a===e?!0:(qn||(qn=document.createElement("a")),qn.href=e,a===qn.href)}function oo(a){return Object.keys(a).length===0}function fa(a,...e){if(a==null){for(const n of e)n(void 0);return ee}const t=a.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function xe(a){let e;return fa(a,t=>e=t)(),e}function fe(a,e,t){a.$$.on_destroy.push(fa(e,t))}function ro(a,e,t,n){if(a){const i=zi(a,e,t,n);return a[0](i)}}function zi(a,e,t,n){return a[1]&&n?io(t.ctx.slice(),a[1](n(e))):t.ctx}function so(a,e,t,n){return a[2],e.dirty}function lo(a,e,t,n,i,o){if(i){const r=zi(e,t,n,o);a.p(r,i)}}function uo(a){if(a.ctx.length>32){const e=[],t=a.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function f(a,e){a.appendChild(e)}function O(a,e,t){a.insertBefore(e,t||null)}function R(a){a.parentNode&&a.parentNode.removeChild(a)}function Ve(a,e){for(let t=0;t<a.length;t+=1)a[t]&&a[t].d(e)}function v(a){return document.createElement(a)}function z(a){return document.createTextNode(a)}function A(){return z(" ")}function rt(){return z("")}function X(a,e,t,n){return a.addEventListener(e,t,n),()=>a.removeEventListener(e,t,n)}function w(a,e,t){t==null?a.removeAttribute(e):a.getAttribute(e)!==t&&a.setAttribute(e,t)}function co(a){let e;return{p(...t){e=t,e.forEach(n=>a.push(n))},r(){e.forEach(t=>a.splice(a.indexOf(t),1))}}}function ho(a){return Array.from(a.childNodes)}function W(a,e){e=""+e,a.data!==e&&(a.data=e)}function Ne(a,e){a.value=e??""}function it(a,e,t,n){t==null?a.style.removeProperty(e):a.style.setProperty(e,t,"")}function Ht(a,e,t){for(let n=0;n<a.options.length;n+=1){const i=a.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(a.selectedIndex=-1)}function Ii(a){const e=a.querySelector(":checked");return e&&e.__value}function he(a,e,t){a.classList.toggle(e,!!t)}function fo(a,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(a,{detail:e,bubbles:t,cancelable:n})}let kn;function dn(a){kn=a}function Si(){if(!kn)throw new Error("Function called outside component initialization");return kn}function Gt(a){Si().$$.on_mount.push(a)}function vn(){const a=Si();return(e,t,{cancelable:n=!1}={})=>{const i=a.$$.callbacks[e];if(i){const o=fo(e,t,{cancelable:n});return i.slice().forEach(r=>{r.call(a,o)}),!o.defaultPrevented}return!0}}const xt=[],gn=[];let Kt=[];const ia=[],mo=Promise.resolve();let oa=!1;function po(){oa||(oa=!0,mo.then(Ei))}function _n(a){Kt.push(a)}function Wi(a){ia.push(a)}const ta=new Set;let Bt=0;function Ei(){if(Bt!==0)return;const a=kn;do{try{for(;Bt<xt.length;){const e=xt[Bt];Bt++,dn(e),ko(e.$$)}}catch(e){throw xt.length=0,Bt=0,e}for(dn(null),xt.length=0,Bt=0;gn.length;)gn.pop()();for(let e=0;e<Kt.length;e+=1){const t=Kt[e];ta.has(t)||(ta.add(t),t())}Kt.length=0}while(xt.length);for(;ia.length;)ia.pop()();oa=!1,ta.clear(),dn(a)}function ko(a){if(a.fragment!==null){a.update(),De(a.before_update);const e=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,e),a.after_update.forEach(_n)}}function go(a){const e=[],t=[];Kt.forEach(n=>a.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Kt=e}const Ln=new Set;let zt;function dt(){zt={r:0,c:[],p:zt}}function mt(){zt.r||De(zt.c),zt=zt.p}function ae(a,e){a&&a.i&&(Ln.delete(a),a.i(e))}function re(a,e,t,n){if(a&&a.o){if(Ln.has(a))return;Ln.add(a),zt.c.push(()=>{Ln.delete(a),n&&(t&&a.d(1),n())}),a.o(e)}else n&&n()}function pe(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function bn(a,e){a.d(1),e.delete(a.key)}function yn(a,e,t,n,i,o,r,u,s,l,h,c){let d=a.length,p=o.length,k=d;const _={};for(;k--;)_[a[k].key]=k;const y=[],S=new Map,C=new Map,x=[];for(k=p;k--;){const D=c(i,o,k),K=t(D);let H=r.get(K);H?x.push(()=>H.p(D,e)):(H=l(K,D),H.c()),S.set(K,y[k]=H),K in _&&C.set(K,Math.abs(k-_[K]))}const P=new Set,E=new Set;function L(D){ae(D,1),D.m(u,h),r.set(D.key,D),h=D.first,p--}for(;d&&p;){const D=y[p-1],K=a[d-1],H=D.key,J=K.key;D===K?(h=D.first,d--,p--):S.has(J)?!r.has(H)||P.has(H)?L(D):E.has(J)?d--:C.get(H)>C.get(J)?(E.add(H),L(D)):(P.add(J),d--):(s(K,r),d--)}for(;d--;){const D=a[d];S.has(D.key)||s(D,r)}for(;p;)L(y[p-1]);return De(x),y}function Ai(a,e,t){const n=a.$$.props[e];n!==void 0&&(a.$$.bound[n]=t,t(a.$$.ctx[n]))}function Oe(a){a&&a.c()}function We(a,e,t){const{fragment:n,after_update:i}=a.$$;n&&n.m(e,t),_n(()=>{const o=a.$$.on_mount.map(Ti).filter(ha);a.$$.on_destroy?a.$$.on_destroy.push(...o):De(o),a.$$.on_mount=[]}),i.forEach(_n)}function Ee(a,e){const t=a.$$;t.fragment!==null&&(go(t.after_update),De(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _o(a,e){a.$$.dirty[0]===-1&&(xt.push(a),po(),a.$$.dirty.fill(0)),a.$$.dirty[e/31|0]|=1<<e%31}function Ce(a,e,t,n,i,o,r=null,u=[-1]){const s=kn;dn(a);const l=a.$$={fragment:null,ctx:[],props:o,update:ee,not_equal:i,bound:za(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:za(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};r&&r(l.root);let h=!1;if(l.ctx=t?t(a,e.props||{},(c,d,...p)=>{const k=p.length?p[0]:d;return l.ctx&&i(l.ctx[c],l.ctx[c]=k)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](k),h&&_o(a,c)),d}):[],l.update(),h=!0,De(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){const c=ho(e.target);l.fragment&&l.fragment.l(c),c.forEach(R)}else l.fragment&&l.fragment.c();e.intro&&ae(a.$$.fragment),We(a,e.target,e.anchor),Ei()}dn(s)}class qe{constructor(){je(this,"$$");je(this,"$$set")}$destroy(){Ee(this,1),this.$destroy=ee}$on(e,t){if(!ha(t))return ee;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!oo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vo);const Ft=[];function bo(a,e){return{subscribe:Vt(a,e).subscribe}}function Vt(a,e=ee){let t;const n=new Set;function i(u){if(Ae(a,u)&&(a=u,t)){const s=!Ft.length;for(const l of n)l[1](),Ft.push(l,a);if(s){for(let l=0;l<Ft.length;l+=2)Ft[l][0](Ft[l+1]);Ft.length=0}}}function o(u){i(u(a))}function r(u,s=ee){const l=[u,s];return n.add(l),n.size===1&&(t=e(i,o)||ee),u(a),()=>{n.delete(l),n.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:r}}function $n(a,e,t){const n=!Array.isArray(a),i=n?[a]:a;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return bo(t,(r,u)=>{let s=!1;const l=[];let h=0,c=ee;const d=()=>{if(h)return;c();const k=e(n?l[0]:l,r,u);o?r(k):c=ha(k)?k:ee},p=i.map((k,_)=>fa(k,y=>{l[_]=y,h&=~(1<<_),s&&d()},()=>{h|=1<<_}));return s=!0,d(),function(){De(p),c(),s=!1}})}var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yo(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Dn(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ri={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(a,e){(function(t){a.exports=t()})(function(){return function t(n,i,o){function r(l,h){if(!i[l]){if(!n[l]){var c=typeof Dn=="function"&&Dn;if(!h&&c)return c(l,!0);if(u)return u(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[l]={exports:{}};n[l][0].call(p.exports,function(k){var _=n[l][1][k];return r(_||k)},p,p.exports,t,n,i,o)}return i[l].exports}for(var u=typeof Dn=="function"&&Dn,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,n,i){(function(o){var r=o.MutationObserver||o.WebKitMutationObserver,u;if(r){var s=0,l=new r(k),h=o.document.createTextNode("");l.observe(h,{characterData:!0}),u=function(){h.data=s=++s%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var c=new o.MessageChannel;c.port1.onmessage=k,u=function(){c.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var y=o.document.createElement("script");y.onreadystatechange=function(){k(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:u=function(){setTimeout(k,0)};var d,p=[];function k(){d=!0;for(var y,S,C=p.length;C;){for(S=p,p=[],y=-1;++y<C;)S[y]();C=p.length}d=!1}n.exports=_;function _(y){p.push(y)===1&&!d&&u()}}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,n,i){var o=t(1);function r(){}var u={},s=["REJECTED"],l=["FULFILLED"],h=["PENDING"];n.exports=c;function c(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==r&&_(this,E)}c.prototype.catch=function(E){return this.then(null,E)},c.prototype.then=function(E,L){if(typeof E!="function"&&this.state===l||typeof L!="function"&&this.state===s)return this;var D=new this.constructor(r);if(this.state!==h){var K=this.state===l?E:L;p(D,K,this.outcome)}else this.queue.push(new d(D,E,L));return D};function d(E,L,D){this.promise=E,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(E){u.resolve(this.promise,E)},d.prototype.otherCallFulfilled=function(E){p(this.promise,this.onFulfilled,E)},d.prototype.callRejected=function(E){u.reject(this.promise,E)},d.prototype.otherCallRejected=function(E){p(this.promise,this.onRejected,E)};function p(E,L,D){o(function(){var K;try{K=L(D)}catch(H){return u.reject(E,H)}K===E?u.reject(E,new TypeError("Cannot resolve promise with itself")):u.resolve(E,K)})}u.resolve=function(E,L){var D=y(k,L);if(D.status==="error")return u.reject(E,D.value);var K=D.value;if(K)_(E,K);else{E.state=l,E.outcome=L;for(var H=-1,J=E.queue.length;++H<J;)E.queue[H].callFulfilled(L)}return E},u.reject=function(E,L){E.state=s,E.outcome=L;for(var D=-1,K=E.queue.length;++D<K;)E.queue[D].callRejected(L);return E};function k(E){var L=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof L=="function")return function(){L.apply(E,arguments)}}function _(E,L){var D=!1;function K(U){D||(D=!0,u.reject(E,U))}function H(U){D||(D=!0,u.resolve(E,U))}function J(){L(H,K)}var N=y(J);N.status==="error"&&K(N.value)}function y(E,L){var D={};try{D.value=E(L),D.status="success"}catch(K){D.status="error",D.value=K}return D}c.resolve=S;function S(E){return E instanceof this?E:u.resolve(new this(r),E)}c.reject=C;function C(E){var L=new this(r);return u.reject(L,E)}c.all=x;function x(E){var L=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=E.length,K=!1;if(!D)return this.resolve([]);for(var H=new Array(D),J=0,N=-1,U=new this(r);++N<D;)Q(E[N],N);return U;function Q(G,Z){L.resolve(G).then(Y,function(Te){K||(K=!0,u.reject(U,Te))});function Y(Te){H[Z]=Te,++J===D&&!K&&(K=!0,u.resolve(U,H))}}}c.race=P;function P(E){var L=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=E.length,K=!1;if(!D)return this.resolve([]);for(var H=-1,J=new this(r);++H<D;)N(E[H]);return J;function N(U){L.resolve(U).then(function(Q){K||(K=!0,u.resolve(J,Q))},function(Q){K||(K=!0,u.reject(J,Q))})}}},{1:1}],3:[function(t,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=t(2))}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};function r(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var s=u();function l(){try{if(!s||!s.open)return!1;var m=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!m||b)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h(m,b){m=m||[],b=b||{};try{return new Blob(m,b)}catch(j){if(j.name!=="TypeError")throw j;for(var g=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,T=new g,I=0;I<m.length;I+=1)T.append(m[I]);return T.getBlob(b.type)}}typeof Promise>"u"&&t(3);var c=Promise;function d(m,b){b&&m.then(function(g){b(null,g)},function(g){b(g)})}function p(m,b,g){typeof b=="function"&&m.then(b),typeof g=="function"&&m.catch(g)}function k(m){return typeof m!="string"&&(console.warn(m+" used as a key, but it is not a string."),m=String(m)),m}function _(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",S=void 0,C={},x=Object.prototype.toString,P="readonly",E="readwrite";function L(m){for(var b=m.length,g=new ArrayBuffer(b),T=new Uint8Array(g),I=0;I<b;I++)T[I]=m.charCodeAt(I);return g}function D(m){return new c(function(b){var g=m.transaction(y,E),T=h([""]);g.objectStore(y).put(T,"key"),g.onabort=function(I){I.preventDefault(),I.stopPropagation(),b(!1)},g.oncomplete=function(){var I=navigator.userAgent.match(/Chrome\/(\d+)/),j=navigator.userAgent.match(/Edge\//);b(j||!I||parseInt(I[1],10)>=43)}}).catch(function(){return!1})}function K(m){return typeof S=="boolean"?c.resolve(S):D(m).then(function(b){return S=b,S})}function H(m){var b=C[m.name],g={};g.promise=new c(function(T,I){g.resolve=T,g.reject=I}),b.deferredOperations.push(g),b.dbReady?b.dbReady=b.dbReady.then(function(){return g.promise}):b.dbReady=g.promise}function J(m){var b=C[m.name],g=b.deferredOperations.pop();if(g)return g.resolve(),g.promise}function N(m,b){var g=C[m.name],T=g.deferredOperations.pop();if(T)return T.reject(b),T.promise}function U(m,b){return new c(function(g,T){if(C[m.name]=C[m.name]||ze(),m.db)if(b)H(m),m.db.close();else return g(m.db);var I=[m.name];b&&I.push(m.version);var j=s.open.apply(s,I);b&&(j.onupgradeneeded=function(q){var M=j.result;try{M.createObjectStore(m.storeName),q.oldVersion<=1&&M.createObjectStore(y)}catch($){if($.name==="ConstraintError")console.warn('The database "'+m.name+'" has been upgraded from version '+q.oldVersion+" to version "+q.newVersion+', but the storage "'+m.storeName+'" already exists.');else throw $}}),j.onerror=function(q){q.preventDefault(),T(j.error)},j.onsuccess=function(){var q=j.result;q.onversionchange=function(M){M.target.close()},g(q),J(m)}})}function Q(m){return U(m,!1)}function G(m){return U(m,!0)}function Z(m,b){if(!m.db)return!0;var g=!m.db.objectStoreNames.contains(m.storeName),T=m.version<m.db.version,I=m.version>m.db.version;if(T&&(m.version!==b&&console.warn('The database "'+m.name+`" can't be downgraded from version `+m.db.version+" to version "+m.version+"."),m.version=m.db.version),I||g){if(g){var j=m.db.version+1;j>m.version&&(m.version=j)}return!0}return!1}function Y(m){return new c(function(b,g){var T=new FileReader;T.onerror=g,T.onloadend=function(I){var j=btoa(I.target.result||"");b({__local_forage_encoded_blob:!0,data:j,type:m.type})},T.readAsBinaryString(m)})}function Te(m){var b=L(atob(m.data));return h([b],{type:m.type})}function se(m){return m&&m.__local_forage_encoded_blob}function te(m){var b=this,g=b._initReady().then(function(){var T=C[b._dbInfo.name];if(T&&T.dbReady)return T.dbReady});return p(g,m,m),g}function ie(m){H(m);for(var b=C[m.name],g=b.forages,T=0;T<g.length;T++){var I=g[T];I._dbInfo.db&&(I._dbInfo.db.close(),I._dbInfo.db=null)}return m.db=null,Q(m).then(function(j){return m.db=j,Z(m)?G(m):j}).then(function(j){m.db=b.db=j;for(var q=0;q<g.length;q++)g[q]._dbInfo.db=j}).catch(function(j){throw N(m,j),j})}function ue(m,b,g,T){T===void 0&&(T=1);try{var I=m.db.transaction(m.storeName,b);g(null,I)}catch(j){if(T>0&&(!m.db||j.name==="InvalidStateError"||j.name==="NotFoundError"))return c.resolve().then(function(){if(!m.db||j.name==="NotFoundError"&&!m.db.objectStoreNames.contains(m.storeName)&&m.version<=m.db.version)return m.db&&(m.version=m.db.version+1),G(m)}).then(function(){return ie(m).then(function(){ue(m,b,g,T-1)})}).catch(g);g(j)}}function ze(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(m){var b=this,g={db:null};if(m)for(var T in m)g[T]=m[T];var I=C[g.name];I||(I=ze(),C[g.name]=I),I.forages.push(b),b._initReady||(b._initReady=b.ready,b.ready=te);var j=[];function q(){return c.resolve()}for(var M=0;M<I.forages.length;M++){var $=I.forages[M];$!==b&&j.push($._initReady().catch(q))}var B=I.forages.slice(0);return c.all(j).then(function(){return g.db=I.db,Q(g)}).then(function(F){return g.db=F,Z(g,b._defaultConfig.version)?G(g):F}).then(function(F){g.db=I.db=F,b._dbInfo=g;for(var V=0;V<B.length;V++){var oe=B[V];oe!==b&&(oe._dbInfo.db=g.db,oe._dbInfo.version=g.version)}})}function le(m,b){var g=this;m=k(m);var T=new c(function(I,j){g.ready().then(function(){ue(g._dbInfo,P,function(q,M){if(q)return j(q);try{var $=M.objectStore(g._dbInfo.storeName),B=$.get(m);B.onsuccess=function(){var F=B.result;F===void 0&&(F=null),se(F)&&(F=Te(F)),I(F)},B.onerror=function(){j(B.error)}}catch(F){j(F)}})}).catch(j)});return d(T,b),T}function Le(m,b){var g=this,T=new c(function(I,j){g.ready().then(function(){ue(g._dbInfo,P,function(q,M){if(q)return j(q);try{var $=M.objectStore(g._dbInfo.storeName),B=$.openCursor(),F=1;B.onsuccess=function(){var V=B.result;if(V){var oe=V.value;se(oe)&&(oe=Te(oe));var _e=m(oe,V.key,F++);_e!==void 0?I(_e):V.continue()}else I()},B.onerror=function(){j(B.error)}}catch(V){j(V)}})}).catch(j)});return d(T,b),T}function st(m,b,g){var T=this;m=k(m);var I=new c(function(j,q){var M;T.ready().then(function(){return M=T._dbInfo,x.call(b)==="[object Blob]"?K(M.db).then(function($){return $?b:Y(b)}):b}).then(function($){ue(T._dbInfo,E,function(B,F){if(B)return q(B);try{var V=F.objectStore(T._dbInfo.storeName);$===null&&($=void 0);var oe=V.put($,m);F.oncomplete=function(){$===void 0&&($=null),j($)},F.onabort=F.onerror=function(){var _e=oe.error?oe.error:oe.transaction.error;q(_e)}}catch(_e){q(_e)}})}).catch(q)});return d(I,g),I}function tt(m,b){var g=this;m=k(m);var T=new c(function(I,j){g.ready().then(function(){ue(g._dbInfo,E,function(q,M){if(q)return j(q);try{var $=M.objectStore(g._dbInfo.storeName),B=$.delete(m);M.oncomplete=function(){I()},M.onerror=function(){j(B.error)},M.onabort=function(){var F=B.error?B.error:B.transaction.error;j(F)}}catch(F){j(F)}})}).catch(j)});return d(T,b),T}function Je(m){var b=this,g=new c(function(T,I){b.ready().then(function(){ue(b._dbInfo,E,function(j,q){if(j)return I(j);try{var M=q.objectStore(b._dbInfo.storeName),$=M.clear();q.oncomplete=function(){T()},q.onabort=q.onerror=function(){var B=$.error?$.error:$.transaction.error;I(B)}}catch(B){I(B)}})}).catch(I)});return d(g,m),g}function nt(m){var b=this,g=new c(function(T,I){b.ready().then(function(){ue(b._dbInfo,P,function(j,q){if(j)return I(j);try{var M=q.objectStore(b._dbInfo.storeName),$=M.count();$.onsuccess=function(){T($.result)},$.onerror=function(){I($.error)}}catch(B){I(B)}})}).catch(I)});return d(g,m),g}function pt(m,b){var g=this,T=new c(function(I,j){if(m<0){I(null);return}g.ready().then(function(){ue(g._dbInfo,P,function(q,M){if(q)return j(q);try{var $=M.objectStore(g._dbInfo.storeName),B=!1,F=$.openKeyCursor();F.onsuccess=function(){var V=F.result;if(!V){I(null);return}m===0||B?I(V.key):(B=!0,V.advance(m))},F.onerror=function(){j(F.error)}}catch(V){j(V)}})}).catch(j)});return d(T,b),T}function lt(m){var b=this,g=new c(function(T,I){b.ready().then(function(){ue(b._dbInfo,P,function(j,q){if(j)return I(j);try{var M=q.objectStore(b._dbInfo.storeName),$=M.openKeyCursor(),B=[];$.onsuccess=function(){var F=$.result;if(!F){T(B);return}B.push(F.key),F.continue()},$.onerror=function(){I($.error)}}catch(F){I(F)}})}).catch(I)});return d(g,m),g}function Ue(m,b){b=_.apply(this,arguments);var g=this.config();m=typeof m!="function"&&m||{},m.name||(m.name=m.name||g.name,m.storeName=m.storeName||g.storeName);var T=this,I;if(!m.name)I=c.reject("Invalid arguments");else{var j=m.name===g.name&&T._dbInfo.db,q=j?c.resolve(T._dbInfo.db):Q(m).then(function(M){var $=C[m.name],B=$.forages;$.db=M;for(var F=0;F<B.length;F++)B[F]._dbInfo.db=M;return M});m.storeName?I=q.then(function(M){if(M.objectStoreNames.contains(m.storeName)){var $=M.version+1;H(m);var B=C[m.name],F=B.forages;M.close();for(var V=0;V<F.length;V++){var oe=F[V];oe._dbInfo.db=null,oe._dbInfo.version=$}var _e=new c(function(ye,Pe){var Re=s.open(m.name,$);Re.onerror=function(Ge){var hn=Re.result;hn.close(),Pe(Ge)},Re.onupgradeneeded=function(){var Ge=Re.result;Ge.deleteObjectStore(m.storeName)},Re.onsuccess=function(){var Ge=Re.result;Ge.close(),ye(Ge)}});return _e.then(function(ye){B.db=ye;for(var Pe=0;Pe<F.length;Pe++){var Re=F[Pe];Re._dbInfo.db=ye,J(Re._dbInfo)}}).catch(function(ye){throw(N(m,ye)||c.resolve()).catch(function(){}),ye})}}):I=q.then(function(M){H(m);var $=C[m.name],B=$.forages;M.close();for(var F=0;F<B.length;F++){var V=B[F];V._dbInfo.db=null}var oe=new c(function(_e,ye){var Pe=s.deleteDatabase(m.name);Pe.onerror=function(){var Re=Pe.result;Re&&Re.close(),ye(Pe.error)},Pe.onblocked=function(){console.warn('dropInstance blocked for database "'+m.name+'" until all open connections are closed')},Pe.onsuccess=function(){var Re=Pe.result;Re&&Re.close(),_e(Re)}});return oe.then(function(_e){$.db=_e;for(var ye=0;ye<B.length;ye++){var Pe=B[ye];J(Pe._dbInfo)}}).catch(function(_e){throw(N(m,_e)||c.resolve()).catch(function(){}),_e})})}return d(I,b),I}var Ke={_driver:"asyncStorage",_initStorage:ne,_support:l(),iterate:Le,getItem:le,setItem:st,removeItem:tt,clear:Je,length:nt,key:pt,keys:lt,dropInstance:Ue};function ut(){return typeof openDatabase=="function"}var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e="~~local_forage_type~",Ye=/^~~local_forage_type~([^~]+)~/,Ie="__lfsc__:",ge=Ie.length,Se="arbf",kt="blob",Xt="si08",en="ui08",gt="uic8",ct="si16",tn="si32",Be="ur16",_t="ui32",vt="fl32",At="fl64",nn=ge+Se.length,Qe=Object.prototype.toString;function bt(m){var b=m.length*.75,g=m.length,T,I=0,j,q,M,$;m[m.length-1]==="="&&(b--,m[m.length-2]==="="&&b--);var B=new ArrayBuffer(b),F=new Uint8Array(B);for(T=0;T<g;T+=4)j=ve.indexOf(m[T]),q=ve.indexOf(m[T+1]),M=ve.indexOf(m[T+2]),$=ve.indexOf(m[T+3]),F[I++]=j<<2|q>>4,F[I++]=(q&15)<<4|M>>2,F[I++]=(M&3)<<6|$&63;return B}function yt(m){var b=new Uint8Array(m),g="",T;for(T=0;T<b.length;T+=3)g+=ve[b[T]>>2],g+=ve[(b[T]&3)<<4|b[T+1]>>4],g+=ve[(b[T+1]&15)<<2|b[T+2]>>6],g+=ve[b[T+2]&63];return b.length%3===2?g=g.substring(0,g.length-1)+"=":b.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function Tn(m,b){var g="";if(m&&(g=Qe.call(m)),m&&(g==="[object ArrayBuffer]"||m.buffer&&Qe.call(m.buffer)==="[object ArrayBuffer]")){var T,I=Ie;m instanceof ArrayBuffer?(T=m,I+=Se):(T=m.buffer,g==="[object Int8Array]"?I+=Xt:g==="[object Uint8Array]"?I+=en:g==="[object Uint8ClampedArray]"?I+=gt:g==="[object Int16Array]"?I+=ct:g==="[object Uint16Array]"?I+=Be:g==="[object Int32Array]"?I+=tn:g==="[object Uint32Array]"?I+=_t:g==="[object Float32Array]"?I+=vt:g==="[object Float64Array]"?I+=At:b(new Error("Failed to get type for BinaryArray"))),b(I+yt(T))}else if(g==="[object Blob]"){var j=new FileReader;j.onload=function(){var q=$e+m.type+"~"+yt(this.result);b(Ie+kt+q)},j.readAsArrayBuffer(m)}else try{b(JSON.stringify(m))}catch(q){console.error("Couldn't convert value into a JSON string: ",m),b(null,q)}}function Rt(m){if(m.substring(0,ge)!==Ie)return JSON.parse(m);var b=m.substring(nn),g=m.substring(ge,nn),T;if(g===kt&&Ye.test(b)){var I=b.match(Ye);T=I[1],b=b.substring(I[0].length)}var j=bt(b);switch(g){case Se:return j;case kt:return h([j],{type:T});case Xt:return new Int8Array(j);case en:return new Uint8Array(j);case gt:return new Uint8ClampedArray(j);case ct:return new Int16Array(j);case Be:return new Uint16Array(j);case tn:return new Int32Array(j);case _t:return new Uint32Array(j);case vt:return new Float32Array(j);case At:return new Float64Array(j);default:throw new Error("Unkown type: "+g)}}var wt={serialize:Tn,deserialize:Rt,stringToBuffer:bt,bufferToString:yt};function an(m,b,g,T){m.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,T)}function Ot(m){var b=this,g={db:null};if(m)for(var T in m)g[T]=typeof m[T]!="string"?m[T].toString():m[T];var I=new c(function(j,q){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(M){return q(M)}g.db.transaction(function(M){an(M,g,function(){b._dbInfo=g,j()},function($,B){q(B)})},q)});return g.serializer=wt,I}function He(m,b,g,T,I,j){m.executeSql(g,T,I,function(q,M){M.code===M.SYNTAX_ERR?q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],function($,B){B.rows.length?j($,M):an($,b,function(){$.executeSql(g,T,I,j)},j)},j):j(q,M)},j)}function zn(m,b){var g=this;m=k(m);var T=new c(function(I,j){g.ready().then(function(){var q=g._dbInfo;q.db.transaction(function(M){He(M,q,"SELECT * FROM "+q.storeName+" WHERE key = ? LIMIT 1",[m],function($,B){var F=B.rows.length?B.rows.item(0).value:null;F&&(F=q.serializer.deserialize(F)),I(F)},function($,B){j(B)})})}).catch(j)});return d(T,b),T}function at(m,b){var g=this,T=new c(function(I,j){g.ready().then(function(){var q=g._dbInfo;q.db.transaction(function(M){He(M,q,"SELECT * FROM "+q.storeName,[],function($,B){for(var F=B.rows,V=F.length,oe=0;oe<V;oe++){var _e=F.item(oe),ye=_e.value;if(ye&&(ye=q.serializer.deserialize(ye)),ye=m(ye,_e.key,oe+1),ye!==void 0){I(ye);return}}I()},function($,B){j(B)})})}).catch(j)});return d(T,b),T}function jt(m,b,g,T){var I=this;m=k(m);var j=new c(function(q,M){I.ready().then(function(){b===void 0&&(b=null);var $=b,B=I._dbInfo;B.serializer.serialize(b,function(F,V){V?M(V):B.db.transaction(function(oe){He(oe,B,"INSERT OR REPLACE INTO "+B.storeName+" (key, value) VALUES (?, ?)",[m,F],function(){q($)},function(_e,ye){M(ye)})},function(oe){if(oe.code===oe.QUOTA_ERR){if(T>0){q(jt.apply(I,[m,$,g,T-1]));return}M(oe)}})})}).catch(M)});return d(j,g),j}function on(m,b,g){return jt.apply(this,[m,b,g,1])}function In(m,b){var g=this;m=k(m);var T=new c(function(I,j){g.ready().then(function(){var q=g._dbInfo;q.db.transaction(function(M){He(M,q,"DELETE FROM "+q.storeName+" WHERE key = ?",[m],function(){I()},function($,B){j(B)})})}).catch(j)});return d(T,b),T}function Ct(m){var b=this,g=new c(function(T,I){b.ready().then(function(){var j=b._dbInfo;j.db.transaction(function(q){He(q,j,"DELETE FROM "+j.storeName,[],function(){T()},function(M,$){I($)})})}).catch(I)});return d(g,m),g}function rn(m){var b=this,g=new c(function(T,I){b.ready().then(function(){var j=b._dbInfo;j.db.transaction(function(q){He(q,j,"SELECT COUNT(key) as c FROM "+j.storeName,[],function(M,$){var B=$.rows.item(0).c;T(B)},function(M,$){I($)})})}).catch(I)});return d(g,m),g}function Sn(m,b){var g=this,T=new c(function(I,j){g.ready().then(function(){var q=g._dbInfo;q.db.transaction(function(M){He(M,q,"SELECT key FROM "+q.storeName+" WHERE id = ? LIMIT 1",[m+1],function($,B){var F=B.rows.length?B.rows.item(0).key:null;I(F)},function($,B){j(B)})})}).catch(j)});return d(T,b),T}function qt(m){var b=this,g=new c(function(T,I){b.ready().then(function(){var j=b._dbInfo;j.db.transaction(function(q){He(q,j,"SELECT key FROM "+j.storeName,[],function(M,$){for(var B=[],F=0;F<$.rows.length;F++)B.push($.rows.item(F).key);T(B)},function(M,$){I($)})})}).catch(I)});return d(g,m),g}function sn(m){return new c(function(b,g){m.transaction(function(T){T.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(I,j){for(var q=[],M=0;M<j.rows.length;M++)q.push(j.rows.item(M).name);b({db:m,storeNames:q})},function(I,j){g(j)})},function(T){g(T)})})}function Wn(m,b){b=_.apply(this,arguments);var g=this.config();m=typeof m!="function"&&m||{},m.name||(m.name=m.name||g.name,m.storeName=m.storeName||g.storeName);var T=this,I;return m.name?I=new c(function(j){var q;m.name===g.name?q=T._dbInfo.db:q=openDatabase(m.name,"","",0),m.storeName?j({db:q,storeNames:[m.storeName]}):j(sn(q))}).then(function(j){return new c(function(q,M){j.db.transaction(function($){function B(_e){return new c(function(ye,Pe){$.executeSql("DROP TABLE IF EXISTS "+_e,[],function(){ye()},function(Re,Ge){Pe(Ge)})})}for(var F=[],V=0,oe=j.storeNames.length;V<oe;V++)F.push(B(j.storeNames[V]));c.all(F).then(function(){q()}).catch(function(_e){M(_e)})},function($){M($)})})}):I=c.reject("Invalid arguments"),d(I,b),I}var Tt={_driver:"webSQLStorage",_initStorage:Ot,_support:ut(),iterate:at,getItem:zn,setItem:on,removeItem:In,clear:Ct,length:rn,key:Sn,keys:qt,dropInstance:Wn};function Pt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Dt(m,b){var g=m.name+"/";return m.storeName!==b.storeName&&(g+=m.storeName+"/"),g}function En(){var m="_localforage_support_test";try{return localStorage.setItem(m,!0),localStorage.removeItem(m),!1}catch{return!0}}function Mt(){return!En()||localStorage.length>0}function ln(m){var b=this,g={};if(m)for(var T in m)g[T]=m[T];return g.keyPrefix=Dt(m,b._defaultConfig),Mt()?(b._dbInfo=g,g.serializer=wt,c.resolve()):c.reject()}function An(m){var b=this,g=b.ready().then(function(){for(var T=b._dbInfo.keyPrefix,I=localStorage.length-1;I>=0;I--){var j=localStorage.key(I);j.indexOf(T)===0&&localStorage.removeItem(j)}});return d(g,m),g}function ht(m,b){var g=this;m=k(m);var T=g.ready().then(function(){var I=g._dbInfo,j=localStorage.getItem(I.keyPrefix+m);return j&&(j=I.serializer.deserialize(j)),j});return d(T,b),T}function Nt(m,b){var g=this,T=g.ready().then(function(){for(var I=g._dbInfo,j=I.keyPrefix,q=j.length,M=localStorage.length,$=1,B=0;B<M;B++){var F=localStorage.key(B);if(F.indexOf(j)===0){var V=localStorage.getItem(F);if(V&&(V=I.serializer.deserialize(V)),V=m(V,F.substring(q),$++),V!==void 0)return V}}});return d(T,b),T}function Lt(m,b){var g=this,T=g.ready().then(function(){var I=g._dbInfo,j;try{j=localStorage.key(m)}catch{j=null}return j&&(j=j.substring(I.keyPrefix.length)),j});return d(T,b),T}function un(m){var b=this,g=b.ready().then(function(){for(var T=b._dbInfo,I=localStorage.length,j=[],q=0;q<I;q++){var M=localStorage.key(q);M.indexOf(T.keyPrefix)===0&&j.push(M.substring(T.keyPrefix.length))}return j});return d(g,m),g}function Rn(m){var b=this,g=b.keys().then(function(T){return T.length});return d(g,m),g}function ft(m,b){var g=this;m=k(m);var T=g.ready().then(function(){var I=g._dbInfo;localStorage.removeItem(I.keyPrefix+m)});return d(T,b),T}function ke(m,b,g){var T=this;m=k(m);var I=T.ready().then(function(){b===void 0&&(b=null);var j=b;return new c(function(q,M){var $=T._dbInfo;$.serializer.serialize(b,function(B,F){if(F)M(F);else try{localStorage.setItem($.keyPrefix+m,B),q(j)}catch(V){(V.name==="QuotaExceededError"||V.name==="NS_ERROR_DOM_QUOTA_REACHED")&&M(V),M(V)}})})});return d(I,g),I}function ce(m,b){if(b=_.apply(this,arguments),m=typeof m!="function"&&m||{},!m.name){var g=this.config();m.name=m.name||g.name,m.storeName=m.storeName||g.storeName}var T=this,I;return m.name?I=new c(function(j){m.storeName?j(Dt(m,T._defaultConfig)):j(m.name+"/")}).then(function(j){for(var q=localStorage.length-1;q>=0;q--){var M=localStorage.key(q);M.indexOf(j)===0&&localStorage.removeItem(M)}}):I=c.reject("Invalid arguments"),d(I,b),I}var be={_driver:"localStorageWrapper",_initStorage:ln,_support:Pt(),iterate:Nt,getItem:ht,setItem:ke,removeItem:ft,clear:An,length:Rn,key:Lt,keys:un,dropInstance:ce},Hi=function(b,g){return b===g||typeof b=="number"&&typeof g=="number"&&isNaN(b)&&isNaN(g)},Gi=function(b,g){for(var T=b.length,I=0;I<T;){if(Hi(b[I],g))return!0;I++}return!1},ba=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"},cn={},ya={},$t={INDEXEDDB:Ke,WEBSQL:Tt,LOCALSTORAGE:be},Ji=[$t.INDEXEDDB._driver,$t.WEBSQL._driver,$t.LOCALSTORAGE._driver],On=["dropInstance"],Qn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(On),Ui={description:"",driver:Ji.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vi(m,b){m[b]=function(){var g=arguments;return m.ready().then(function(){return m[b].apply(m,g)})}}function Zn(){for(var m=1;m<arguments.length;m++){var b=arguments[m];if(b)for(var g in b)b.hasOwnProperty(g)&&(ba(b[g])?arguments[0][g]=b[g].slice():arguments[0][g]=b[g])}return arguments[0]}var Yi=function(){function m(b){r(this,m);for(var g in $t)if($t.hasOwnProperty(g)){var T=$t[g],I=T._driver;this[g]=I,cn[I]||this.defineDriver(T)}this._defaultConfig=Zn({},Ui),this._config=Zn({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return m.prototype.config=function(g){if((typeof g>"u"?"undefined":o(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var T in g){if(T==="storeName"&&(g[T]=g[T].replace(/\W/g,"_")),T==="version"&&typeof g[T]!="number")return new Error("Database version must be a number.");this._config[T]=g[T]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},m.prototype.defineDriver=function(g,T,I){var j=new c(function(q,M){try{var $=g._driver,B=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){M(B);return}for(var F=Qn.concat("_initStorage"),V=0,oe=F.length;V<oe;V++){var _e=F[V],ye=!Gi(On,_e);if((ye||g[_e])&&typeof g[_e]!="function"){M(B);return}}var Pe=function(){for(var hn=function(Xi){return function(){var eo=new Error("Method "+Xi+" is not implemented by the current driver"),wa=c.reject(eo);return d(wa,arguments[arguments.length-1]),wa}},Xn=0,Zi=On.length;Xn<Zi;Xn++){var ea=On[Xn];g[ea]||(g[ea]=hn(ea))}};Pe();var Re=function(hn){cn[$]&&console.info("Redefining LocalForage driver: "+$),cn[$]=g,ya[$]=hn,q()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(Re,M):Re(!!g._support):Re(!0)}catch(Ge){M(Ge)}});return p(j,T,I),j},m.prototype.driver=function(){return this._driver||null},m.prototype.getDriver=function(g,T,I){var j=cn[g]?c.resolve(cn[g]):c.reject(new Error("Driver not found."));return p(j,T,I),j},m.prototype.getSerializer=function(g){var T=c.resolve(wt);return p(T,g),T},m.prototype.ready=function(g){var T=this,I=T._driverSet.then(function(){return T._ready===null&&(T._ready=T._initDriver()),T._ready});return p(I,g,g),I},m.prototype.setDriver=function(g,T,I){var j=this;ba(g)||(g=[g]);var q=this._getSupportedDrivers(g);function M(){j._config.driver=j.driver()}function $(V){return j._extend(V),M(),j._ready=j._initStorage(j._config),j._ready}function B(V){return function(){var oe=0;function _e(){for(;oe<V.length;){var ye=V[oe];return oe++,j._dbInfo=null,j._ready=null,j.getDriver(ye).then($).catch(_e)}M();var Pe=new Error("No available storage method found.");return j._driverSet=c.reject(Pe),j._driverSet}return _e()}}var F=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=F.then(function(){var V=q[0];return j._dbInfo=null,j._ready=null,j.getDriver(V).then(function(oe){j._driver=oe._driver,M(),j._wrapLibraryMethodsWithReady(),j._initDriver=B(q)})}).catch(function(){M();var V=new Error("No available storage method found.");return j._driverSet=c.reject(V),j._driverSet}),p(this._driverSet,T,I),this._driverSet},m.prototype.supports=function(g){return!!ya[g]},m.prototype._extend=function(g){Zn(this,g)},m.prototype._getSupportedDrivers=function(g){for(var T=[],I=0,j=g.length;I<j;I++){var q=g[I];this.supports(q)&&T.push(q)}return T},m.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,T=Qn.length;g<T;g++)Vi(this,Qn[g])},m.prototype.createInstance=function(g){return new m(g)},m}(),Qi=new Yi;n.exports=Qi},{3:3}]},{},[4])(4)})})(Ri);var wo=Ri.exports;const Ia=yo(wo);function Yt(a,e){const{subscribe:t,set:n,update:i}=Vt(e);return Ia.getItem(a).then(o=>{o!=null?Array.isArray(e)?n(Array.isArray(o)?o:e):n(typeof e=="object"&&e!==null&&typeof o=="object"&&o!==null?{...e,...o}:o):n(e)}).catch(o=>{console.error(`Error reading from IndexedDB for key ${a}:`,o)}),t(o=>{Ia.setItem(a,o).catch(r=>{console.error(`Error writing to IndexedDB for key ${a}:`,r)})}),{subscribe:t,set:n,update:i}}const et=Yt("kanjiGo_language","en"),ot=Yt("kanjiGo_masteryProgress",{hiragana:[],katakana:[],vocabulary:[],kanji:[]}),Jt=Yt("kanjiGo_theme","system"),Qt=Yt("kanjiGo_gamificationProgress",{currentStreak:0,longestStreak:0,lastStudyDate:null,totalPoints:0}),na=Yt("kanjiGo_notes",[]),ra=Yt("kanjiGo_furiganaVisibility",!0),Fn=Vt({}),xn=Vt("en"),Kn=Vt(!1);async function jo(){const a=xe(et);await Oi(a),xn.set(a),Kn.set(!0)}async function Oi(a){try{const e=await fetch(`./locales/${a}.json`);if(!e.ok)throw new Error(`Could not load translations for ${a}`);const t=await e.json();Fn.set(t)}catch(e){console.error("Error loading translations:",e);const n=await(await fetch("./locales/en.json")).json();Fn.set(n),et.set("en"),xn.set("en")}}const de=$n(Fn,a=>e=>a[e]||`MISSING_TRANSLATION_${e}`);et.subscribe(async a=>{a&&xe(xn)!==a&&(Kn.set(!1),await Oi(a),xn.set(a),Kn.set(!0))});function Sa(a,e,t){const n=a.slice();return n[8]=e[t],n}function Wa(a,e){let t,n,i=e[8].kana+"",o,r,u,s=e[8].romaji+"",l,h,c,d;function p(){return e[5](e[8])}function k(..._){return e[6](e[8],..._)}return{key:a,first:null,c(){t=v("div"),n=v("span"),o=z(i),r=A(),u=v("span"),l=z(s),h=A(),w(n,"class","kana-char svelte-1yxdd93"),w(u,"class","romaji svelte-1yxdd93"),w(t,"class","kana-item svelte-1yxdd93"),w(t,"role","button"),w(t,"tabindex","0"),he(t,"mastered",e[2].includes(e[8].id)),this.first=t},m(_,y){O(_,t,y),f(t,n),f(n,o),f(t,r),f(t,u),f(u,l),f(t,h),c||(d=[X(t,"click",p),X(t,"keydown",k)],c=!0)},p(_,y){e=_,y&1&&i!==(i=e[8].kana+"")&&W(o,i),y&1&&s!==(s=e[8].romaji+"")&&W(l,s),y&5&&he(t,"mastered",e[2].includes(e[8].id))},d(_){_&&R(t),c=!1,De(d)}}}function To(a){let e,t,n=(a[1]==="hiragana"?a[3]("hiragana_chart"):a[3]("katakana_chart"))+"",i,o,r,u=[],s=new Map,l=pe(a[0]);const h=c=>c[8].id;for(let c=0;c<l.length;c+=1){let d=Sa(a,l,c),p=h(d);s.set(p,u[c]=Wa(p,d))}return{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("div");for(let c=0;c<u.length;c+=1)u[c].c();w(r,"class","grid svelte-1yxdd93"),w(e,"class","kana-chart svelte-1yxdd93")},m(c,d){O(c,e,d),f(e,t),f(t,i),f(e,o),f(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null)},p(c,[d]){d&10&&n!==(n=(c[1]==="hiragana"?c[3]("hiragana_chart"):c[3]("katakana_chart"))+"")&&W(i,n),d&21&&(l=pe(c[0]),u=yn(u,d,h,1,c,l,s,r,bn,Wa,null,Sa))},i:ee,o:ee,d(c){c&&R(e);for(let d=0;d<u.length;d+=1)u[d].d()}}}function zo(a,e,t){let{kanaData:n=[]}=e,{type:i=""}=e,{masteredIds:o=[]}=e,{t:r}=e;const u=vn();function s(c){u("selectKana",c)}const l=c=>s(c),h=(c,d)=>{(d.key==="Enter"||d.key===" ")&&s(c)};return a.$$set=c=>{"kanaData"in c&&t(0,n=c.kanaData),"type"in c&&t(1,i=c.type),"masteredIds"in c&&t(2,o=c.masteredIds),"t"in c&&t(3,r=c.t)},[n,i,o,r,s,l,h]}class Ea extends qe{constructor(e){super(),Ce(this,e,zo,To,Ae,{kanaData:0,type:1,masteredIds:2,t:3})}}const sa=[{id:"k_one",kanji:"一",onyomi:["ichi"],kunyomi:["hito(tsu)"],meaning:"One",examples:["v_one"],strokeOrderImg:"/assets/kanji/ichi_stroke.svg"},{id:"k_two",kanji:"二",onyomi:["ni"],kunyomi:["futa(tsu)"],meaning:"Two",examples:["v_two"],strokeOrderImg:"/assets/kanji/ni_stroke.svg"},{id:"k_three",kanji:"三",onyomi:["san"],kunyomi:["mi(ttsu)"],meaning:"Three",examples:["v_three"],strokeOrderImg:"/assets/kanji/san_stroke.svg"},{id:"k_four",kanji:"四",onyomi:["shi"],kunyomi:["yo(ttsu)"],meaning:"Four",examples:["v_four"],strokeOrderImg:"/assets/kanji/yon_stroke.svg"},{id:"k_five",kanji:"五",onyomi:["go"],kunyomi:["itsu(tsu)"],meaning:"Five",examples:["v_five"],strokeOrderImg:"/assets/kanji/go_stroke.svg"},{id:"k_six",kanji:"六",onyomi:["roku"],kunyomi:["mu(ttsu)"],meaning:"Six",examples:["v_six"],strokeOrderImg:"/assets/kanji/roku_stroke.svg"},{id:"k_seven",kanji:"七",onyomi:["shichi"],kunyomi:["nana(tsu)"],meaning:"Seven",examples:["v_seven"],strokeOrderImg:"/assets/kanji/nana_stroke.svg"},{id:"k_eight",kanji:"八",onyomi:["hachi"],kunyomi:["ya(ttsu)"],meaning:"Eight",examples:["v_eight"],strokeOrderImg:"/assets/kanji/hachi_stroke.svg"},{id:"k_nine",kanji:"九",onyomi:["kyuu","ku"],kunyomi:["koko(no)"],meaning:"Nine",examples:["v_nine"],strokeOrderImg:"/assets/kanji/kyuu_stroke.svg"},{id:"k_ten",kanji:"十",onyomi:["juu"],kunyomi:["too"],meaning:"Ten",examples:["v_ten"],strokeOrderImg:"/assets/kanji/juu_stroke.svg"},{id:"k_hundred",kanji:"百",onyomi:["hyaku"],kunyomi:[],meaning:"Hundred",examples:["v_hyaku"],strokeOrderImg:"/assets/kanji/hyaku_stroke.svg"},{id:"k_thousand",kanji:"千",onyomi:["sen"],kunyomi:[],meaning:"Thousand",examples:["v_sen"],strokeOrderImg:"/assets/kanji/sen_stroke.svg"},{id:"k_moon",kanji:"月",onyomi:["getsu"],kunyomi:["tsuki"],meaning:"Moon, Month",examples:["v_rai_getsu"],strokeOrderImg:"/assets/kanji/tsuki_stroke.svg"},{id:"k_fire",kanji:"火",onyomi:["ka"],kunyomi:["hi"],meaning:"Fire",examples:[],strokeOrderImg:"/assets/kanji/hi_stroke.svg"},{id:"k_water",kanji:"水",onyomi:["sui"],kunyomi:["mizu"],meaning:"Water",examples:["v_mizu"],strokeOrderImg:"/assets/kanji/mizu_stroke.svg"},{id:"k_tree",kanji:"木",onyomi:["moku"],kunyomi:["ki"],meaning:"Tree, Wood",examples:[],strokeOrderImg:"/assets/kanji/ki_stroke.svg"},{id:"k_gold",kanji:"金",onyomi:["kin"],kunyomi:["kane"],meaning:"Gold, Money, Metal",examples:[],strokeOrderImg:"/assets/kanji/kane_stroke.svg"},{id:"k_earth",kanji:"土",onyomi:["do"],kunyomi:["tsuchi"],meaning:"Earth, Soil",examples:[],strokeOrderImg:"/assets/kanji/tsuchi_stroke.svg"},{id:"k_day",kanji:"日",onyomi:["nichi"],kunyomi:["hi"],meaning:"Day, Sun",examples:[],strokeOrderImg:"/assets/kanji/hi_day_stroke.svg"},{id:"k_year",kanji:"年",onyomi:["nen"],kunyomi:["toshi"],meaning:"Year",examples:[],strokeOrderImg:"/assets/kanji/toshi_stroke.svg"},{id:"k_time",kanji:"時",onyomi:["ji"],kunyomi:["toki"],meaning:"Time, Hour",examples:[],strokeOrderImg:"/assets/kanji/toki_stroke.svg"},{id:"k_man",kanji:"男",onyomi:["dan"],kunyomi:["otoko"],meaning:"Man",examples:["v_otoko","v_otoko_no_ko"],strokeOrderImg:"/assets/kanji/otoko_stroke.svg"},{id:"k_woman",kanji:"女",onyomi:["jo"],kunyomi:["onna"],meaning:"Woman",examples:["v_onna","v_onna_no_ko"],strokeOrderImg:"/assets/kanji/onna_stroke.svg"},{id:"k_child",kanji:"子",onyomi:["shi"],kunyomi:["ko"],meaning:"Child",examples:["v_kodomo","v_kodomo_tachi"],strokeOrderImg:"/assets/kanji/ko_stroke.svg"},{id:"k_person",kanji:"人",onyomi:["nin","jin"],kunyomi:["hito"],meaning:"Person",examples:["v_nihon_jin","v_gai_jin"],strokeOrderImg:"/assets/kanji/hito_stroke.svg"},{id:"k_hand",kanji:"手",onyomi:["shu"],kunyomi:["te"],meaning:"Hand",examples:["v_hidari_te","v_migi_te"],strokeOrderImg:"/assets/kanji/te_stroke.svg"},{id:"k_ear",kanji:"耳",onyomi:["ji"],kunyomi:["mimi"],meaning:"Ear",examples:["v_mimi_tubu"],strokeOrderImg:"/assets/kanji/mimi_stroke.svg"},{id:"k_mouth",kanji:"口",onyomi:["kō"],kunyomi:["kuchi"],meaning:"Mouth",examples:["v_kuchi_biru"],strokeOrderImg:"/assets/kanji/kuchi_stroke.svg"},{id:"k_eye",kanji:"目",onyomi:["moku"],kunyomi:["me"],meaning:"Eye",examples:["v_me_dama"],strokeOrderImg:"/assets/kanji/me_stroke.svg"},{id:"k_foot",kanji:"足",onyomi:["soku"],kunyomi:["ashi"],meaning:"Foot, Leg",examples:["v_ashi_kubi"],strokeOrderImg:"/assets/kanji/ashi_stroke.svg"},{id:"k_heart",kanji:"心",onyomi:["shin"],kunyomi:["kokoro"],meaning:"Heart",examples:["v_kokoro_gokoro"],strokeOrderImg:"/assets/kanji/kokoro_stroke.svg"},{id:"k_sky",kanji:"空",onyomi:["kū"],kunyomi:["sora"],meaning:"Sky, Air",examples:["v_sora","v_sora_tobi"],strokeOrderImg:"/assets/kanji/sora_stroke.svg"},{id:"k_heaven",kanji:"天",onyomi:["ten"],kunyomi:[],meaning:"Heaven",examples:["v_ten_goku"],strokeOrderImg:"/assets/kanji/ten_stroke.svg"},{id:"k_mountain",kanji:"山",onyomi:["san"],kunyomi:["yama"],meaning:"Mountain",examples:["v_yama","v_yama_kawa"],strokeOrderImg:"/assets/kanji/yama_stroke.svg"},{id:"k_rain",kanji:"雨",onyomi:[],kunyomi:["ame"],meaning:"Rain",examples:["v_oo_ame"],strokeOrderImg:"/assets/kanji/ame_stroke.svg"},{id:"k_dog",kanji:"犬",onyomi:["ken"],kunyomi:["inu"],meaning:"Dog",examples:["v_inu","v_ko_inu"],strokeOrderImg:"/assets/kanji/inu_stroke.svg"},{id:"k_bug",kanji:"虫",onyomi:["chū"],kunyomi:["mushi"],meaning:"Bug",examples:["v_kon_chuu"],strokeOrderImg:"/assets/kanji/mushi_stroke.svg"},{id:"k_me",kanji:"私",onyomi:["shi"],kunyomi:["watashi"],meaning:"Me, Private",examples:["v_watashi_tachi"],strokeOrderImg:"/assets/kanji/watashi_stroke.svg"},{id:"k_go",kanji:"行",onyomi:["kō","gyō"],kunyomi:["i(ku)"],meaning:"Go, Conduct",examples:["v_ikimasu","v_ryo_kou"],strokeOrderImg:"/assets/kanji/iku_stroke.svg"},{id:"k_come",kanji:"来",onyomi:["rai"],kunyomi:["ku(ru)","ki(masu)"],meaning:"Come, Next",examples:["v_kimasu"],strokeOrderImg:"/assets/kanji/kuru_stroke.svg"},{id:"k_book",kanji:"本",onyomi:["hon"],kunyomi:["moto"],meaning:"Book, Origin, True",examples:["v_hon_o_yomu","v_hon_ya"],strokeOrderImg:"/assets/kanji/hon_stroke.svg"},{id:"k_spirit",kanji:"気",onyomi:["ki"],kunyomi:[],meaning:"Spirit, Mind, Air, Atmosphere",examples:["v_genki","v_gen_ki"],strokeOrderImg:"/assets/kanji/ki_spirit_stroke.svg"},{id:"k_country",kanji:"国",onyomi:["koku"],kunyomi:["kuni"],meaning:"Country",examples:["v_gai_koku"],strokeOrderImg:"/assets/kanji/kuni_stroke.svg"},{id:"k_meet",kanji:"会",onyomi:["kai"],kunyomi:["a(u)"],meaning:"Meet, Association",examples:["v_au","v_kai_sha"],strokeOrderImg:"/assets/kanji/au_stroke.svg"},{id:"k_house",kanji:"家",onyomi:["ka"],kunyomi:["ie"],meaning:"House, Family",examples:["v_ie_ji"],strokeOrderImg:"/assets/kanji/ie_stroke.svg"},{id:"k_front",kanji:"前",onyomi:["zen"],kunyomi:["mae"],meaning:"Before, Front",examples:["v_mae_mae"],strokeOrderImg:"/assets/kanji/mae_stroke.svg"},{id:"k_target",kanji:"的",onyomi:["teki"],kunyomi:[],meaning:"Target, -like",examples:["v_moku_teki"],strokeOrderImg:"/assets/kanji/teki_stroke.svg"},{id:"k_direction",kanji:"方",onyomi:["hō"],kunyomi:["kata"],meaning:"Direction, Person",examples:["v_hou_hou"],strokeOrderImg:"/assets/kanji/kata_stroke.svg"},{id:"k_enter",kanji:"入",onyomi:["nyū"],kunyomi:["i(ru)"],meaning:"Enter, Insert",examples:["v_hairu","v_nyuu_gaku"],strokeOrderImg:"/assets/kanji/iru_stroke.svg"},{id:"k_small",kanji:"小",onyomi:["shō"],kunyomi:["chii(sai)"],meaning:"Small",examples:["v_chiisai","v_shou_gakkou"],strokeOrderImg:"/assets/kanji/chiisai_stroke.svg"},{id:"k_ground",kanji:"地",onyomi:["chi","ji"],kunyomi:[],meaning:"Ground, Earth",examples:["v_chi_hyou"],strokeOrderImg:"/assets/kanji/chi_stroke.svg"},{id:"k_fit",kanji:"合",onyomi:["gō"],kunyomi:["a(u)"],meaning:"Fit, Join",examples:["v_ba_ai"],strokeOrderImg:"/assets/kanji/au_fit_stroke.svg"},{id:"k_after",kanji:"後",onyomi:["go"],kunyomi:["ato"],meaning:"After, Behind",examples:["v_go_go"],strokeOrderImg:"/assets/kanji/ato_stroke.svg"},{id:"k_stand",kanji:"立",onyomi:["ritsu"],kunyomi:["ta(tsu)"],meaning:"Stand, Establish",examples:["v_tatsu","v_tachi_ba"],strokeOrderImg:"/assets/kanji/tatsu_stroke.svg"},{id:"k_part",kanji:"部",onyomi:["bu"],kunyomi:[],meaning:"Part, Section",examples:["v_bu_bun"],strokeOrderImg:"/assets/kanji/bu_stroke.svg"},{id:"k_study",kanji:"学",onyomi:["gaku"],kunyomi:["mana(bu)"],meaning:"Study, Learning",examples:["v_benkyou_suru","v_gaku_sei"],strokeOrderImg:"/assets/kanji/manabu_stroke.svg"},{id:"k_thing",kanji:"物",onyomi:["butsu"],kunyomi:["mono"],meaning:"Thing, Object",examples:["v_mono_goto"],strokeOrderImg:"/assets/kanji/mono_stroke.svg"},{id:"k_rice_field",kanji:"田",onyomi:["den"],kunyomi:["ta"],meaning:"Rice Field",examples:["v_ta_ue"],strokeOrderImg:"/assets/kanji/ta_stroke.svg"},{id:"k_long",kanji:"長",onyomi:["chō"],kunyomi:["naga(i)"],meaning:"Long, Leader",examples:["v_chou_jo"],strokeOrderImg:"/assets/kanji/nagai_stroke.svg"},{id:"k_place",kanji:"場",onyomi:["jō"],kunyomi:["ba"],meaning:"Place, Scene",examples:["v_ichiba"],strokeOrderImg:"/assets/kanji/ba_stroke.svg"},{id:"k_substitute",kanji:"代",onyomi:["dai"],kunyomi:["kawari"],meaning:"Substitute, Generation",examples:["v_dai_hyou"],strokeOrderImg:"/assets/kanji/kawari_stroke.svg"},{id:"k_down",kanji:"下",onyomi:["ka"],kunyomi:["shita"],meaning:"Down, Below",examples:["v_shita_gaki"],strokeOrderImg:"/assets/kanji/shita_stroke.svg"}],Ut=[{id:"v_konnichiwa",kana:"こんにちは",romaji:"konnichiwa",en:"Hello","zh-TW":"你好",themes:["greetings","daily_life"]},{id:"v_arigato",kana:"ありがとう",romaji:"arigato",en:"Thank you","zh-TW":"謝謝",themes:["greetings","daily_life"]},{id:"v_ohayo",kana:"おはよう",romaji:"ohayou",en:"Good morning","zh-TW":"早安",themes:["greetings","daily_life"]},{id:"v_konbanwa",kana:"こんばんは",romaji:"konbanwa",en:"Good evening","zh-TW":"晚安",themes:["greetings","daily_life"]},{id:"v_oyasumi",kana:"おやすみ",romaji:"oyasumi",en:"Good night","zh-TW":"晚安",themes:["greetings","daily_life"]},{id:"v_sayonara",kana:"さようなら",romaji:"sayounara",en:"Goodbye","zh-TW":"再見",themes:["greetings","daily_life"]},{id:"v_sumimasen",kana:"すみません",romaji:"sumimasen",en:"Excuse me / Sorry","zh-TW":"不好意思 / 抱歉",themes:["greetings","daily_life"]},{id:"v_gomenasai",kana:"ごめんなさい",romaji:"gomen nasai",en:"I'm sorry","zh-TW":"對不起",themes:["greetings","daily_life"]},{id:"v_onegai",kana:"おねがいします",romaji:"onegai shimasu",en:"Please / I beg of you","zh-TW":"拜託了",themes:["greetings","daily_life"]},{id:"v_hai",kana:"はい",romaji:"hai",en:"Yes","zh-TW":"是",themes:["basic"]},{id:"v_iie",kana:"いいえ",romaji:"iie",en:"No","zh-TW":"不",themes:["basic"]},{id:"v_wakarimasu",kana:"わかります",romaji:"wakarimasu",en:"I understand","zh-TW":"我懂了",themes:["basic"]},{id:"v_wakarimasen",kana:"わかりません",romaji:"wakarimasen",en:"I don't understand","zh-TW":"我不懂",themes:["basic"]},{id:"v_nihongo",kana:"にほんご",romaji:"nihongo",en:"Japanese language","zh-TW":"日語",themes:["language"]},{id:"v_eigo",kana:"えいご",romaji:"eigo",en:"English language","zh-TW":"英語",themes:["language"]},{id:"v_namae",kana:"なまえ",romaji:"namae",en:"Name","zh-TW":"名字",themes:["basic"]},{id:"v_oishii",kana:"おいしい",romaji:"oishii",en:"Delicious","zh-TW":"好吃",themes:["food"]},{id:"v_genki",kana:"げんき",romaji:"genki",en:"Healthy / Energetic","zh-TW":"健康 / 有精神",themes:["adjectives"]},{id:"v_kawaii",kana:"かわいい",romaji:"kawaii",en:"Cute","zh-TW":"可愛",themes:["adjectives"]},{id:"v_sugoi",kana:"すごい",romaji:"sugoi",en:"Amazing / Great","zh-TW":"厲害 / 棒",themes:["adjectives"]},{id:"v_ichigo",kana:"いちご",romaji:"ichigo",en:"Strawberry","zh-TW":"草莓",themes:["fruit"]},{id:"v_ringo",kana:"りんご",romaji:"ringo",en:"Apple","zh-TW":"蘋果",themes:["fruit"]},{id:"v_mikan",kana:"みかん",romaji:"mikan",en:"Mandarin orange","zh-TW":"橘子",themes:["fruit"]},{id:"v_banana",kana:"バナナ",romaji:"banana",en:"Banana","zh-TW":"香蕉",themes:["fruit"]},{id:"v_mizu",kana:"みず",romaji:"mizu",en:"Water","zh-TW":"水",themes:["drinks"]},{id:"v_ocha",kana:"おちゃ",romaji:"ocha",en:"Tea","zh-TW":"茶",themes:["drinks"]},{id:"v_kohii",kana:"コーヒー",romaji:"koohii",en:"Coffee","zh-TW":"咖啡",themes:["drinks"]},{id:"v_gyunyu",kana:"ぎゅうにゅう",romaji:"gyuunyuu",en:"Milk","zh-TW":"牛奶",themes:["drinks"]},{id:"v_pan",kana:"パン",romaji:"pan",en:"Bread","zh-TW":"麵包",themes:["food"]},{id:"v_gohan",kana:"ごはん",romaji:"gohan",en:"Cooked rice / Meal","zh-TW":"米飯 / 餐點",themes:["food"]},{id:"v_niku",kana:"にく",romaji:"niku",en:"Meat","zh-TW":"肉",themes:["food"]},{id:"v_sakana",kana:"さかな",romaji:"sakana",en:"Fish","zh-TW":"魚",themes:["food"]},{id:"v_yasai",kana:"やさい",romaji:"yasai",en:"Vegetable","zh-TW":"蔬菜",themes:["food"]},{id:"v_kudamono",kana:"くだもの",romaji:"kudamono",en:"Fruit","zh-TW":"水果",themes:["food"]},{id:"v_tabemasu",kana:"たべます",romaji:"tabemasu",en:"To eat","zh-TW":"吃",themes:["verbs","food"]},{id:"v_nomimasu",kana:"のみます",romaji:"nomimasu",en:"To drink","zh-TW":"喝",themes:["verbs","drinks"]},{id:"v_ikimasu",kana:"いきます",romaji:"ikimasu",en:"To go","zh-TW":"去",themes:["verbs","movement"]},{id:"v_kimasu",kana:"きます",romaji:"kimasu",en:"To come","zh-TW":"來",themes:["verbs","movement"]},{id:"v_kaerimasu",kana:"かえります",romaji:"kaerimasu",en:"To return","zh-TW":"回家 / 返回",themes:["verbs","movement"]},{id:"v_mimasu",kana:"みます",romaji:"mimasu",en:"To see / To watch","zh-TW":"看",themes:["verbs"]},{id:"v_kikimasu",kana:"ききます",romaji:"kikimasu",en:"To listen / To ask","zh-TW":"聽 / 問",themes:["verbs"]},{id:"v_hanashimasu",kana:"はなします",romaji:"hanashimasu",en:"To speak","zh-TW":"說",themes:["verbs"]},{id:"v_yomimasu",kana:"よみます",romaji:"yomimasu",en:"To read","zh-TW":"讀",themes:["verbs"]},{id:"v_kakimasu",kana:"かきます",romaji:"kakimasu",en:"To write","zh-TW":"寫",themes:["verbs"]},{id:"v_kaimasu",kana:"かいます",romaji:"kaimasu",en:"To buy","zh-TW":"買",themes:["verbs","shopping"]},{id:"v_tsukaimasu",kana:"つかいます",romaji:"tsukaimasu",en:"To use","zh-TW":"使用",themes:["verbs"]},{id:"v_shimasu",kana:"します",romaji:"shimasu",en:"To do","zh-TW":"做",themes:["verbs"]},{id:"v_desu",kana:"です",romaji:"desu",en:"Is / Am / Are","zh-TW":"是",themes:["grammar"]},{id:"v_arimasu",kana:"あります",romaji:"arimasu",en:"To exist (inanimate)","zh-TW":"有 (無生命)",themes:["grammar"]},{id:"v_imasu",kana:"います",romaji:"imasu",en:"To exist (animate)","zh-TW":"有 (有生命)",themes:["grammar"]},{id:"v_ii_desu",kana:"いいです",romaji:"ii desu",en:"It's good / It's fine","zh-TW":"很好 / 沒關係",themes:["expressions"]},{id:"v_dame_desu",kana:"だめです",romaji:"dame desu",en:"It's no good / Don't","zh-TW":"不行 / 不可以",themes:["expressions"]},{id:"v_one",kana:"いち",romaji:"ichi",en:"One","zh-TW":"一",themes:["numbers"]},{id:"v_two",kana:"に",romaji:"ni",en:"Two","zh-TW":"二",themes:["numbers"]},{id:"v_three",kana:"さん",romaji:"san",en:"Three","zh-TW":"三",themes:["numbers"]},{id:"v_four",kana:"よん",romaji:"yon",en:"Four","zh-TW":"四",themes:["numbers"]},{id:"v_five",kana:"ご",romaji:"go",en:"Five","zh-TW":"五",themes:["numbers"]},{id:"v_six",kana:"ろく",romaji:"roku",en:"Six","zh-TW":"六",themes:["numbers"]},{id:"v_seven",kana:"なな",romaji:"nana",en:"Seven","zh-TW":"七",themes:["numbers"]},{id:"v_eight",kana:"はち",romaji:"hachi",en:"Eight","zh-TW":"八",themes:["numbers"]},{id:"v_nine",kana:"きゅう",romaji:"kyuu",en:"Nine","zh-TW":"九",themes:["numbers"]},{id:"v_ten",kana:"じゅう",romaji:"juu",en:"Ten","zh-TW":"十",themes:["numbers"]},{id:"v_hyaku",kana:"ひゃく",romaji:"hyaku",en:"Hundred","zh-TW":"百",themes:["numbers"]},{id:"v_sen",kana:"せん",romaji:"sen",en:"Thousand","zh-TW":"千",themes:["numbers"]},{id:"v_man",kana:"まん",romaji:"man",en:"Ten thousand","zh-TW":"萬",themes:["numbers"]},{id:"v_doko",kana:"どこ",romaji:"doko",en:"Where","zh-TW":"哪裡",themes:["questions"]},{id:"v_itsu",kana:"いつ",romaji:"itsu",en:"When","zh-TW":"何時",themes:["questions"]},{id:"v_dare",kana:"だれ",romaji:"dare",en:"Who","zh-TW":"誰",themes:["questions"]},{id:"v_nani",kana:"なに",romaji:"nani",en:"What","zh-TW":"什麼",themes:["questions"]},{id:"v_dore",kana:"どれ",romaji:"dore",en:"Which (of three or more)","zh-TW":"哪個 (三個或以上)",themes:["questions"]},{id:"v_donata",kana:"どなた",romaji:"donata",en:"Who (polite)","zh-TW":"哪位 (禮貌)",themes:["questions"]},{id:"v_ikura",kana:"いくら",romaji:"ikura",en:"How much","zh-TW":"多少錢",themes:["questions","shopping"]},{id:"v_doushite",kana:"どうして",romaji:"doushite",en:"Why","zh-TW":"為什麼",themes:["questions"]},{id:"v_douyatte",kana:"どうやって",romaji:"douyatte",en:"How","zh-TW":"如何",themes:["questions"]},{id:"v_kore",kana:"これ",romaji:"kore",en:"This (near speaker)","zh-TW":"這個 (靠近說話者)",themes:["demonstratives"]},{id:"v_sore",kana:"それ",romaji:"sore",en:"That (near listener)","zh-TW":"那個 (靠近聽者)",themes:["demonstratives"]},{id:"v_are",kana:"あれ",romaji:"are",en:"That (far from both)","zh-TW":"那個 (離雙方都遠)",themes:["demonstratives"]},{id:"v_koko",kana:"ここ",romaji:"koko",en:"Here","zh-TW":"這裡",themes:["places"]},{id:"v_soko",kana:"そこ",romaji:"soko",en:"There (near listener)","zh-TW":"那裡 (靠近聽者)",themes:["places"]},{id:"v_asoko",kana:"あそこ",romaji:"asoko",en:"Over there (far from both)","zh-TW":"那裡 (離雙方都遠)",themes:["places"]},{id:"v_kyou",kana:"きょう",romaji:"kyou",en:"Today","zh-TW":"今天",themes:["time"]},{id:"v_ashita",kana:"あした",romaji:"ashita",en:"Tomorrow","zh-TW":"明天",themes:["time"]},{id:"v_kinou",kana:"きのう",romaji:"kinou",en:"Yesterday","zh-TW":"昨天",themes:["time"]},{id:"v_mainichi",kana:"まいにち",romaji:"mainichi",en:"Every day","zh-TW":"每天",themes:["time"]},{id:"v_maiban",kana:"まいばん",romaji:"maiban",en:"Every night","zh-TW":"每晚",themes:["time"]},{id:"v_maiasa",kana:"まいあさ",romaji:"maiasa",en:"Every morning","zh-TW":"每天早上",themes:["time"]},{id:"v_shuumatsu",kana:"しゅうまつ",romaji:"shuumatsu",en:"Weekend","zh-TW":"週末",themes:["time"]},{id:"v_sensei",kana:"せんせい",romaji:"sensei",en:"Teacher","zh-TW":"老師",themes:["people"]},{id:"v_gakusei",kana:"がくせい",romaji:"gakusei",en:"Student","zh-TW":"學生",themes:["people"]},{id:"v_tomodachi",kana:"ともだち",romaji:"tomodachi",en:"Friend","zh-TW":"朋友",themes:["people"]},{id:"v_kazoku",kana:"かぞく",romaji:"kazoku",en:"Family","zh-TW":"家人",themes:["people"]},{id:"v_otoko",kana:"おとこ",romaji:"otoko",en:"Man","zh-TW":"男人",themes:["people"]},{id:"v_onna",kana:"おんな",romaji:"onna",en:"Woman","zh-TW":"女人",themes:["people"]},{id:"v_kodomo",kana:"こども",romaji:"kodomo",en:"Child","zh-TW":"小孩",themes:["people"]},{id:"v_inu",kana:"いぬ",romaji:"inu",en:"Dog","zh-TW":"狗",themes:["animals"]},{id:"v_neko",kana:"ねこ",romaji:"neko",en:"Cat","zh-TW":"貓",themes:["animals"]},{id:"v_sakura",kana:"さくら",romaji:"sakura",en:"Cherry blossom","zh-TW":"櫻花",themes:["nature"]},{id:"v_yama",kana:"やま",romaji:"yama",en:"Mountain","zh-TW":"山",themes:["nature"]},{id:"v_kawa",kana:"かわ",romaji:"kawa",en:"River","zh-TW":"河",themes:["nature"]},{id:"v_umi",kana:"うみ",romaji:"umi",en:"Sea / Ocean","zh-TW":"海",themes:["nature"]},{id:"v_sora",kana:"そら",romaji:"sora",en:"Sky","zh-TW":"天空",themes:["nature"]},{id:"v_tenki",kana:"てんき",romaji:"tenki",en:"Weather","zh-TW":"天氣",themes:["nature"]},{id:"v_haru",kana:"はる",romaji:"haru",en:"Spring","zh-TW":"春天",themes:["seasons"]},{id:"v_natsu",kana:"なつ",romaji:"natsu",en:"Summer","zh-TW":"夏天",themes:["seasons"]},{id:"v_aki",kana:"あき",romaji:"aki",en:"Autumn","zh-TW":"秋天",themes:["seasons"]},{id:"v_fuyu",kana:"ふゆ",romaji:"fuyu",en:"Winter","zh-TW":"冬天",themes:["seasons"]},{id:"v_atsui",kana:"あつい",romaji:"atsui",en:"Hot (weather/thing)","zh-TW":"熱 (天氣/物品)",themes:["adjectives","weather"]},{id:"v_samui",kana:"さむい",romaji:"samui",en:"Cold (weather)","zh-TW":"冷 (天氣)",themes:["adjectives","weather"]},{id:"v_tsumetai",kana:"つめたい",romaji:"tsumetai",en:"Cold (thing)","zh-TW":"冷 (物品)",themes:["adjectives"]},{id:"v_muzukashii",kana:"むずかしい",romaji:"muzukashii",en:"Difficult","zh-TW":"困難",themes:["adjectives"]},{id:"v_yasashii",kana:"やさしい",romaji:"yasashii",en:"Easy / Kind","zh-TW":"簡單 / 親切",themes:["adjectives"]},{id:"v_takai",kana:"たかい",romaji:"takai",en:"Expensive / Tall","zh-TW":"貴 / 高",themes:["adjectives"]},{id:"v_yasui",kana:"やすい",romaji:"yasui",en:"Cheap / Easy","zh-TW":"便宜 / 容易",themes:["adjectives"]},{id:"v_ookii",kana:"おおきい",romaji:"ookii",en:"Big","zh-TW":"大",themes:["adjectives"]},{id:"v_chiisai",kana:"ちいさい",romaji:"chiisai",en:"Small","zh-TW":"小",themes:["adjectives"]},{id:"v_atarashii",kana:"あたらしい",romaji:"atarashii",en:"New","zh-TW":"新",themes:["adjectives"]},{id:"v_furui",kana:"ふるい",romaji:"furui",en:"Old","zh-TW":"舊",themes:["adjectives"]},{id:"v_ii",kana:"いい",romaji:"ii",en:"Good","zh-TW":"好",themes:["adjectives"]},{id:"v_warui",kana:"わるい",romaji:"warui",en:"Bad","zh-TW":"壞",themes:["adjectives"]},{id:"v_omoshiroi",kana:"おもしろい",romaji:"omoshiroi",en:"Interesting","zh-TW":"有趣",themes:["adjectives"]},{id:"v_tsumaranai",kana:"つまらない",romaji:"tsumaranai",en:"Boring","zh-TW":"無聊",themes:["adjectives"]},{id:"v_ureshii",kana:"うれしい",romaji:"ureshii",en:"Happy","zh-TW":"開心",themes:["emotions"]},{id:"v_kanashii",kana:"かなしい",romaji:"kanashii",en:"Sad","zh-TW":"悲傷",themes:["emotions"]},{id:"v_okoru",kana:"おこる",romaji:"okoru",en:"To get angry","zh-TW":"生氣",themes:["verbs","emotions"]},{id:"v_neru",kana:"ねる",romaji:"neru",en:"To sleep","zh-TW":"睡覺",themes:["verbs","daily_life"]},{id:"v_okiru",kana:"おきる",romaji:"okiru",en:"To wake up","zh-TW":"起床",themes:["verbs","daily_life"]},{id:"v_benkyou_suru",kana:"べんきょうする",romaji:"benkyou suru",en:"To study","zh-TW":"學習",themes:["verbs","daily_life"]},{id:"v_shigoto_suru",kana:"しごとする",romaji:"shigoto suru",en:"To work","zh-TW":"工作",themes:["verbs","daily_life"]},{id:"v_ryokou_suru",kana:"りょこうする",romaji:"ryokou suru",en:"To travel","zh-TW":"旅行",themes:["verbs","travel"]},{id:"v_kankou_suru",kana:"かんこうする",romaji:"kankou suru",en:"To sightsee","zh-TW":"觀光",themes:["verbs","travel"]},{id:"v_kaimono_suru",kana:"かいものする",romaji:"kaimono suru",en:"To shop","zh-TW":"購物",themes:["verbs","shopping"]},{id:"v_ryouri_suru",kana:"りょうりする",romaji:"ryouri suru",en:"To cook","zh-TW":"烹飪",themes:["verbs","food"]},{id:"v_undou_suru",kana:"うんどうする",romaji:"undou suru",en:"To exercise","zh-TW":"運動",themes:["verbs","daily_life"]},{id:"v_sanpo_suru",kana:"さんぽする",romaji:"sanpo suru",en:"To take a walk","zh-TW":"散步",themes:["verbs","daily_life"]},{id:"v_denwa_suru",kana:"でんわする",romaji:"denwa suru",en:"To make a phone call","zh-TW":"打電話",themes:["verbs","communication"]},{id:"v_shashin_o_toru",kana:"しゃしんをとる",romaji:"shashin o toru",en:"To take a picture","zh-TW":"拍照",themes:["verbs","hobbies"]},{id:"v_ongaku_o_kiku",kana:"おんがくをきく",romaji:"ongaku o kiku",en:"To listen to music","zh-TW":"聽音樂",themes:["verbs","hobbies"]},{id:"v_hon_o_yomu",kana:"ほんをよむ",romaji:"hon o yomu",en:"To read a book","zh-TW":"讀書",themes:["verbs","hobbies"]},{id:"v_terebi_o_miru",kana:"テレビをみる",romaji:"terebi o miru",en:"To watch TV","zh-TW":"看電視",themes:["verbs","hobbies"]},{id:"v_eiga_o_miru",kana:"えいがをみる",romaji:"eiga o miru",en:"To watch a movie","zh-TW":"看電影",themes:["verbs","hobbies"]},{id:"v_shokuji_o_suru",kana:"しょくじをする",romaji:"shokuji o suru",en:"To have a meal","zh-TW":"用餐",themes:["verbs","daily_life"]},{id:"v_asobu",kana:"あそぶ",romaji:"asobu",en:"To play / To hang out","zh-TW":"玩 / 閒逛",themes:["verbs","daily_life"]},{id:"v_hairu",kana:"はいる",romaji:"hairu",en:"To enter","zh-TW":"進入",themes:["verbs","movement"]},{id:"v_deru",kana:"でる",romaji:"deru",en:"To exit","zh-TW":"出去",themes:["verbs","movement"]},{id:"v_tsukuru",kana:"つくる",romaji:"tsukuru",en:"To make / To create","zh-TW":"製作 / 創造",themes:["verbs"]},{id:"v_uru",kana:"うる",romaji:"uru",en:"To sell","zh-TW":"賣",themes:["verbs","shopping"]},{id:"v_shiru",kana:"しる",romaji:"shiru",en:"To know","zh-TW":"知道",themes:["verbs"]},{id:"v_naru",kana:"なる",romaji:"naru",en:"To become","zh-TW":"變成",themes:["verbs"]},{id:"v_yobu",kana:"よぶ",romaji:"yobu",en:"To call","zh-TW":"呼叫",themes:["verbs","communication"]},{id:"v_motsu",kana:"もつ",romaji:"motsu",en:"To hold / To have","zh-TW":"持有 / 擁有",themes:["verbs"]},{id:"v_machu",kana:"まつ",romaji:"matsu",en:"To wait","zh-TW":"等待",themes:["verbs"]},{id:"v_au",kana:"あう",romaji:"au",en:"To meet","zh-TW":"見面",themes:["verbs","people"]},{id:"v_shinu",kana:"しぬ",romaji:"shinu",en:"To die","zh-TW":"死亡",themes:["verbs"]},{id:"v_isogu",kana:"いそぐ",romaji:"isogu",en:"To hurry","zh-TW":"趕快",themes:["verbs"]},{id:"v_kaesu",kana:"かえす",romaji:"kaesu",en:"To return (something)","zh-TW":"歸還 (某物)",themes:["verbs"]},{id:"v_kesu",kana:"けす",romaji:"kesu",en:"To turn off / To erase","zh-TW":"關閉 / 擦除",themes:["verbs"]},{id:"v_tatsu",kana:"たつ",romaji:"tatsu",en:"To stand","zh-TW":"站立",themes:["verbs"]},{id:"v_tobu",kana:"とぶ",romaji:"tobu",en:"To fly","zh-TW":"飛翔",themes:["verbs"]},{id:"v_noru",kana:"のる",romaji:"noru",en:"To ride","zh-TW":"乘坐",themes:["verbs","movement"]},{id:"v_hajimaru",kana:"はじまる",romaji:"hajimaru",en:"To begin (intransitive)","zh-TW":"開始 (不及物)",themes:["verbs"]},{id:"v_owaru",kana:"おわる",romaji:"owaru",en:"To end (intransitive)","zh-TW":"結束 (不及物)",themes:["verbs"]},{id:"v_tsukareru",kana:"つかれる",romaji:"tsukareru",en:"To get tired","zh-TW":"疲倦",themes:["verbs","emotions"]},{id:"v_tsukeru",kana:"つける",romaji:"tsukeru",en:"To turn on","zh-TW":"打開",themes:["verbs"]},{id:"v_akeru",kana:"あける",romaji:"akeru",en:"To open","zh-TW":"打開",themes:["verbs"]},{id:"v_shimeru",kana:"しめる",romaji:"shimeru",en:"To close","zh-TW":"關閉",themes:["verbs"]},{id:"v_oshieru",kana:"おしえる",romaji:"oshieru",en:"To teach","zh-TW":"教導",themes:["verbs"]},{id:"v_kariru",kana:"かりる",romaji:"kariru",en:"To borrow","zh-TW":"借",themes:["verbs"]},{id:"v_wasureu",kana:"わすれる",romaji:"wasureru",en:"To forget","zh-TW":"忘記",themes:["verbs"]},{id:"v_denwa_o_kakeru",kana:"でんわをかける",romaji:"denwa o kakeru",en:"To make a phone call","zh-TW":"打電話",themes:["verbs","communication"]},{id:"v_miseru",kana:"みせる",romaji:"miseru",en:"To show","zh-TW":"展示",themes:["verbs"]},{id:"v_otoko_no_ko",kana:"おとこのこ",romaji:"otoko no ko",en:"Boy","zh-TW":"男孩",themes:["people"]},{id:"v_onna_no_ko",kana:"おんなのこ",romaji:"onna no ko",en:"Girl","zh-TW":"女孩",themes:["people"]},{id:"v_kodomo_tachi",kana:"こどもたち",romaji:"kodomo tachi",en:"Children","zh-TW":"孩子們",themes:["people"]},{id:"v_nihon_jin",kana:"にほんじん",romaji:"nihon jin",en:"Japanese person","zh-TW":"日本人",themes:["people"]},{id:"v_gai_jin",kana:"がいじん",romaji:"gai jin",en:"Foreigner","zh-TW":"外國人",themes:["people"]},{id:"v_hidari_te",kana:"ひだりて",romaji:"hidarite",en:"Left hand","zh-TW":"左手",themes:["body_parts"]},{id:"v_migi_te",kana:"みぎて",romaji:"migite",en:"Right hand","zh-TW":"右手",themes:["body_parts"]},{id:"v_mimi_tubu",kana:"みみつぶ",romaji:"mimitubu",en:"Earlobe","zh-TW":"耳垂",themes:["body_parts"]},{id:"v_kuchi_biru",kana:"くちびる",romaji:"kuchibiru",en:"Lips","zh-TW":"嘴唇",themes:["body_parts"]},{id:"v_me_dama",kana:"めだま",romaji:"medama",en:"Eyeball","zh-TW":"眼球",themes:["body_parts"]},{id:"v_ashi_kubi",kana:"あしくび",romaji:"ashikubi",en:"Ankle","zh-TW":"腳踝",themes:["body_parts"]},{id:"v_kokoro_gokoro",kana:"こころごころ",romaji:"kokorogokoro",en:"Heartfelt","zh-TW":"心意",themes:["emotions"]},{id:"v_sora_tobi",kana:"そらとび",romaji:"soratobi",en:"Flying in the sky","zh-TW":"空中飛翔",themes:["nature"]},{id:"v_ten_goku",kana:"てんごく",romaji:"tengoku",en:"Heaven","zh-TW":"天堂",themes:["nature"]},{id:"v_yama_kawa",kana:"やまかわ",romaji:"yamakawa",en:"Mountains and rivers","zh-TW":"山川",themes:["nature"]},{id:"v_oo_ame",kana:"おおあめ",romaji:"ooame",en:"Heavy rain","zh-TW":"大雨",themes:["nature"]},{id:"v_ko_inu",kana:"こいぬ",romaji:"koinu",en:"Puppy","zh-TW":"小狗",themes:["animals"]},{id:"v_kon_chuu",kana:"こんちゅう",romaji:"konchuu",en:"Insect","zh-TW":"昆蟲",themes:["animals"]},{id:"v_watashi_tachi",kana:"わたしたち",romaji:"watashitachi",en:"We","zh-TW":"我們",themes:["people"]},{id:"v_ryo_kou",kana:"りょこう",romaji:"ryokou",en:"Travel","zh-TW":"旅行",themes:["travel"]},{id:"v_rai_getsu",kana:"らいげつ",romaji:"raigetsu",en:"Next month","zh-TW":"下個月",themes:["time"]},{id:"v_hon_ya",kana:"ほんや",romaji:"honya",en:"Bookstore","zh-TW":"書店",themes:["shopping"]},{id:"v_gen_ki",kana:"げんき",romaji:"genki",en:"Healthy","zh-TW":"健康",themes:["adjectives"]},{id:"v_gai_koku",kana:"がいこく",romaji:"gaikoku",en:"Foreign country","zh-TW":"外國",themes:["places"]},{id:"v_kai_sha",kana:"かいしゃ",romaji:"kaisha",en:"Company","zh-TW":"公司",themes:["daily_life"]},{id:"v_ie_ji",kana:"いえじ",romaji:"ieji",en:"Homeward path","zh-TW":"歸途",themes:["movement"]},{id:"v_mae_mae",kana:"まえまえ",romaji:"maemae",en:"Beforehand","zh-TW":"事前",themes:["time"]},{id:"v_moku_teki",kana:"もくてき",romaji:"mokuteki",en:"Purpose","zh-TW":"目的",themes:["basic"]},{id:"v_hou_hou",kana:"ほうほう",romaji:"houhou",en:"Method","zh-TW":"方法",themes:["basic"]},{id:"v_nyuu_gaku",kana:"にゅうがく",romaji:"nyuugaku",en:"Entrance to school","zh-TW":"入學",themes:["daily_life"]},{id:"v_shou_gakkou",kana:"しょうがっこう",romaji:"shougakkou",en:"Elementary school","zh-TW":"小學",themes:["daily_life"]},{id:"v_chi_hyou",kana:"ちひょう",romaji:"chihyou",en:"Surface of the earth","zh-TW":"地表",themes:["nature"]},{id:"v_ba_ai",kana:"ばあい",romaji:"baai",en:"Case / Situation","zh-TW":"情況",themes:["basic"]},{id:"v_go_go",kana:"ごご",romaji:"gogo",en:"Afternoon","zh-TW":"下午",themes:["time"]},{id:"v_tachi_ba",kana:"たちば",romaji:"tachiba",en:"Standpoint","zh-TW":"立場",themes:["basic"]},{id:"v_bu_bun",kana:"ぶぶん",romaji:"bubun",en:"Part","zh-TW":"部分",themes:["basic"]},{id:"v_gaku_sei",kana:"がくせい",romaji:"gakusei",en:"Student","zh-TW":"學生",themes:["people"]},{id:"v_mono_goto",kana:"ものごと",romaji:"monogoto",en:"Things","zh-TW":"事物",themes:["basic"]},{id:"v_ta_ue",kana:"たうえ",romaji:"taue",en:"Rice planting","zh-TW":"插秧",themes:["nature"]},{id:"v_chou_jo",kana:"ちょうじょ",romaji:"choujo",en:"Eldest daughter","zh-TW":"長女",themes:["people"]},{id:"v_ichi_ba",kana:"いちば",romaji:"ichiba",en:"Market","zh-TW":"市場",themes:["shopping"]},{id:"v_dai_hyou",kana:"だいひょう",romaji:"daihyou",en:"Representative","zh-TW":"代表",themes:["people"]},{id:"v_shita_gaki",kana:"したがき",romaji:"shitagaki",en:"Draft","zh-TW":"草稿",themes:["basic"]}];function Aa(a,e,t){const n=a.slice();return n[6]=e[t],n}function Ra(a){let e,t,n,i,o,r,u,s,l,h=a[1](a[6].meaning)+"",c,d,p,k,_;function y(){return a[3](a[6])}function S(...C){return a[4](a[6],...C)}return{c(){e=v("div"),t=v("div"),t.textContent=`${a[6].kanji}`,n=A(),i=v("div"),o=v("p"),o.textContent=`On: ${a[6].onyomi.join(", ")}`,r=A(),u=v("p"),u.textContent=`Kun: ${a[6].kunyomi.join(", ")}`,s=A(),l=v("div"),c=z(h),d=A(),w(t,"class","kanji-character svelte-p8bisk"),w(i,"class","kanji-readings svelte-p8bisk"),w(l,"class","kanji-meaning svelte-p8bisk"),w(e,"class",p="kanji-item "+(a[0].includes(a[6].id)?"mastered":"")+" svelte-p8bisk"),w(e,"role","button"),w(e,"tabindex","0")},m(C,x){O(C,e,x),f(e,t),f(e,n),f(e,i),f(i,o),f(i,r),f(i,u),f(e,s),f(e,l),f(l,c),f(e,d),k||(_=[X(e,"click",y),X(e,"keydown",S)],k=!0)},p(C,x){a=C,x&2&&h!==(h=a[1](a[6].meaning)+"")&&W(c,h),x&1&&p!==(p="kanji-item "+(a[0].includes(a[6].id)?"mastered":"")+" svelte-p8bisk")&&w(e,"class",p)},d(C){C&&R(e),k=!1,De(_)}}}function Io(a){let e,t,n=a[1]("kanji_chart")+"",i,o,r,u=pe(sa),s=[];for(let l=0;l<u.length;l+=1)s[l]=Ra(Aa(a,u,l));return{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("div");for(let l=0;l<s.length;l+=1)s[l].c();w(r,"class","kanji-grid svelte-p8bisk"),w(e,"class","kanji-chart svelte-p8bisk")},m(l,h){O(l,e,h),f(e,t),f(t,i),f(e,o),f(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null)},p(l,[h]){if(h&2&&n!==(n=l[1]("kanji_chart")+"")&&W(i,n),h&7){u=pe(sa);let c;for(c=0;c<u.length;c+=1){const d=Aa(l,u,c);s[c]?s[c].p(d,h):(s[c]=Ra(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=u.length}},i:ee,o:ee,d(l){l&&R(e),Ve(s,l)}}}function So(a,e,t){let n;fe(a,de,l=>t(1,n=l));let{masteredIds:i=[]}=e;const o=vn();function r(l){o("selectKanji",l),ot.update(h=>(h.kanji.includes(l.id)||h.kanji.push(l.id),h))}const u=l=>r(l),s=(l,h)=>{(h.key==="Enter"||h.key===" ")&&r(l)};return a.$$set=l=>{"masteredIds"in l&&t(0,i=l.masteredIds)},[i,n,r,u,s]}class Wo extends qe{constructor(e){super(),Ce(this,e,So,Io,Ae,{masteredIds:0})}}const Hn=[{id:"h_a",kana:"あ",romaji:"a"},{id:"h_i",kana:"い",romaji:"i"},{id:"h_u",kana:"う",romaji:"u"},{id:"h_e",kana:"え",romaji:"e"},{id:"h_o",kana:"お",romaji:"o"},{id:"h_ka",kana:"か",romaji:"ka"},{id:"h_ki",kana:"き",romaji:"ki"},{id:"h_ku",kana:"く",romaji:"ku"},{id:"h_ke",kana:"け",romaji:"ke"},{id:"h_ko",kana:"こ",romaji:"ko"},{id:"h_sa",kana:"さ",romaji:"sa"},{id:"h_shi",kana:"し",romaji:"shi"},{id:"h_su",kana:"す",romaji:"su"},{id:"h_se",kana:"せ",romaji:"se"},{id:"h_so",kana:"そ",romaji:"so"},{id:"h_ta",kana:"た",romaji:"ta"},{id:"h_chi",kana:"ち",romaji:"chi"},{id:"h_tsu",kana:"つ",romaji:"tsu"},{id:"h_te",kana:"て",romaji:"te"},{id:"h_to",kana:"と",romaji:"to"},{id:"h_na",kana:"な",romaji:"na"},{id:"h_ni",kana:"に",romaji:"ni"},{id:"h_nu",kana:"ぬ",romaji:"nu"},{id:"h_ne",kana:"ね",romaji:"ne"},{id:"h_no",kana:"の",romaji:"no"},{id:"h_ha",kana:"は",romaji:"ha"},{id:"h_hi",kana:"ひ",romaji:"hi"},{id:"h_fu",kana:"ふ",romaji:"fu"},{id:"h_he",kana:"へ",romaji:"he"},{id:"h_ho",kana:"ほ",romaji:"ho"},{id:"h_ma",kana:"ま",romaji:"ma"},{id:"h_mi",kana:"み",romaji:"mi"},{id:"h_mu",kana:"む",romaji:"mu"},{id:"h_me",kana:"め",romaji:"me"},{id:"h_mo",kana:"も",romaji:"mo"},{id:"h_ya",kana:"や",romaji:"ya"},{id:"h_yu",kana:"ゆ",romaji:"yu"},{id:"h_yo",kana:"よ",romaji:"yo"},{id:"h_ra",kana:"ら",romaji:"ra"},{id:"h_ri",kana:"り",romaji:"ri"},{id:"h_ru",kana:"る",romaji:"ru"},{id:"h_re",kana:"れ",romaji:"re"},{id:"h_ro",kana:"ろ",romaji:"ro"},{id:"h_wa",kana:"わ",romaji:"wa"},{id:"h_wo",kana:"を",romaji:"wo"},{id:"h_n",kana:"ん",romaji:"n"},{id:"h_ga",kana:"が",romaji:"ga"},{id:"h_gi",kana:"ぎ",romaji:"gi"},{id:"h_gu",kana:"ぐ",romaji:"gu"},{id:"h_ge",kana:"げ",romaji:"ge"},{id:"h_go",kana:"ご",romaji:"go"},{id:"h_za",kana:"ざ",romaji:"za"},{id:"h_ji",kana:"じ",romaji:"ji"},{id:"h_zu",kana:"ず",romaji:"zu"},{id:"h_ze",kana:"ぜ",romaji:"ze"},{id:"h_zo",kana:"ぞ",romaji:"zo"},{id:"h_da",kana:"だ",romaji:"da"},{id:"h_dji",kana:"ぢ",romaji:"ji"},{id:"h_dzu",kana:"づ",romaji:"zu"},{id:"h_de",kana:"で",romaji:"de"},{id:"h_do",kana:"ど",romaji:"do"},{id:"h_ba",kana:"ば",romaji:"ba"},{id:"h_bi",kana:"び",romaji:"bi"},{id:"h_bu",kana:"ぶ",romaji:"bu"},{id:"h_be",kana:"べ",romaji:"be"},{id:"h_bo",kana:"ぼ",romaji:"bo"},{id:"h_pa",kana:"ぱ",romaji:"pa"},{id:"h_pi",kana:"ぴ",romaji:"pi"},{id:"h_pu",kana:"ぷ",romaji:"pu"},{id:"h_pe",kana:"ぺ",romaji:"pe"},{id:"h_po",kana:"ぽ",romaji:"po"},{id:"h_kya",kana:"きゃ",romaji:"kya"},{id:"h_kyu",kana:"きゅ",romaji:"kyu"},{id:"h_kyo",kana:"きょ",romaji:"kyo"},{id:"h_sha",kana:"しゃ",romaji:"sha"},{id:"h_shu",kana:"しゅ",romaji:"shu"},{id:"h_sho",kana:"しょ",romaji:"sho"},{id:"h_cha",kana:"ちゃ",romaji:"cha"},{id:"h_chu",kana:"ちゅ",romaji:"chu"},{id:"h_cho",kana:"ちょ",romaji:"cho"},{id:"h_nya",kana:"にゃ",romaji:"nya"},{id:"h_nyu",kana:"にゅ",romaji:"nyu"},{id:"h_nyo",kana:"にょ",romaji:"nyo"},{id:"h_hya",kana:"ひゃ",romaji:"hya"},{id:"h_hyu",kana:"ひゅ",romaji:"hyu"},{id:"h_hyo",kana:"ひょ",romaji:"hyo"},{id:"h_mya",kana:"みゃ",romaji:"mya"},{id:"h_myu",kana:"みゅ",romaji:"myu"},{id:"h_myo",kana:"みょ",romaji:"myo"},{id:"h_rya",kana:"りゃ",romaji:"rya"},{id:"h_ryu",kana:"りゅ",romaji:"ryu"},{id:"h_ryo",kana:"りょ",romaji:"ryo"},{id:"h_gya",kana:"ぎゃ",romaji:"gya"},{id:"h_gyu",kana:"ぎゅ",romaji:"gyu"},{id:"h_gyo",kana:"ぎょ",romaji:"gyo"},{id:"h_ja",kana:"じゃ",romaji:"ja"},{id:"h_ju",kana:"じゅ",romaji:"ju"},{id:"h_jo",kana:"じょ",romaji:"jo"},{id:"h_bya",kana:"びゃ",romaji:"bya"},{id:"h_byu",kana:"びゅ",romaji:"byu"},{id:"h_byo",kana:"びょ",romaji:"byo"},{id:"h_pya",kana:"ぴゃ",romaji:"pya"},{id:"h_pyu",kana:"ぴゅ",romaji:"pyu"},{id:"h_pyo",kana:"ぴょ",romaji:"pyo"}],Gn=[{id:"k_a",kana:"ア",romaji:"a"},{id:"k_i",kana:"イ",romaji:"i"},{id:"k_u",kana:"ウ",romaji:"u"},{id:"k_e",kana:"エ",romaji:"e"},{id:"k_o",kana:"オ",romaji:"o"},{id:"k_ka",kana:"カ",romaji:"ka"},{id:"k_ki",kana:"キ",romaji:"ki"},{id:"k_ku",kana:"ク",romaji:"ku"},{id:"k_ke",kana:"ケ",romaji:"ke"},{id:"k_ko",kana:"コ",romaji:"ko"},{id:"k_sa",kana:"サ",romaji:"sa"},{id:"k_shi",kana:"シ",romaji:"shi"},{id:"k_su",kana:"ス",romaji:"su"},{id:"k_se",kana:"セ",romaji:"se"},{id:"k_so",kana:"ソ",romaji:"so"},{id:"k_ta",kana:"タ",romaji:"ta"},{id:"k_chi",kana:"チ",romaji:"chi"},{id:"k_tsu",kana:"ツ",romaji:"tsu"},{id:"k_te",kana:"テ",romaji:"te"},{id:"k_to",kana:"ト",romaji:"to"},{id:"k_na",kana:"ナ",romaji:"na"},{id:"k_ni",kana:"ニ",romaji:"ni"},{id:"k_nu",kana:"ヌ",romaji:"nu"},{id:"k_ne",kana:"ネ",romaji:"ne"},{id:"k_no",kana:"ノ",romaji:"no"},{id:"k_ha",kana:"ハ",romaji:"ha"},{id:"k_hi",kana:"ヒ",romaji:"hi"},{id:"k_fu",kana:"フ",romaji:"fu"},{id:"k_he",kana:"ヘ",romaji:"he"},{id:"k_ho",kana:"ホ",romaji:"ho"},{id:"k_ma",kana:"マ",romaji:"ma"},{id:"k_mi",kana:"ミ",romaji:"mi"},{id:"k_mu",kana:"ム",romaji:"mu"},{id:"k_me",kana:"メ",romaji:"me"},{id:"k_mo",kana:"モ",romaji:"mo"},{id:"k_ya",kana:"ヤ",romaji:"ya"},{id:"k_yu",kana:"ユ",romaji:"yu"},{id:"k_yo",kana:"ヨ",romaji:"yo"},{id:"k_ra",kana:"ラ",romaji:"ra"},{id:"k_ri",kana:"リ",romaji:"ri"},{id:"k_ru",kana:"ル",romaji:"ru"},{id:"k_re",kana:"レ",romaji:"re"},{id:"k_ro",kana:"ロ",romaji:"ro"},{id:"k_wa",kana:"ワ",romaji:"wa"},{id:"k_wo",kana:"ヲ",romaji:"wo"},{id:"k_n",kana:"ン",romaji:"n"},{id:"k_ga",kana:"ガ",romaji:"ga"},{id:"k_gi",kana:"ギ",romaji:"gi"},{id:"k_gu",kana:"グ",romaji:"gu"},{id:"k_ge",kana:"ゲ",romaji:"ge"},{id:"k_go",kana:"ゴ",romaji:"go"},{id:"k_za",kana:"ザ",romaji:"za"},{id:"k_ji",kana:"ジ",romaji:"ji"},{id:"k_zu",kana:"ズ",romaji:"zu"},{id:"k_ze",kana:"ゼ",romaji:"ze"},{id:"k_zo",kana:"ゾ",romaji:"zo"},{id:"k_da",kana:"ダ",romaji:"da"},{id:"k_dji",kana:"ヂ",romaji:"ji"},{id:"k_dzu",kana:"ヅ",romaji:"zu"},{id:"k_de",kana:"デ",romaji:"de"},{id:"k_do",kana:"ド",romaji:"do"},{id:"k_ba",kana:"バ",romaji:"ba"},{id:"k_bi",kana:"ビ",romaji:"bi"},{id:"k_bu",kana:"ブ",romaji:"bu"},{id:"k_be",kana:"ベ",romaji:"be"},{id:"k_bo",kana:"ボ",romaji:"bo"},{id:"k_pa",kana:"パ",romaji:"pa"},{id:"k_pi",kana:"ピ",romaji:"pi"},{id:"k_pu",kana:"プ",romaji:"pu"},{id:"k_pe",kana:"ペ",romaji:"pe"},{id:"k_po",kana:"ポ",romaji:"po"},{id:"k_kya",kana:"キャ",romaji:"kya"},{id:"k_kyu",kana:"キュ",romaji:"kyu"},{id:"k_kyo",kana:"キョ",romaji:"kyo"},{id:"k_sha",kana:"シャ",romaji:"sha"},{id:"k_shu",kana:"シュ",romaji:"shu"},{id:"k_sho",kana:"ショ",romaji:"sho"},{id:"k_cha",kana:"チャ",romaji:"cha"},{id:"k_chu",kana:"チュ",romaji:"chu"},{id:"k_cho",kana:"チョ",romaji:"cho"},{id:"k_nya",kana:"ニャ",romaji:"nya"},{id:"k_nyu",kana:"ニュ",romaji:"nyu"},{id:"k_nyo",kana:"ニョ",romaji:"nyo"},{id:"k_hya",kana:"ヒャ",romaji:"hya"},{id:"k_hyu",kana:"ヒュ",romaji:"hyu"},{id:"k_hyo",kana:"ヒョ",romaji:"hyo"},{id:"k_mya",kana:"ミャ",romaji:"mya"},{id:"k_myu",kana:"ミュ",romaji:"myu"},{id:"k_myo",kana:"ミョ",romaji:"myo"},{id:"k_rya",kana:"リャ",romaji:"rya"},{id:"k_ryu",kana:"リュ",romaji:"ryu"},{id:"k_ryo",kana:"リョ",romaji:"ryo"},{id:"k_gya",kana:"ギャ",romaji:"gya"},{id:"k_gyu",kana:"ギュ",romaji:"gyu"},{id:"k_gyo",kana:"ギョ",romaji:"gyo"},{id:"k_ja",kana:"ジャ",romaji:"ja"},{id:"k_ju",kana:"ジュ",romaji:"ju"},{id:"k_jo",kana:"ジョ",romaji:"jo"},{id:"k_bya",kana:"ビャ",romaji:"bya"},{id:"k_byu",kana:"ビュ",romaji:"byu"},{id:"k_byo",kana:"ビョ",romaji:"byo"},{id:"k_pya",kana:"ピャ",romaji:"pya"},{id:"k_pyu",kana:"ピュ",romaji:"pyu"},{id:"k_pyo",kana:"ピョ",romaji:"pyo"}];function Oa(a,e,t){const n=a.slice();return n[5]=e[t],n}function Ca(a,e){let t,n,i=e[5].kana+"",o,r,u,s=e[5].romaji+"",l,h,c,d=e[2](e[5])+"",p,k;return{key:a,first:null,c(){t=v("div"),n=v("span"),o=z(i),r=A(),u=v("span"),l=z(s),h=A(),c=v("span"),p=z(d),k=A(),w(n,"class","kana-char svelte-1uxgtae"),w(u,"class","romaji svelte-1uxgtae"),w(c,"class","translation svelte-1uxgtae"),w(t,"class","vocab-item svelte-1uxgtae"),this.first=t},m(_,y){O(_,t,y),f(t,n),f(n,o),f(t,r),f(t,u),f(u,l),f(t,h),f(t,c),f(c,p),f(t,k)},p(_,y){e=_,y&1&&i!==(i=e[5].kana+"")&&W(o,i),y&1&&s!==(s=e[5].romaji+"")&&W(l,s),y&1&&d!==(d=e[2](e[5])+"")&&W(p,d)},d(_){_&&R(t)}}}function Eo(a){let e,t,n=a[1]("vocabulary_list")+"",i,o,r,u=[],s=new Map,l=pe(a[0]);const h=c=>c[5].id;for(let c=0;c<l.length;c+=1){let d=Oa(a,l,c),p=h(d);s.set(p,u[c]=Ca(p,d))}return{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("div");for(let c=0;c<u.length;c+=1)u[c].c();w(r,"class","grid svelte-1uxgtae"),w(e,"class","vocabulary-list svelte-1uxgtae")},m(c,d){O(c,e,d),f(e,t),f(t,i),f(e,o),f(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null)},p(c,[d]){d&2&&n!==(n=c[1]("vocabulary_list")+"")&&W(i,n),d&5&&(l=pe(c[0]),u=yn(u,d,h,1,c,l,s,r,bn,Ca,null,Oa))},i:ee,o:ee,d(c){c&&R(e);for(let d=0;d<u.length;d+=1)u[d].d()}}}function Ao(a,e,t){let n,i;fe(a,de,s=>t(1,i=s));let{filterTheme:o="all"}=e,r=xe(et);et.subscribe(s=>r=s);function u(s){return s[r]||s.en}return a.$$set=s=>{"filterTheme"in s&&t(3,o=s.filterTheme)},a.$$.update=()=>{a.$$.dirty&8&&t(0,n=o==="all"?Ut:Ut.filter(s=>s.themes&&s.themes.includes(o)))},[n,i,u,o]}class Ro extends qe{constructor(e){super(),Ce(this,e,Ao,Eo,Ae,{filterTheme:3})}}function qa(a,e,t){const n=a.slice();return n[6]=e[t],n}function Pa(a){let e,t=a[2](a[6])+"",n,i;return{c(){e=v("option"),n=z(t),e.__value=i=a[6],Ne(e,e.__value)},m(o,r){O(o,e,r),f(e,n)},p(o,r){r&6&&t!==(t=o[2](o[6])+"")&&W(n,t),r&2&&i!==(i=o[6])&&(e.__value=i,Ne(e,e.__value))},d(o){o&&R(e)}}}function Oo(a){let e,t,n=a[2]("filter_by_theme")+"",i,o,r,u,s,l=a[2]("all_themes")+"",h,c,d,p=pe(a[1]),k=[];for(let _=0;_<p.length;_+=1)k[_]=Pa(qa(a,p,_));return{c(){e=v("div"),t=v("label"),i=z(n),o=z(":"),r=A(),u=v("select"),s=v("option"),h=z(l);for(let _=0;_<k.length;_+=1)k[_].c();w(t,"for","theme-select"),w(t,"class","svelte-1grftv8"),s.__value="all",Ne(s,s.__value),w(u,"id","theme-select"),w(u,"class","svelte-1grftv8"),a[0]===void 0&&_n(()=>a[4].call(u)),w(e,"class","vocabulary-filter svelte-1grftv8")},m(_,y){O(_,e,y),f(e,t),f(t,i),f(t,o),f(e,r),f(e,u),f(u,s),f(s,h);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(u,null);Ht(u,a[0],!0),c||(d=[X(u,"change",a[3]),X(u,"change",a[4])],c=!0)},p(_,[y]){if(y&4&&n!==(n=_[2]("filter_by_theme")+"")&&W(i,n),y&4&&l!==(l=_[2]("all_themes")+"")&&W(h,l),y&6){p=pe(_[1]);let S;for(S=0;S<p.length;S+=1){const C=qa(_,p,S);k[S]?k[S].p(C,y):(k[S]=Pa(C),k[S].c(),k[S].m(u,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=p.length}y&3&&Ht(u,_[0])},i:ee,o:ee,d(_){_&&R(e),Ve(k,_),c=!1,De(d)}}}function Co(a,e,t){let n;fe(a,de,l=>t(2,n=l));const i=vn();let{themes:o=[]}=e,{selectedTheme:r="all"}=e;function u(l){t(0,r=l.target.value),i("filterChange",r)}function s(){r=Ii(this),t(0,r),t(1,o)}return a.$$set=l=>{"themes"in l&&t(1,o=l.themes),"selectedTheme"in l&&t(0,r=l.selectedTheme)},[r,o,n,u,s]}class qo extends qe{constructor(e){super(),Ce(this,e,Co,Oo,Ae,{themes:1,selectedTheme:0})}}function Po(a){let e,t,n,i,o=a[1].kana+"",r,u,s,l,h=a[1].romaji+"",c,d,p;return{c(){e=v("div"),t=v("div"),n=v("div"),i=v("span"),r=z(o),u=A(),s=v("div"),l=v("span"),c=z(h),w(i,"class","kana-char svelte-19a0nql"),w(n,"class","flashcard-front svelte-19a0nql"),w(l,"class","romaji svelte-19a0nql"),w(s,"class","flashcard-back svelte-19a0nql"),w(t,"class","flashcard-inner svelte-19a0nql"),w(e,"class","flashcard svelte-19a0nql"),w(e,"role","button"),w(e,"tabindex","0"),he(e,"flipped",a[0])},m(k,_){O(k,e,_),f(e,t),f(t,n),f(n,i),f(i,r),f(t,u),f(t,s),f(s,l),f(l,c),d||(p=[X(e,"click",a[2]),X(e,"keydown",a[3])],d=!0)},p(k,[_]){_&2&&o!==(o=k[1].kana+"")&&W(r,o),_&2&&h!==(h=k[1].romaji+"")&&W(c,h),_&1&&he(e,"flipped",k[0])},i:ee,o:ee,d(k){k&&R(e),d=!1,De(p)}}}function Do(a,e,t){let{kana:n={}}=e,{flipped:i=!1}=e;const o=vn();function r(){t(0,i=!i),o("flip",{flipped:i})}const u=s=>{(s.key==="Enter"||s.key===" ")&&r()};return a.$$set=s=>{"kana"in s&&t(1,n=s.kana),"flipped"in s&&t(0,i=s.flipped)},[i,n,r,u]}class Mo extends qe{constructor(e){super(),Ce(this,e,Do,Po,Ae,{kana:1,flipped:0})}}function No(a){let e,t=a[3]("quiz_complete")+"",n,i,o,r=a[3]("start_new_quiz")+"",u,s,l;return{c(){e=v("p"),n=z(t),i=A(),o=v("button"),u=z(r)},m(h,c){O(h,e,c),f(e,n),O(h,i,c),O(h,o,c),f(o,u),s||(l=X(o,"click",a[4]),s=!0)},p(h,c){c&8&&t!==(t=h[3]("quiz_complete")+"")&&W(n,t),c&8&&r!==(r=h[3]("start_new_quiz")+"")&&W(u,r)},i:ee,o:ee,d(h){h&&(R(e),R(i),R(o)),s=!1,l()}}}function Lo(a){let e,t,n,i,o;function r(l){a[12](l)}let u={kana:a[1]};a[2]!==void 0&&(u.flipped=a[2]),e=new Mo({props:u}),gn.push(()=>Ai(e,"flipped",r)),e.$on("flip",a[5]);let s=a[2]&&Da(a);return{c(){Oe(e.$$.fragment),n=A(),s&&s.c(),i=rt()},m(l,h){We(e,l,h),O(l,n,h),s&&s.m(l,h),O(l,i,h),o=!0},p(l,h){const c={};h&2&&(c.kana=l[1]),!t&&h&4&&(t=!0,c.flipped=l[2],Wi(()=>t=!1)),e.$set(c),l[2]?s?s.p(l,h):(s=Da(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i(l){o||(ae(e.$$.fragment,l),o=!0)},o(l){re(e.$$.fragment,l),o=!1},d(l){l&&(R(n),R(i)),Ee(e,l),s&&s.d(l)}}}function Da(a){let e,t,n=a[3]("i_knew_it")+"",i,o,r,u=a[3]("i_didnt_know")+"",s,l,h;return{c(){e=v("div"),t=v("button"),i=z(n),o=A(),r=v("button"),s=z(u),w(t,"class","svelte-17m1ot2"),w(r,"class","svelte-17m1ot2"),w(e,"class","quiz-controls svelte-17m1ot2")},m(c,d){O(c,e,d),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),l||(h=[X(t,"click",a[6]),X(r,"click",a[7])],l=!0)},p(c,d){d&8&&n!==(n=c[3]("i_knew_it")+"")&&W(i,n),d&8&&u!==(u=c[3]("i_didnt_know")+"")&&W(s,u)},d(c){c&&R(e),l=!1,De(h)}}}function $o(a){let e,t,n=a[3]("quiz")+"",i,o,r,u,s,l,h=a[3]("hiragana_quiz")+"",c,d,p,k,_,y=a[3]("katakana_quiz")+"",S,C,x,P,E,L=a[3]("mixed_quiz")+"",D,K,H,J,N,U,Q,G;const Z=[Lo,No],Y=[];function Te(se,te){return se[1]?0:1}return H=Te(a),J=Y[H]=Z[H](a),U=co(a[9][0]),{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("div"),u=v("label"),s=v("input"),l=A(),c=z(h),d=A(),p=v("label"),k=v("input"),_=A(),S=z(y),C=A(),x=v("label"),P=v("input"),E=A(),D=z(L),K=A(),J.c(),w(s,"type","radio"),w(s,"name","quizType"),s.__value="hiragana",Ne(s,s.__value),w(s,"class","svelte-17m1ot2"),w(u,"class","svelte-17m1ot2"),w(k,"type","radio"),w(k,"name","quizType"),k.__value="katakana",Ne(k,k.__value),w(k,"class","svelte-17m1ot2"),w(p,"class","svelte-17m1ot2"),w(P,"type","radio"),w(P,"name","quizType"),P.__value="mixed",Ne(P,P.__value),w(P,"class","svelte-17m1ot2"),w(x,"class","svelte-17m1ot2"),w(r,"class","quiz-type-selection svelte-17m1ot2"),w(e,"class","kana-quiz svelte-17m1ot2"),U.p(s,k,P)},m(se,te){O(se,e,te),f(e,t),f(t,i),f(e,o),f(e,r),f(r,u),f(u,s),s.checked=s.__value===a[0],f(u,l),f(u,c),f(r,d),f(r,p),f(p,k),k.checked=k.__value===a[0],f(p,_),f(p,S),f(r,C),f(r,x),f(x,P),P.checked=P.__value===a[0],f(x,E),f(x,D),f(e,K),Y[H].m(e,null),N=!0,Q||(G=[X(s,"change",a[8]),X(k,"change",a[10]),X(P,"change",a[11])],Q=!0)},p(se,[te]){(!N||te&8)&&n!==(n=se[3]("quiz")+"")&&W(i,n),te&1&&(s.checked=s.__value===se[0]),(!N||te&8)&&h!==(h=se[3]("hiragana_quiz")+"")&&W(c,h),te&1&&(k.checked=k.__value===se[0]),(!N||te&8)&&y!==(y=se[3]("katakana_quiz")+"")&&W(S,y),te&1&&(P.checked=P.__value===se[0]),(!N||te&8)&&L!==(L=se[3]("mixed_quiz")+"")&&W(D,L);let ie=H;H=Te(se),H===ie?Y[H].p(se,te):(dt(),re(Y[ie],1,1,()=>{Y[ie]=null}),mt(),J=Y[H],J?J.p(se,te):(J=Y[H]=Z[H](se),J.c()),ae(J,1),J.m(e,null))},i(se){N||(ae(J),N=!0)},o(se){re(J),N=!1},d(se){se&&R(e),Y[H].d(),U.r(),Q=!1,De(G)}}}function Bo(a){for(let e=a.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}return a}function Fo(a,e,t){let n;fe(a,de,x=>t(3,n=x));let i=[...Hn,...Gn],o=[],r=null,u=!1,s="mixed";Gt(()=>{l()});function l(){let x=[];s==="hiragana"?x=Hn:s==="katakana"?x=Gn:x=i,o=Bo([...x]),h()}function h(){o.length>0?(t(1,r=o.pop()),t(2,u=!1)):(t(1,r=null),alert(n("quiz_finished")))}function c(){t(2,u=!0)}function d(){r&&(ot.update(x=>{const P=r.type||(r.id.startsWith("h_")?"hiragana":"katakana");return x[P].includes(r.id)||x[P].push(r.id),x}),Qt.update(x=>(x.totalPoints+=10,x))),h()}function p(){h()}const k=[[]];function _(){s=this.__value,t(0,s)}function y(){s=this.__value,t(0,s)}function S(){s=this.__value,t(0,s)}function C(x){u=x,t(2,u)}return a.$$.update=()=>{a.$$.dirty&1&&s&&l()},[s,r,u,n,l,c,d,p,_,k,y,S,C]}class xo extends qe{constructor(e){super(),Ce(this,e,Fo,$o,Ae,{})}}const Me=[];for(let a=0;a<256;++a)Me.push((a+256).toString(16).slice(1));function Ko(a,e=0){return(Me[a[e+0]]+Me[a[e+1]]+Me[a[e+2]]+Me[a[e+3]]+"-"+Me[a[e+4]]+Me[a[e+5]]+"-"+Me[a[e+6]]+Me[a[e+7]]+"-"+Me[a[e+8]]+Me[a[e+9]]+"-"+Me[a[e+10]]+Me[a[e+11]]+Me[a[e+12]]+Me[a[e+13]]+Me[a[e+14]]+Me[a[e+15]]).toLowerCase()}let aa;const Ho=new Uint8Array(16);function Go(){if(!aa){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");aa=crypto.getRandomValues.bind(crypto)}return aa(Ho)}const Jo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ma={randomUUID:Jo};function Uo(a,e,t){var i;if(Ma.randomUUID&&!a)return Ma.randomUUID();a=a||{};const n=a.random??((i=a.rng)==null?void 0:i.call(a))??Go();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ko(n)}function Na(a,e,t){const n=a.slice();return n[17]=e[t],n}function Vo(a){let e,t,n=a[6]("new_note")+"",i,o,r,u=a[6]("export_all_notes")+"",s,l,h,c,d,p;function k(S,C){return S[5].length>0?Zo:Qo}let _=k(a),y=_(a);return{c(){e=v("div"),t=v("button"),i=z(n),o=A(),r=v("button"),s=z(u),h=A(),y.c(),c=rt(),r.disabled=l=!a[0].length,w(e,"class","notes-list-header svelte-1goizh7")},m(S,C){O(S,e,C),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),O(S,h,C),y.m(S,C),O(S,c,C),d||(p=[X(t,"click",a[7]),X(r,"click",a[12])],d=!0)},p(S,C){C&64&&n!==(n=S[6]("new_note")+"")&&W(i,n),C&64&&u!==(u=S[6]("export_all_notes")+"")&&W(s,u),C&1&&l!==(l=!S[0].length)&&(r.disabled=l),_===(_=k(S))&&y?y.p(S,C):(y.d(1),y=_(S),y&&(y.c(),y.m(c.parentNode,c)))},d(S){S&&(R(e),R(h),R(c)),y.d(S),d=!1,De(p)}}}function Yo(a){let e,t,n=(a[2]?de("edit_note"):de("new_note"))+"",i,o,r,u,s,l,h,c,d=a[6]("save_note")+"",p,k,_,y=a[6]("cancel")+"",S,C,x;return{c(){e=v("div"),t=v("h3"),i=z(n),o=A(),r=v("input"),u=A(),s=v("textarea"),l=A(),h=v("div"),c=v("button"),p=z(d),k=A(),_=v("button"),S=z(y),w(r,"type","text"),w(r,"placeholder",de("note_title_placeholder")),w(r,"class","svelte-1goizh7"),w(s,"placeholder",de("note_content_placeholder")),w(s,"class","svelte-1goizh7"),w(_,"class","cancel-button svelte-1goizh7"),w(h,"class","editor-actions svelte-1goizh7"),w(e,"class","note-editor svelte-1goizh7")},m(P,E){O(P,e,E),f(e,t),f(t,i),f(e,o),f(e,r),Ne(r,a[3]),f(e,u),f(e,s),Ne(s,a[4]),f(e,l),f(e,h),f(h,c),f(c,p),f(h,k),f(h,_),f(_,S),C||(x=[X(r,"input",a[13]),X(s,"input",a[14]),X(c,"click",a[9]),X(_,"click",a[11])],C=!0)},p(P,E){E&4&&n!==(n=(P[2]?de("edit_note"):de("new_note"))+"")&&W(i,n),E&8&&r.value!==P[3]&&Ne(r,P[3]),E&16&&Ne(s,P[4]),E&64&&d!==(d=P[6]("save_note")+"")&&W(p,d),E&64&&y!==(y=P[6]("cancel")+"")&&W(S,y)},d(P){P&&R(e),C=!1,De(x)}}}function Qo(a){let e,t=a[6]("no_notes_yet")+"",n;return{c(){e=v("p"),n=z(t),w(e,"class","no-notes-message svelte-1goizh7")},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&64&&t!==(t=i[6]("no_notes_yet")+"")&&W(n,t)},d(i){i&&R(e)}}}function Zo(a){let e,t=[],n=new Map,i=pe(a[5]);const o=r=>r[17].id;for(let r=0;r<i.length;r+=1){let u=Na(a,i,r),s=o(u);n.set(s,t[r]=La(s,u))}return{c(){e=v("ul");for(let r=0;r<t.length;r+=1)t[r].c();w(e,"class","notes-list svelte-1goizh7")},m(r,u){O(r,e,u);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(r,u){u&1376&&(i=pe(r[5]),t=yn(t,u,o,1,r,i,n,e,bn,La,null,Na))},d(r){r&&R(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function La(a,e){let t,n,i,o=e[17].title+"",r,u,s,l=new Date(e[17].date).toLocaleDateString()+"",h,c,d,p=e[17].content.substring(0,100)+"",k,_=e[17].content.length>100?"...":"",y,S,C,x,P=e[6]("edit")+"",E,L,D,K=e[6]("delete")+"",H,J,N,U;function Q(){return e[15](e[17])}function G(){return e[16](e[17])}return{key:a,first:null,c(){t=v("li"),n=v("div"),i=v("h4"),r=z(o),u=A(),s=v("p"),h=z(l),c=A(),d=v("p"),k=z(p),y=z(_),S=A(),C=v("div"),x=v("button"),E=z(P),L=A(),D=v("button"),H=z(K),J=A(),w(i,"class","svelte-1goizh7"),w(s,"class","note-date svelte-1goizh7"),w(d,"class","note-snippet svelte-1goizh7"),w(n,"class","note-info svelte-1goizh7"),w(x,"class","svelte-1goizh7"),w(D,"class","delete-button svelte-1goizh7"),w(C,"class","note-actions svelte-1goizh7"),w(t,"class","note-item svelte-1goizh7"),this.first=t},m(Z,Y){O(Z,t,Y),f(t,n),f(n,i),f(i,r),f(n,u),f(n,s),f(s,h),f(n,c),f(n,d),f(d,k),f(d,y),f(t,S),f(t,C),f(C,x),f(x,E),f(C,L),f(C,D),f(D,H),f(t,J),N||(U=[X(x,"click",Q),X(D,"click",G)],N=!0)},p(Z,Y){e=Z,Y&32&&o!==(o=e[17].title+"")&&W(r,o),Y&32&&l!==(l=new Date(e[17].date).toLocaleDateString()+"")&&W(h,l),Y&32&&p!==(p=e[17].content.substring(0,100)+"")&&W(k,p),Y&32&&_!==(_=e[17].content.length>100?"...":"")&&W(y,_),Y&64&&P!==(P=e[6]("edit")+"")&&W(E,P),Y&64&&K!==(K=e[6]("delete")+"")&&W(H,K)},d(Z){Z&&R(t),N=!1,De(U)}}}function Xo(a){let e;function t(o,r){return o[1]?Yo:Vo}let n=t(a),i=n(a);return{c(){e=v("div"),i.c(),w(e,"class","notes-container svelte-1goizh7")},m(o,r){O(o,e,r),i.m(e,null)},p(o,[r]){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:ee,o:ee,d(o){o&&R(e),i.d()}}}function er(a,e,t){let n,i,o;fe(a,na,P=>t(0,i=P)),fe(a,de,P=>t(6,o=P));let r=!1,u=null,s="",l="";function h(){t(2,u=null),t(3,s=""),t(4,l=""),t(1,r=!0)}function c(P){t(2,u=P),t(3,s=P.title),t(4,l=P.content),t(1,r=!0)}function d(){if(!s.trim()||!l.trim()){alert(de("note_empty_warning"));return}const P=new Date,E={id:u?u.id:Uo(),title:s.trim(),content:l.trim(),date:P.toISOString()};na.update(L=>u?L.map(D=>D.id===E.id?E:D):[...L,E]),t(1,r=!1),t(2,u=null),t(3,s=""),t(4,l="")}function p(P){confirm(de("confirm_delete_note"))&&na.update(E=>E.filter(L=>L.id!==P))}function k(){t(1,r=!1),t(2,u=null),t(3,s=""),t(4,l="")}function _(){const E=JSON.stringify(i,null,2),L=new Blob([E],{type:"application/json"}),D=URL.createObjectURL(L),K=document.createElement("a");K.href=D,K.download="kanjigo_notes.json",document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(D),alert(de("notes_export_started"))}function y(){s=this.value,t(3,s)}function S(){l=this.value,t(4,l)}const C=P=>c(P),x=P=>p(P.id);return a.$$.update=()=>{a.$$.dirty&1&&t(5,n=Array.isArray(i)?i.sort((P,E)=>new Date(E.date)-new Date(P.date)):[])},[i,r,u,s,l,n,o,h,c,d,p,k,_,y,S,C,x]}class tr extends qe{constructor(e){super(),Ce(this,e,er,Xo,Ae,{})}}function nr(a){let e,t,n=a[4]("progress_tracking")+"",i,o,r,u=a[4]("progress_description")+"",s,l,h,c,d=a[4]("your_mastery")+"",p,k,_,y,S=a[4]("hiragana_mastery")+"",C,x,P=a[3].toFixed(1)+"",E,L,D,K,H,J,N,U,Q=a[4]("katakana_mastery")+"",G,Z,Y=a[2].toFixed(1)+"",Te,se,te,ie,ue,ze,ne,le,Le=a[4]("kanji_mastery")+"",st,tt,Je=a[1].toFixed(1)+"",nt,pt,lt,Ue,Ke,ut,ve,$e,Ye=a[4]("vocabulary_mastery")+"",Ie,ge,Se=a[0].toFixed(1)+"",kt,Xt,en,gt,ct,tn,Be,_t,vt=a[4]("gamification_stats")+"",At,nn,Qe,bt=a[4]("current_streak")+"",yt,Tn,Rt=a[5].currentStreak+"",wt,an,Ot=a[4]("days")+"",He,zn,at,jt=a[4]("longest_streak")+"",on,In,Ct=a[5].longestStreak+"",rn,Sn,qt=a[4]("days")+"",sn,Wn,Tt,Pt=a[4]("total_points")+"",Dt,En,Mt=a[5].totalPoints+"",ln,An,ht,Nt,Lt=a[4]("personal_notes")+"",un,Rn,ft,ke;return ft=new tr({}),{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("p"),s=z(u),l=A(),h=v("section"),c=v("h3"),p=z(d),k=A(),_=v("div"),y=v("p"),C=z(S),x=z(": "),E=z(P),L=z("%"),D=A(),K=v("div"),H=v("div"),J=A(),N=v("div"),U=v("p"),G=z(Q),Z=z(": "),Te=z(Y),se=z("%"),te=A(),ie=v("div"),ue=v("div"),ze=A(),ne=v("div"),le=v("p"),st=z(Le),tt=z(": "),nt=z(Je),pt=z("%"),lt=A(),Ue=v("div"),Ke=v("div"),ut=A(),ve=v("div"),$e=v("p"),Ie=z(Ye),ge=z(": "),kt=z(Se),Xt=z("%"),en=A(),gt=v("div"),ct=v("div"),tn=A(),Be=v("section"),_t=v("h3"),At=z(vt),nn=A(),Qe=v("p"),yt=z(bt),Tn=z(": 🔥 "),wt=z(Rt),an=A(),He=z(Ot),zn=A(),at=v("p"),on=z(jt),In=z(": 🏆 "),rn=z(Ct),Sn=A(),sn=z(qt),Wn=A(),Tt=v("p"),Dt=z(Pt),En=z(": ⭐ "),ln=z(Mt),An=A(),ht=v("section"),Nt=v("h3"),un=z(Lt),Rn=A(),Oe(ft.$$.fragment),w(c,"class","svelte-7ezvr2"),w(y,"class","svelte-7ezvr2"),w(H,"class","progress-bar svelte-7ezvr2"),it(H,"width",a[3]+"%"),w(K,"class","progress-bar-container svelte-7ezvr2"),w(_,"class","progress-item svelte-7ezvr2"),w(U,"class","svelte-7ezvr2"),w(ue,"class","progress-bar svelte-7ezvr2"),it(ue,"width",a[2]+"%"),w(ie,"class","progress-bar-container svelte-7ezvr2"),w(N,"class","progress-item svelte-7ezvr2"),w(le,"class","svelte-7ezvr2"),w(Ke,"class","progress-bar svelte-7ezvr2"),it(Ke,"width",a[1]+"%"),w(Ue,"class","progress-bar-container svelte-7ezvr2"),w(ne,"class","progress-item svelte-7ezvr2"),w($e,"class","svelte-7ezvr2"),w(ct,"class","progress-bar svelte-7ezvr2"),it(ct,"width",a[0]+"%"),w(gt,"class","progress-bar-container svelte-7ezvr2"),w(ve,"class","progress-item svelte-7ezvr2"),w(h,"class","progress-section svelte-7ezvr2"),w(_t,"class","svelte-7ezvr2"),w(Be,"class","progress-section svelte-7ezvr2"),w(Nt,"class","svelte-7ezvr2"),w(ht,"class","progress-section svelte-7ezvr2"),w(e,"class","progress-container svelte-7ezvr2")},m(ce,be){O(ce,e,be),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),f(e,l),f(e,h),f(h,c),f(c,p),f(h,k),f(h,_),f(_,y),f(y,C),f(y,x),f(y,E),f(y,L),f(_,D),f(_,K),f(K,H),f(h,J),f(h,N),f(N,U),f(U,G),f(U,Z),f(U,Te),f(U,se),f(N,te),f(N,ie),f(ie,ue),f(h,ze),f(h,ne),f(ne,le),f(le,st),f(le,tt),f(le,nt),f(le,pt),f(ne,lt),f(ne,Ue),f(Ue,Ke),f(h,ut),f(h,ve),f(ve,$e),f($e,Ie),f($e,ge),f($e,kt),f($e,Xt),f(ve,en),f(ve,gt),f(gt,ct),f(e,tn),f(e,Be),f(Be,_t),f(_t,At),f(Be,nn),f(Be,Qe),f(Qe,yt),f(Qe,Tn),f(Qe,wt),f(Qe,an),f(Qe,He),f(Be,zn),f(Be,at),f(at,on),f(at,In),f(at,rn),f(at,Sn),f(at,sn),f(Be,Wn),f(Be,Tt),f(Tt,Dt),f(Tt,En),f(Tt,ln),f(e,An),f(e,ht),f(ht,Nt),f(Nt,un),f(ht,Rn),We(ft,ht,null),ke=!0},p(ce,[be]){(!ke||be&16)&&n!==(n=ce[4]("progress_tracking")+"")&&W(i,n),(!ke||be&16)&&u!==(u=ce[4]("progress_description")+"")&&W(s,u),(!ke||be&16)&&d!==(d=ce[4]("your_mastery")+"")&&W(p,d),(!ke||be&16)&&S!==(S=ce[4]("hiragana_mastery")+"")&&W(C,S),(!ke||be&8)&&P!==(P=ce[3].toFixed(1)+"")&&W(E,P),(!ke||be&8)&&it(H,"width",ce[3]+"%"),(!ke||be&16)&&Q!==(Q=ce[4]("katakana_mastery")+"")&&W(G,Q),(!ke||be&4)&&Y!==(Y=ce[2].toFixed(1)+"")&&W(Te,Y),(!ke||be&4)&&it(ue,"width",ce[2]+"%"),(!ke||be&16)&&Le!==(Le=ce[4]("kanji_mastery")+"")&&W(st,Le),(!ke||be&2)&&Je!==(Je=ce[1].toFixed(1)+"")&&W(nt,Je),(!ke||be&2)&&it(Ke,"width",ce[1]+"%"),(!ke||be&16)&&Ye!==(Ye=ce[4]("vocabulary_mastery")+"")&&W(Ie,Ye),(!ke||be&1)&&Se!==(Se=ce[0].toFixed(1)+"")&&W(kt,Se),(!ke||be&1)&&it(ct,"width",ce[0]+"%"),(!ke||be&16)&&vt!==(vt=ce[4]("gamification_stats")+"")&&W(At,vt),(!ke||be&16)&&bt!==(bt=ce[4]("current_streak")+"")&&W(yt,bt),(!ke||be&32)&&Rt!==(Rt=ce[5].currentStreak+"")&&W(wt,Rt),(!ke||be&16)&&Ot!==(Ot=ce[4]("days")+"")&&W(He,Ot),(!ke||be&16)&&jt!==(jt=ce[4]("longest_streak")+"")&&W(on,jt),(!ke||be&32)&&Ct!==(Ct=ce[5].longestStreak+"")&&W(rn,Ct),(!ke||be&16)&&qt!==(qt=ce[4]("days")+"")&&W(sn,qt),(!ke||be&16)&&Pt!==(Pt=ce[4]("total_points")+"")&&W(Dt,Pt),(!ke||be&32)&&Mt!==(Mt=ce[5].totalPoints+"")&&W(ln,Mt),(!ke||be&16)&&Lt!==(Lt=ce[4]("personal_notes")+"")&&W(un,Lt)},i(ce){ke||(ae(ft.$$.fragment,ce),ke=!0)},o(ce){re(ft.$$.fragment,ce),ke=!1},d(ce){ce&&R(e),Ee(ft)}}}function ar(a,e,t){let n,i,o,r,u,s,l;return fe(a,ot,h=>t(6,u=h)),fe(a,de,h=>t(4,s=h)),fe(a,Qt,h=>t(5,l=h)),a.$$.update=()=>{a.$$.dirty&64&&t(3,n=u.hiragana.length/Hn.length*100),a.$$.dirty&64&&t(2,i=u.katakana.length/Gn.length*100),a.$$.dirty&64&&t(1,o=u.kanji.length/sa.length*100),a.$$.dirty&64&&t(0,r=u.vocabulary.length/Ut.length*100)},[r,o,i,n,s,l,u]}class ir extends qe{constructor(e){super(),Ce(this,e,ar,nr,Ae,{})}}function or(a){let e,t,n,i,o,r,u,s,l,h,c,d,p,k,_,y,S,C,x,P;return{c(){e=v("div"),t=v("label"),n=z(a[0]),i=z(":"),o=A(),r=v("select"),u=v("option"),s=z(a[6]),l=v("option"),h=z(a[5]),c=v("option"),d=z(a[4]),p=v("option"),k=z(a[3]),_=v("option"),y=z(a[2]),S=v("option"),C=z(a[1]),w(t,"for","theme-select"),w(t,"class","svelte-m3ax6x"),u.__value="system",Ne(u,u.__value),l.__value="light",Ne(l,l.__value),c.__value="dark",Ne(c,c.__value),p.__value="ocean-blue",Ne(p,p.__value),_.__value="forest-green",Ne(_,_.__value),S.__value="high-contrast",Ne(S,S.__value),w(r,"id","theme-select"),w(r,"class","svelte-m3ax6x"),a[7]===void 0&&_n(()=>a[9].call(r)),w(e,"class","theme-switcher svelte-m3ax6x")},m(E,L){O(E,e,L),f(e,t),f(t,n),f(t,i),f(e,o),f(e,r),f(r,u),f(u,s),f(r,l),f(l,h),f(r,c),f(c,d),f(r,p),f(p,k),f(r,_),f(_,y),f(r,S),f(S,C),Ht(r,a[7],!0),x||(P=X(r,"change",a[9]),x=!0)},p(E,[L]){L&1&&W(n,E[0]),L&64&&W(s,E[6]),L&32&&W(h,E[5]),L&16&&W(d,E[4]),L&8&&W(k,E[3]),L&4&&W(y,E[2]),L&2&&W(C,E[1]),L&128&&Ht(r,E[7])},i:ee,o:ee,d(E){E&&R(e),x=!1,P()}}}function rr(a,e,t){let n,i,o,r,u,s,l,h,c;fe(a,de,p=>t(8,h=p)),fe(a,Jt,p=>t(7,c=p));function d(){c=Ii(this),Jt.set(c)}return a.$$.update=()=>{a.$$.dirty&256&&t(0,n=h("theme")),a.$$.dirty&256&&t(6,i=h("theme_system")),a.$$.dirty&256&&t(5,o=h("theme_light")),a.$$.dirty&256&&t(4,r=h("theme_dark")),a.$$.dirty&256&&t(3,u=h("theme_ocean_blue")),a.$$.dirty&256&&t(2,s=h("theme_forest_green")),a.$$.dirty&256&&t(1,l=h("theme_high_contrast")),a.$$.dirty&1&&console.log("ThemeSwitcher: themeLabel",n)},[n,l,s,u,r,o,i,c,h,d]}class sr extends qe{constructor(e){super(),Ce(this,e,rr,or,Ae,{})}}function $a(a,e,t){const n=a.slice();return n[4]=e[t],n}function Ba(a){let e,t=a[4].name+"",n;return{c(){e=v("option"),n=z(t),e.__value=a[4].code,Ne(e,e.__value)},m(i,o){O(i,e,o),f(e,n)},p:ee,d(i){i&&R(e)}}}function lr(a){let e,t,n=a[0]("language")+"",i,o,r,u,s,l,h=pe(a[2]),c=[];for(let d=0;d<h.length;d+=1)c[d]=Ba($a(a,h,d));return{c(){e=v("div"),t=v("label"),i=z(n),o=z(":"),r=A(),u=v("select");for(let d=0;d<c.length;d+=1)c[d].c();w(t,"for","language-select"),w(t,"class","svelte-1pqq92x"),w(u,"id","language-select"),w(u,"class","svelte-1pqq92x"),w(e,"class","language-switcher svelte-1pqq92x")},m(d,p){O(d,e,p),f(e,t),f(t,i),f(t,o),f(e,r),f(e,u);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(u,null);Ht(u,a[1]),s||(l=X(u,"change",a[3]),s=!0)},p(d,[p]){if(p&1&&n!==(n=d[0]("language")+"")&&W(i,n),p&4){h=pe(d[2]);let k;for(k=0;k<h.length;k+=1){const _=$a(d,h,k);c[k]?c[k].p(_,p):(c[k]=Ba(_),c[k].c(),c[k].m(u,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=h.length}p&6&&Ht(u,d[1])},i:ee,o:ee,d(d){d&&R(e),Ve(c,d),s=!1,l()}}}function ur(a,e,t){let n,i;fe(a,de,u=>t(0,n=u)),fe(a,et,u=>t(1,i=u));const o=[{code:"en",name:"English"},{code:"zh-TW",name:"繁體中文"}];function r(u){et.set(u.target.value)}return[n,i,o,r]}class cr extends qe{constructor(e){super(),Ce(this,e,ur,lr,Ae,{})}}function hr(){const a={masteryProgress:xe(ot),gamificationProgress:xe(Qt),language:xe(et),theme:xe(Jt)},e=JSON.stringify(a,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="kanjigo_progress.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function fr(a){try{const e=JSON.parse(a);return e.masteryProgress&&ot.set(e.masteryProgress),e.gamificationProgress&&Qt.set(e.gamificationProgress),e.language&&et.set(e.language),e.theme&&Jt.set(e.theme),{success:!0}}catch(e){return console.error("Error importing user data:",e),{success:!1,error:e.message}}}function dr(){ot.set({hiragana:[],katakana:[],vocabulary:[],kanji:[]}),Qt.set({currentStreak:0,longestStreak:0,lastStudyDate:null,totalPoints:0}),et.set("en"),Jt.set("system")}function Fa(a){let e,t=a[2]("confirm_overwrite")+"",n,i,o,r=a[2]("yes_overwrite")+"",u,s,l,h=a[2]("cancel")+"",c,d,p;return{c(){e=v("p"),n=z(t),i=A(),o=v("button"),u=z(r),s=A(),l=v("button"),c=z(h)},m(k,_){O(k,e,_),f(e,n),O(k,i,_),O(k,o,_),f(o,u),O(k,s,_),O(k,l,_),f(l,c),d||(p=[X(o,"click",a[6]),X(l,"click",a[7])],d=!0)},p(k,_){_&4&&t!==(t=k[2]("confirm_overwrite")+"")&&W(n,t),_&4&&r!==(r=k[2]("yes_overwrite")+"")&&W(u,r),_&4&&h!==(h=k[2]("cancel")+"")&&W(c,h)},d(k){k&&(R(e),R(i),R(o),R(s),R(l)),d=!1,De(p)}}}function mr(a){let e,t,n=a[2]("settings")+"",i,o,r,u,s=a[2]("theme_settings")+"",l,h,c,d,p,k,_=a[2]("language_settings")+"",y,S,C,x,P,E,L=a[2]("display_settings")+"",D,K,H,J,N=a[2]("show_furigana")+"",U,Q,G,Z,Y,Te,se=a[2]("data_management")+"",te,ie,ue,ze=a[2]("download_progress")+"",ne,le,Le,st,tt,Je=a[2]("upload_progress")+"",nt,pt,lt,Ue,Ke=a[2]("clear_all_data")+"",ut,ve,$e,Ye;c=new sr({}),C=new cr({});let Ie=a[1]&&Fa(a);return{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("section"),u=v("h3"),l=z(s),h=A(),Oe(c.$$.fragment),d=A(),p=v("section"),k=v("h3"),y=z(_),S=A(),Oe(C.$$.fragment),x=A(),P=v("section"),E=v("h3"),D=z(L),K=A(),H=v("div"),J=v("label"),U=z(N),Q=A(),G=v("input"),Z=A(),Y=v("section"),Te=v("h3"),te=z(se),ie=A(),ue=v("button"),ne=z(ze),le=A(),Le=v("input"),st=A(),tt=v("button"),nt=z(Je),pt=A(),Ie&&Ie.c(),lt=A(),Ue=v("button"),ut=z(Ke),w(t,"class","svelte-ahtx6s"),w(u,"class","svelte-ahtx6s"),w(r,"class","setting-section svelte-ahtx6s"),w(k,"class","svelte-ahtx6s"),w(p,"class","setting-section svelte-ahtx6s"),w(E,"class","svelte-ahtx6s"),w(J,"for","furigana-toggle"),w(G,"type","checkbox"),w(G,"id","furigana-toggle"),w(H,"class","setting-item"),w(P,"class","setting-section svelte-ahtx6s"),w(Te,"class","svelte-ahtx6s"),w(Le,"type","file"),w(Le,"accept",".json"),it(Le,"display","none"),w(Y,"class","setting-section svelte-ahtx6s"),w(e,"class","settings-page svelte-ahtx6s")},m(ge,Se){O(ge,e,Se),f(e,t),f(t,i),f(e,o),f(e,r),f(r,u),f(u,l),f(r,h),We(c,r,null),f(e,d),f(e,p),f(p,k),f(k,y),f(p,S),We(C,p,null),f(e,x),f(e,P),f(P,E),f(E,D),f(P,K),f(P,H),f(H,J),f(J,U),f(H,Q),f(H,G),G.checked=a[3],f(e,Z),f(e,Y),f(Y,Te),f(Te,te),f(Y,ie),f(Y,ue),f(ue,ne),f(Y,le),f(Y,Le),a[10](Le),f(Y,st),f(Y,tt),f(tt,nt),f(Y,pt),Ie&&Ie.m(Y,null),f(Y,lt),f(Y,Ue),f(Ue,ut),ve=!0,$e||(Ye=[X(G,"change",a[9]),X(ue,"click",a[4]),X(Le,"change",a[5]),X(tt,"click",a[11]),X(Ue,"click",a[8])],$e=!0)},p(ge,[Se]){(!ve||Se&4)&&n!==(n=ge[2]("settings")+"")&&W(i,n),(!ve||Se&4)&&s!==(s=ge[2]("theme_settings")+"")&&W(l,s),(!ve||Se&4)&&_!==(_=ge[2]("language_settings")+"")&&W(y,_),(!ve||Se&4)&&L!==(L=ge[2]("display_settings")+"")&&W(D,L),(!ve||Se&4)&&N!==(N=ge[2]("show_furigana")+"")&&W(U,N),Se&8&&(G.checked=ge[3]),(!ve||Se&4)&&se!==(se=ge[2]("data_management")+"")&&W(te,se),(!ve||Se&4)&&ze!==(ze=ge[2]("download_progress")+"")&&W(ne,ze),(!ve||Se&4)&&Je!==(Je=ge[2]("upload_progress")+"")&&W(nt,Je),ge[1]?Ie?Ie.p(ge,Se):(Ie=Fa(ge),Ie.c(),Ie.m(Y,lt)):Ie&&(Ie.d(1),Ie=null),(!ve||Se&4)&&Ke!==(Ke=ge[2]("clear_all_data")+"")&&W(ut,Ke)},i(ge){ve||(ae(c.$$.fragment,ge),ae(C.$$.fragment,ge),ve=!0)},o(ge){re(c.$$.fragment,ge),re(C.$$.fragment,ge),ve=!1},d(ge){ge&&R(e),Ee(c),Ee(C),a[10](null),Ie&&Ie.d(),$e=!1,De(Ye)}}}function pr(a,e,t){let n,i;fe(a,de,y=>t(2,n=y)),fe(a,ra,y=>t(3,i=y));let o,r=!1,u=null;function s(){hr(),alert(xe(de)("download_started"))}function l(y){const S=y.target.files[0];if(S){const C=new FileReader;C.onload=x=>{try{u=x.target.result,t(1,r=!0)}catch(P){alert(xe(de)("invalid_json_file")+": "+P.message)}},C.readAsText(S)}}function h(){if(u){const y=fr(u);y.success?alert(xe(de)("import_success")):alert(xe(de)("import_error")+": "+y.error),u=null,t(1,r=!1),t(0,o.value="",o)}}function c(){u=null,t(1,r=!1),t(0,o.value="",o)}function d(){confirm(xe(de)("confirm_clear_data"))&&(dr(),alert(xe(de)("data_cleared")))}function p(){i=this.checked,ra.set(i)}function k(y){gn[y?"unshift":"push"](()=>{o=y,t(0,o)})}return[o,r,n,i,s,l,h,c,d,p,k,()=>o.click()]}class kr extends qe{constructor(e){super(),Ce(this,e,pr,mr,Ae,{})}}const Zt=Vt(window.location.pathname);function It(a){window.history.pushState({},"",a),Zt.set(a)}window.addEventListener("popstate",()=>{Zt.set(window.location.pathname)});function gr(a){let e,t,n=a[1]("learn")+"",i,o,r,u=a[1]("explore")+"",s,l,h,c=a[1]("progress")+"",d,p,k,_=a[1]("hiragana_chart")+"",y,S,C,x=a[1]("kanji_chart")+"",P,E,L,D=a[1]("vocabulary_list")+"",K,H,J,N=a[1]("quiz")+"",U,Q,G,Z=a[1]("settings")+"",Y,Te,se;return{c(){e=v("nav"),t=v("button"),i=z(n),o=A(),r=v("button"),s=z(u),l=A(),h=v("button"),d=z(c),p=A(),k=v("button"),y=z(_),S=A(),C=v("button"),P=z(x),E=A(),L=v("button"),K=z(D),H=A(),J=v("button"),U=z(N),Q=A(),G=v("button"),Y=z(Z),w(t,"class","svelte-nwil76"),he(t,"active",a[0]==="learn"),w(r,"class","svelte-nwil76"),he(r,"active",a[0]==="explore"),w(h,"class","svelte-nwil76"),he(h,"active",a[0]==="progress"),w(k,"class","svelte-nwil76"),he(k,"active",a[0]==="kana_charts"),w(C,"class","svelte-nwil76"),he(C,"active",a[0]==="kanji_charts"),w(L,"class","svelte-nwil76"),he(L,"active",a[0]==="vocabulary_list"),w(J,"class","svelte-nwil76"),he(J,"active",a[0]==="quiz"),w(G,"class","svelte-nwil76"),he(G,"active",a[0]==="settings"),w(e,"class","svelte-nwil76")},m(te,ie){O(te,e,ie),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),f(e,l),f(e,h),f(h,d),f(e,p),f(e,k),f(k,y),f(e,S),f(e,C),f(C,P),f(e,E),f(e,L),f(L,K),f(e,H),f(e,J),f(J,U),f(e,Q),f(e,G),f(G,Y),Te||(se=[X(t,"click",a[4]),X(r,"click",a[5]),X(h,"click",a[6]),X(k,"click",a[7]),X(C,"click",a[8]),X(L,"click",a[9]),X(J,"click",a[10]),X(G,"click",a[11])],Te=!0)},p(te,[ie]){ie&2&&n!==(n=te[1]("learn")+"")&&W(i,n),ie&1&&he(t,"active",te[0]==="learn"),ie&2&&u!==(u=te[1]("explore")+"")&&W(s,u),ie&1&&he(r,"active",te[0]==="explore"),ie&2&&c!==(c=te[1]("progress")+"")&&W(d,c),ie&1&&he(h,"active",te[0]==="progress"),ie&2&&_!==(_=te[1]("hiragana_chart")+"")&&W(y,_),ie&1&&he(k,"active",te[0]==="kana_charts"),ie&2&&x!==(x=te[1]("kanji_chart")+"")&&W(P,x),ie&1&&he(C,"active",te[0]==="kanji_charts"),ie&2&&D!==(D=te[1]("vocabulary_list")+"")&&W(K,D),ie&1&&he(L,"active",te[0]==="vocabulary_list"),ie&2&&N!==(N=te[1]("quiz")+"")&&W(U,N),ie&1&&he(J,"active",te[0]==="quiz"),ie&2&&Z!==(Z=te[1]("settings")+"")&&W(Y,Z),ie&1&&he(G,"active",te[0]==="settings")},i:ee,o:ee,d(te){te&&R(e),Te=!1,De(se)}}}function _r(a,e,t){let n,i,o;fe(a,Zt,_=>t(3,i=_)),fe(a,de,_=>t(1,o=_));function r(_){It(_)}const u=()=>r("/learn"),s=()=>r("/explore"),l=()=>r("/progress"),h=()=>r("/kana_charts"),c=()=>r("/kanji_charts"),d=()=>r("/vocabulary_list"),p=()=>r("/quiz"),k=()=>r("/settings");return a.$$.update=()=>{a.$$.dirty&8&&t(0,n=i.substring(1)||"learn")},[n,o,r,i,u,s,l,h,c,d,p,k]}class vr extends qe{constructor(e){super(),Ce(this,e,_r,gr,Ae,{})}}function br(a){let e,t,n,i,o,r,u,s,l,h,c,d,p;const k=a[4].default,_=ro(k,a,a[3],null);return{c(){e=v("div"),t=A(),n=v("div"),i=v("div"),o=v("h3"),r=z(a[1]),u=A(),s=v("button"),s.textContent="×",l=A(),h=v("div"),_&&_.c(),w(e,"class","bottom-sheet-overlay svelte-cm442n"),w(e,"role","button"),w(e,"tabindex","0"),he(e,"show",a[0]),w(o,"class","svelte-cm442n"),w(s,"class","svelte-cm442n"),w(i,"class","bottom-sheet-header svelte-cm442n"),w(h,"class","bottom-sheet-content svelte-cm442n"),w(n,"class","bottom-sheet svelte-cm442n"),he(n,"show",a[0])},m(y,S){O(y,e,S),O(y,t,S),O(y,n,S),f(n,i),f(i,o),f(o,r),f(i,u),f(i,s),f(n,l),f(n,h),_&&_.m(h,null),c=!0,d||(p=[X(e,"click",a[2]),X(e,"keydown",a[5]),X(s,"click",a[2])],d=!0)},p(y,[S]){(!c||S&1)&&he(e,"show",y[0]),(!c||S&2)&&W(r,y[1]),_&&_.p&&(!c||S&8)&&lo(_,k,y,y[3],c?so(k,y[3],S,null):uo(y[3]),null),(!c||S&1)&&he(n,"show",y[0])},i(y){c||(ae(_,y),c=!0)},o(y){re(_,y),c=!1},d(y){y&&(R(e),R(t),R(n)),_&&_.d(y),d=!1,De(p)}}}function yr(a,e,t){let{$$slots:n={},$$scope:i}=e,{show:o=!1}=e,{title:r=""}=e;const u=vn();function s(){t(0,o=!1),u("close")}const l=h=>{h.key==="Escape"&&s()};return a.$$set=h=>{"show"in h&&t(0,o=h.show),"title"in h&&t(1,r=h.title),"$$scope"in h&&t(3,i=h.$$scope)},[o,r,s,i,n,l]}class wr extends qe{constructor(e){super(),Ce(this,e,yr,br,Ae,{show:0,title:1})}}const la=[{id:"basic_particles",title:"Basic Particles",description:"Understand the fundamental particles like は, が, を, に, で.",topics:[{id:"particle_wa",title:"Particle は (wa)",content:`
# Particle は (wa)

The particle は (read as "wa", not "ha") is one of the most fundamental and frequently used particles in Japanese. It primarily marks the **topic** of a sentence.

## Topic vs. Subject

It's crucial to understand that the topic is not always the grammatical subject. The topic is what the speaker wants to talk about or focus on.

### Example:

*   **わたしはがくせいです。** (Watashi **wa** gakusei desu.)
    *   わたし (watashi) = I
    *   がくせい (gakusei) = student
    *   です (desu) = is/am/are (polite form)
    *   **Meaning:** As for me, I am a student. (More naturally: I am a student.)

In this sentence, "わたし" (I) is both the topic and the subject.

## Introducing New Information

は is often used to introduce new information or to make a general statement about the topic.

### Example:

*   **これはほんです。** (Kore **wa** hon desu.)
    *   これ (kore) = this
    *   ほん (hon) = book
    *   **Meaning:** This is a book.

Here, "これ" (this) is the topic, and "ほんです" (is a book) is the new information being provided about "this."

## Contrast and Emphasis

は can also be used to draw a contrast or put emphasis on the word preceding it. When used in this way, it often implies "as for X, but not Y" or "X, among other things."

### Example:

*   **ビールはのみません。** (Biiru **wa** nomimasen.)
    *   ビール (biiru) = beer
    *   のみません (nomimasen) = don't drink (polite negative of 飲む - nomu)
    *   **Meaning:** As for beer, I don't drink it (implying I might drink other things).

This usage highlights "beer" by contrasting it with other potential drinks.

## Placement

は always follows the word or phrase it marks as the topic. It can attach to nouns, pronouns, and sometimes even other particles (though this is more advanced).
        `,examples:[{japanese:"わたしはエンジニアです。",romaji:"Watashi wa enjinia desu.",english:"I am an engineer."},{japanese:"きょうはあついです。",romaji:"Kyou wa atsui desu.",english:"Today is hot."},{japanese:"これはペンです。",romaji:"Kore wa pen desu.",english:"This is a pen."},{japanese:"さかなはたべません。",romaji:"Sakana wa tabemasen.",english:"As for fish, I don't eat it."}],nuances:['The pronunciation of は as "wa" is a historical kana usage that has been preserved only for this particle.',"While は marks the topic, が marks the grammatical subject. The distinction can be subtle and is a common point of confusion for learners.","は can be used to generalize or state a known fact about the topic."],quiz:[{question:"Which particle marks the topic of a sentence?",options:["が (ga)","を (wo)","は (wa)","に (ni)"],answer:"は (wa)"},{question:'In the sentence "わたしはがくせいです。", what does は mark?',options:["Subject","Object","Topic","Location"],answer:"Topic"},{question:"How is は pronounced when used as a particle?",options:["ha","wa","pa","ba"],answer:"wa"}]},{id:"particle_ga",title:"Particle が (ga)",content:`
# Particle が (ga)

The particle が (ga) primarily marks the **grammatical subject** of a sentence when that subject is introducing new information, is being emphasized, or is the answer to a question.

## Subject Marker

が explicitly identifies the subject performing the action or being described.

### Example:

*   **ねこがいます。** (Neko **ga** imasu.)
    *   ねこ (neko) = cat
    *   います (imasu) = is (for living things)
    *   **Meaning:** There is a cat. / A cat exists.

Here, "ねこ" (cat) is the subject that exists.

## Introducing New Information / Specific Subject

When you are introducing a new subject into the conversation, or when the subject is specific and not yet known to the listener, が is often used.

### Example:

*   **だれがきましたか？** (Dare **ga** kimashita ka?)
    *   だれ (dare) = who
    *   きました (kimashita) = came (past tense of 来る - kuru)
    *   **Meaning:** Who came?

*   **田中さんがきました。** (Tanaka-san **ga** kimashita.)
    *   田中さん (Tanaka-san) = Mr./Ms. Tanaka
    *   **Meaning:** Mr. Tanaka came.

In the answer, 田中さん is new information, so が is used.

## Emphasis or Exclusion

が can be used to emphasize the subject, often implying "X and only X" or "It is X who...". This is a key difference from は, which marks the topic.

### Example:

*   **わたしがやります。** (Watashi **ga** yarimasu.)
    *   わたし (watashi) = I
    *   やります (yarimasu) = will do (polite form of やる - yaru)
    *   **Meaning:** *I* will do it. (Implying that others won't or shouldn't, or that I am the one specifically designated to do it.)

Compare this to "わたしはやります。" (Watashi wa yarimasu.), which would mean "As for me, I will do it," a more general statement without the same emphasis on "I."

## With Adjectives and Verbs of Existence/Possession

が is commonly used with adjectives and verbs like あります (arimasu - to exist, for inanimate objects) and います (imasu - to exist, for living things), and ほしい (hoshii - to want).

### Examples:

*   **りんごがあります。** (Ringo **ga** arimasu.) - There is an apple.
*   **いぬがいます。** (Inu **ga** imasu.) - There is a dog.
*   **お金がほしいです。** (Okane **ga** hoshii desu.) - I want money.

## Placement

が always follows the word or phrase it marks as the subject.
        `,examples:[{japanese:"鳥がそらをとんでいます。",romaji:"Tori ga sora o tonde imasu.",english:"A bird is flying in the sky."},{japanese:"何がおもしろいですか？",romaji:"Nani ga omoshiroi desu ka?",english:"What is interesting?"},{japanese:"この本がおもしろいです。",romaji:"Kono hon ga omoshiroi desu.",english:"This book is interesting."},{japanese:"私がおいしいケーキを作りました。",romaji:"Watashi ga oishii keeki o tsukurimashita.",english:"I made a delicious cake."}],nuances:["The distinction between は and が is one of the most challenging aspects for Japanese learners. は marks the topic (what you're talking about), while が marks the subject (who or what performs the action or is described).","が is often used when the subject is unknown or when you are providing new information about the subject.","When answering a question that uses が, the answer will typically also use が to emphasize the specific subject."],quiz:[{question:"Which particle marks the grammatical subject when introducing new information or emphasizing it?",options:["は (wa)","が (ga)","を (wo)","で (de)"],answer:"が (ga)"},{question:'In the sentence "ねこがいます。", what does が mark?',options:["Topic","Object","Location","Subject"],answer:"Subject"},{question:"Which of these verbs is typically used with が to indicate existence for living things?",options:["あります (arimasu)","います (imasu)","します (shimasu)","食べます (tabemasu)"],answer:"います (imasu)"}]},{id:"particle_wo",title:"Particle を (wo)",content:`
# Particle を (wo)

The particle を (read as "o", not "wo" in modern Japanese, though written with wo) is primarily used to mark the **direct object** of a transitive verb.

## Direct Object Marker

It indicates the thing or person that directly receives the action of the verb.

### Example:

*   **りんごを食べます。** (Ringo **o** tabemasu.)
    *   りんご (ringo) = apple
    *   食べます (tabemasu) = eat (polite form of 食べる - taberu)
    *   **Meaning:** I eat an apple. / Eat an apple.

Here, "りんご" (apple) is the direct object being eaten.

## Verbs of Movement (through a space)

While を typically marks direct objects, it can also be used with verbs of movement (like 散歩する - sanpo suru, to stroll; 飛ぶ - tobu, to fly; 走る - hashiru, to run) to indicate the space or area through which the movement occurs.

### Example:

*   **公園を散歩します。** (Kouen **o** sanpo shimasu.)
    *   公園 (kouen) = park
    *   散歩します (sanpo shimasu) = stroll (polite form of 散歩する - sanpo suru)
    *   **Meaning:** I stroll through the park.

In this case, "公園" (park) is not a direct object in the traditional sense, but the space traversed.

## Leaving a Place

When a verb implies leaving a place (e.g., 出る - deru, to exit; 卒業する - sotsugyou suru, to graduate), を marks the place being left.

### Example:

*   **家を出ます。** (Ie **o** demasu.)
    *   家 (ie) = house
    *   出ます (demasu) = exit (polite form of 出る - deru)
    *   **Meaning:** I leave the house.

## Placement

を always follows the noun or phrase that is the direct object or the space/place being acted upon.
        `,examples:[{japanese:"水を飲みます。",romaji:"Mizu o nomimasu.",english:"I drink water."},{japanese:"本を読みます。",romaji:"Hon o yomimasu.",english:"I read a book."},{japanese:"道を歩きます。",romaji:"Michi o arukimasu.",english:"I walk along the road."},{japanese:"大学を卒業しました。",romaji:"Daigaku o sotsugyou shimashita.",english:"I graduated from university."}],nuances:["Although written を, it is pronounced exactly the same as お (o) in modern Japanese.","Be careful not to confuse を with other particles that indicate location, such as に or で, which have different nuances."],quiz:[{question:"Which particle is primarily used to mark the direct object of a transitive verb?",options:["が (ga)","を (wo)","は (wa)","に (ni)"],answer:"を (wo)"},{question:"How is を pronounced in modern Japanese?",options:["wo","o","u","e"],answer:"o"},{question:'In the sentence "公園を散歩します。", what does を indicate?',options:["Direct object","Location of action","Means of transport","Space through which movement occurs"],answer:"Space through which movement occurs"}]},{id:"particle_ni",title:"Particle に (ni)",content:`
# Particle に (ni)

The particle に (ni) is a versatile particle with several key functions, primarily indicating **location, direction, time, or the recipient of an action.**

## 1. Destination/Direction (to, toward)

に marks the destination or direction of movement verbs like 行く (iku - to go), 来る (kuru - to come), 帰る (kaeru - to return).

### Example:

*   **日本に行きます。** (Nihon **ni** ikimasu.)
    *   日本 (Nihon) = Japan
    *   行きます (ikimasu) = go (polite form of 行く - iku)
    *   **Meaning:** I go to Japan.

## 2. Location of Existence (in, at, on)

に indicates the static location where something or someone exists, used with います (imasu - for living things) and あります (arimasu - for inanimate objects).

### Example:

*   **部屋に本があります。** (Heya **ni** hon ga arimasu.)
    *   部屋 (heya) = room
    *   本 (hon) = book
    *   あります (arimasu) = exists (for inanimate objects)
    *   **Meaning:** There is a book in the room.

## 3. Time (at, on, in)

に specifies a point in time when an action occurs. It is used with specific times, days of the week, months, and years, but generally *not* with relative times like 今日 (kyou - today) or 毎日 (mainichi - every day).

### Example:

*   **７時に起きます。** (Shichi-ji **ni** okimasu.)
    *   ７時 (shichi-ji) = 7 o'clock
    *   起きます (okimasu) = wake up (polite form of 起きる - okiru)
    *   **Meaning:** I wake up at 7 o'clock.

## 4. Recipient of an Action (to, for)

に marks the indirect object or the recipient of an action, often with verbs like あげる (ageru - to give), もらう (morau - to receive), 教える (oshieru - to teach).

### Example:

*   **友達にプレゼントをあげます。** (Tomodachi **ni** purezento o agemasu.)
    *   友達 (tomodachi) = friend
    *   プレゼント (purezento) = present
    *   あげます (agemasu) = give
    *   **Meaning:** I give a present to my friend.

## 5. Purpose of Movement

に can indicate the purpose for which one goes or comes, often followed by a verb in the ます-stem form or a noun.

### Example:

*   **買い物に行きます。** (Kaimono **ni** ikimasu.)
    *   買い物 (kaimono) = shopping
    *   **Meaning:** I go for shopping. / I go to shop.

## Placement

に always follows the noun or phrase it modifies.
        `,examples:[{japanese:"学校に行きます。",romaji:"Gakkou ni ikimasu.",english:"I go to school."},{japanese:"机の上に本があります。",romaji:"Tsukue no ue ni hon ga arimasu.",english:"There is a book on the desk."},{japanese:"日曜日に映画を見ます。",romaji:"Nichiyoubi ni eiga o mimasu.",english:"I watch a movie on Sunday."},{japanese:"先生に質問します。",romaji:"Sensei ni shitsumon shimasu.",english:"I ask the teacher a question."},{japanese:"食べに行きます。",romaji:"Tabe ni ikimasu.",english:"I go to eat."}],nuances:["に is often confused with で. Remember that に marks the location of existence (static) or destination, while で marks the location where an action takes place.","When used with time, に is generally for specific points in time. For durations or general times, other expressions are used."],quiz:[{question:"Which of the following is NOT a primary function of the particle に?",options:["Indicating destination","Indicating location of action","Indicating time","Indicating recipient of action"],answer:"Indicating location of action"},{question:'In "日本に行きます。", what does に mark?',options:["Origin","Destination","Means","Time"],answer:"Destination"},{question:"Which verb is typically used with に to indicate existence for inanimate objects?",options:["います (imasu)","あります (arimasu)","します (shimasu)","食べます (tabemasu)"],answer:"あります (arimasu)"}]},{id:"particle_de",title:"Particle で (de)",content:`
# Particle で (de)

The particle で (de) is a versatile particle with several key functions, primarily indicating **the location where an action takes place, the means/method, or the cause/reason.**

## 1. Location of Action (at, in)

で marks the place where an action or event occurs. This is a crucial distinction from に, which marks the location of existence or destination.

### Example:

*   **図書館で勉強します。** (Toshokan **de** benkyou shimasu.)
    *   図書館 (toshokan) = library
    *   勉強します (benkyou shimasu) = study (polite form of 勉強する - benkyou suru)
    *   **Meaning:** I study at the library.

Here, the action of studying is *performed* at the library.

## 2. Means or Method (by, with, using)

で indicates the tool, method, or means by which an action is performed.

### Example:

*   **バスで学校に行きます。** (Basu **de** gakkou ni ikimasu.)
    *   バス (basu) = bus
    *   学校 (gakkou) = school
    *   行きます (ikimasu) = go
    *   **Meaning:** I go to school by bus.

Here, "バス" (bus) is the means of transportation.

## 3. Cause or Reason (because of, due to)

で can indicate the cause or reason for something, often an undesirable outcome.

### Example:

*   **病気で会社を休みました。** (Byouki **de** kaisha o yasumimashita.)
    *   病気 (byouki) = sickness
    *   会社 (kaisha) = company
    *   休みました (yasumimashita) = rested/took a day off (past tense of 休む - yasumu)
    *   **Meaning:** I took a day off from work because of sickness.

## 4. Material (made of)

で can indicate the material something is made of.

### Example:

*   **木でできたテーブル。** (Ki **de** dekita teeburu.)
    *   木 (ki) = wood
    *   できた (dekita) = made
    *   テーブル (teeburu) = table
    *   **Meaning:** A table made of wood.

## 5. Scope or Limit (within, among)

で can also indicate a limit or scope, often translated as "within" or "among."

### Example:

*   **クラスで一番背が高いです。** (Kurasu **de** ichiban se ga takai desu.)
    *   クラス (kurasu) = class
    *   一番 (ichiban) = most/best
    *   背が高い (se ga takai) = tall
    *   **Meaning:** I am the tallest in the class.

## Placement

で always follows the noun or phrase it modifies.
        `,examples:[{japanese:"レストランで食事をします。",romaji:"Resutoran de shokuji o shimasu.",english:"I eat a meal at the restaurant."},{japanese:"はしで食べます。",romaji:"Hashi de tabemasu.",english:"I eat with chopsticks."},{japanese:"地震でビルが倒れました。",romaji:"Jishin de biru ga taoremashita.",english:"The building collapsed due to the earthquake."},{japanese:"紙で飛行機を作ります。",romaji:"Kami de hikouki o tsukurimasu.",english:"I make a paper airplane from paper."}],nuances:["The most common confusion is between で and に for location. Remember: で = location of action, に = location of existence/destination.","When indicating a means, で can be used for transportation, tools, languages, etc."],quiz:[{question:"Which particle marks the location where an action takes place?",options:["に (ni)","で (de)","を (wo)","は (wa)"],answer:"で (de)"},{question:'In "バスで学校に行きます。", what does で indicate?',options:["Destination","Time","Means/Method","Recipient"],answer:"Means/Method"},{question:"Which of the following sentences correctly uses で to indicate the location of an action?",options:["公園に遊びます。 (Kouen ni asobimasu.)","公園で遊びます。 (Kouen de asobimasu.)","公園を遊びます。 (Kouen o asobimasu.)","公園は遊びます。 (Kouen wa asobimasu.)"],answer:"公園で遊びます。 (Kouen de asobimasu.)"}]}]},{id:"verb_conjugation",title:"Verb Conjugation",description:"Learn how to conjugate verbs into different forms: ます, て, た, ない.",topics:[{id:"masu_form",title:"ます Form",content:`
# ます Form (Polite Form)

The ます form is the most common and fundamental polite form of Japanese verbs. It is used in everyday conversations to show respect to the listener and is a good starting point for beginners.

## Formation

The ます form is attached to the **masu-stem** of a verb. The masu-stem is derived differently for Group 1 (Godan) and Group 2 (Ichidan) verbs.

### Group 1 Verbs (Godan Verbs)

For Group 1 verbs, change the final "u" sound of the dictionary form to the "i" sound and then add ます.

*   **行く (iku - to go)** → 行き (iki) + ます → **行きます (ikimasu)**
*   **飲む (nomu - to drink)** → 飲み (nomi) + ます → **飲みます (nomimasu)**
*   **話す (hanasu - to speak)** → 話し (hanashi) + ます → **話します (hanashimasu)**

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) from the dictionary form and add ます.

*   **食べる (taberu - to eat)** → 食べ (tabe) + ます → **食べます (tabemasu)**
*   **見る (miru - to see)** → 見 (mi) + ます → **見ます (mimasu)**
*   **起きる (okiru - to wake up)** → 起き (oki) + ます → **起きます (okimasu)**

### Irregular Verbs

There are two main irregular verbs:

*   **する (suru - to do)** → **します (shimasu)**
*   **来る (kuru - to come)** → **来ます (kimasu)**

## Usage

The ます form is used for:

1.  **Polite statements:** It makes your sentences polite and suitable for most social situations.
    *   **毎日日本語を勉強します。** (Mainichi Nihongo o benkyou shimasu.) - I study Japanese every day.

2.  **Present and Future Tense:** It can indicate actions happening now, habitually, or in the future.
    *   **今、本を読みます。** (Ima, hon o yomimasu.) - I am reading a book now.
    *   **明日、映画を見ます。** (Ashita, eiga o mimasu.) - I will watch a movie tomorrow.

3.  **Invitations/Suggestions (with か):** Adding か (ka) at the end turns it into a polite question or invitation.
    *   **一緒に食べませんか？** (Issho ni tabemasen ka?) - Won't you eat together? (Invitation)

## Negative Form (ません)

To make the ます form negative, change ます to ません (masen).

*   **行きます (ikimasu)** → **行きません (ikimasen - won't go)**
*   **食べます (tabemasu)** → **食べません (tabemasen - won't eat)**

## Past Tense (ました)

To make the ます form past tense, change ます to ました (mashita).

*   **行きます (ikimasu)** → **行きました (ikimashita - went)**
*   **食べます (tabemasu)** → **食べました (tabemashita - ate)**

## Past Negative (ませんでした)

To make the ます form past negative, change ます to ませんでした (masen deshita).

*   **行きます (ikimasu)** → **行きませんでした (ikimasen deshita - didn't go)**
*   **食べます (tabemasu)** → **食べませんでした (tabemasen deshita - didn't eat)**
        `,examples:[{japanese:"毎朝コーヒーを飲みます。",romaji:"Maiasa koohii o nomimasu.",english:"I drink coffee every morning."},{japanese:"週末に友達と会います。",romaji:"Shuumatsu ni tomodachi to aimasu.",english:"I will meet my friend on the weekend."},{japanese:"昨日は働きませんでした。",romaji:"Kinou wa hatarakimasen deshita.",english:"I didn't work yesterday."}],nuances:["The ます form is essential for polite communication in Japanese. It is the default form you should use when speaking to people you don't know well, superiors, or in formal situations.","While it covers present and future, context usually clarifies which tense is intended."],quiz:[{question:"What is the ます form of the verb 食べる (taberu - to eat)?",options:["食べます (tabemasu)","食べます (tabemasu)","食べます (tabemasu)","食べます (tabemasu)"],answer:"食べます (tabemasu)"},{question:"What is the negative ます form of 行く (iku - to go)?",options:["行きます (ikimasu)","行きません (ikimasen)","行きました (ikimashita)","行かなかった (ikanakatta)"],answer:"行きません (ikimasen)"},{question:"Which of the following sentences uses the ます form correctly?",options:["昨日、本を読みました。 (Kinou, hon o yomimashita.)","明日、映画を見ます。 (Ashita, eiga o mimasu.)","毎日日本語を勉強します。 (Mainichi Nihongo o benkyou shimasu.)","All of the above."],answer:"All of the above."}]},{id:"te_form",title:"て Form",content:`
# て Form

The て form is one of the most versatile and frequently used verb forms in Japanese. It does not have a tense on its own but connects clauses and indicates various relationships between actions or states.

## Formation

The formation of the て form depends on the verb group.

### Group 1 Verbs (Godan Verbs)

This group has several sound changes (euphonic changes) before adding て.

*   Verbs ending in う, つ, る → って
    *   **買う (kau - to buy)** → 買って (katte)
    *   **待つ (matsu - to wait)** → 待って (matte)
    *   **帰る (kaeru - to return)** → 帰って (kaette)

*   Verbs ending in む, ぶ, ぬ → んで
    *   **読む (yomu - to read)** → 読んで (yonde)
    *   **遊ぶ (asobu - to play)** → 遊んで (asonde)
    *   **死ぬ (shinu - to die)** → 死んで (shinde)

*   Verbs ending in く → いて
    *   **書く (kaku - to write)** → 書いて (kaite)

*   Verbs ending in ぐ → いで
    *   **泳ぐ (oyogu - to swim)** → 泳いで (oyoide)

*   Verbs ending in す → して
    *   **話す (hanasu - to speak)** → 話して (hanashite)

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) and add て.

*   **食べる (taberu - to eat)** → 食べて (tabete)
*   **見る (miru - to see)** → 見て (mite)

### Irregular Verbs

*   **する (suru - to do)** → **して (shite)**
*   **来る (kuru - to come)** → **来て (kite)**

## Common Usages

1.  **Connecting Actions (and, then):** To list actions in chronological order.
    *   **朝ごはんを食べて、学校に行きます。** (Asagohan o tabete, gakkou ni ikimasu.) - I eat breakfast, and then go to school.

2.  **Request/Command (ください):** To make a polite request.
    *   **座ってください。** (Suwatte kudasai.) - Please sit down.

3.  **Ongoing Action (いる):** To indicate an action in progress.
    *   **本を読んでいます。** (Hon o yonde imasu.) - I am reading a book.

4.  **Permission (もいいです):** To ask for or grant permission.
    *   **入ってもいいですか？** (Haitte mo ii desu ka?) - May I come in?

5.  **Prohibition (はいけません):** To prohibit an action.
    *   **ここで写真を撮ってはいけません。** (Koko de shashin o totte wa ikemasen.) - You must not take pictures here.

6.  **Cause/Reason (から):** To state a reason or cause.
    *   **頭が痛くて、学校を休みました。** (Atama ga itakute, gakkou o yasumimashita.) - I had a headache, so I took a day off from school.

7.  **Sequential Actions (から):** To indicate that one action happens after another.
    *   **宿題をしてから、遊びに行きます。** (Shukudai o shite kara, asobi ni ikimasu.) - After doing homework, I will go play.

## Placement

て form connects verbs, adjectives, and nouns to other clauses or particles.
        `,examples:[{japanese:"テレビを見て、寝ます。",romaji:"Terebi o mite, nemasu.",english:"I watch TV, then go to sleep."},{japanese:"この本を読んでください。",romaji:"Kono hon o yonde kudasai.",english:"Please read this book."},{japanese:"雨が降っていて、寒いです。",romaji:"Ame ga futte ite, samui desu.",english:"It's raining and cold."}],nuances:["The euphonic changes for Group 1 verbs are crucial to memorize. They are consistent and apply to other verb forms as well.","The て form is incredibly versatile and its meaning often depends on the particle or verb that follows it."],quiz:[{question:"What is the て form of the verb 食べる (taberu - to eat)?",options:["食べって (tabette)","食べて (tabete)","食べで (tabede)","食べし (tabeshi)"],answer:"食べて (tabete)"},{question:"Which of the following is the て form of 行く (iku - to go)?",options:["行って (itte)","行きって (ikitte)","行いて (iite)","行んで (inde)"],answer:"行って (itte)"},{question:'In the sentence "本を読んでいます。", what does the て form + います indicate?',options:["Past action","Future action","Ongoing action","Completed action"],answer:"Ongoing action"}]},{id:"ta_form",title:"た Form",content:`
# た Form (Plain Past Form)

The た form is the plain past tense of Japanese verbs. It is equivalent to the "-ed" or irregular past tense forms in English (e.g., "ate," "went"). It is used in casual speech and as a building block for many other grammatical structures.

## Formation

The formation of the た form follows the same euphonic changes as the て form, simply replacing て with た, and で with だ.

### Group 1 Verbs (Godan Verbs)

*   Verbs ending in う, つ, る → った
    *   **買う (kau - to buy)** → 買った (katta)
    *   **待つ (matsu - to wait)** → 待った (matta)
    *   **帰る (kaeru - to return)** → 帰った (kaetta)

*   Verbs ending in む, ぶ, ぬ → んだ
    *   **読む (yomu - to read)** → 読んだ (yonda)
    *   **遊ぶ (asobu - to play)** → 遊んだ (asonda)
    *   **死ぬ (shinu - to die)** → 死んだ (shinda)

*   Verbs ending in く → いた
    *   **書く (kaku - to write)** → 書いた (kaita)

*   Verbs ending in ぐ → いだ
    *   **泳ぐ (oyogu - to swim)** → 泳いだ (oyoida)

*   Verbs ending in す → した
    *   **話す (hanasu - to speak)** → 話した (hanashita)

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) and add た.

*   **食べる (taberu - to eat)** → 食べた (tabeta)
*   **見る (miru - to see)** → 見た (mita)

### Irregular Verbs

*   **する (suru - to do)** → **した (shita)**
*   **来る (kuru - to come)** → **来た (kita)**

## Usage

The た form is used for:

1.  **Plain Past Tense:** To indicate actions that happened in the past in casual speech.
    *   **昨日、映画を見た。** (Kinou, eiga o mita.) - I watched a movie yesterday.

2.  **As a Modifier:** It can directly modify nouns, acting like a relative clause.
    *   **昨日食べたケーキは美味しかった。** (Kinou tabeta keeki wa oishikatta.) - The cake I ate yesterday was delicious.

3.  **Experience (ことがある):** To express having done something before.
    *   **日本に行ったことがあります。** (Nihon ni itta koto ga arimasu.) - I have been to Japan.

4.  **Conditional (ら):** To form a conditional clause.
    *   **雨が降ったら、家にいます。** (Ame ga futtara, ie ni imasu.) - If it rains, I will stay home.

## Negative Form (なかった)

To make the た form negative, use the ない form stem and add かった.

*   **行く (iku)** → 行かない (ikanai) → **行かなかった (ikanakatta - didn't go)**
*   **食べる (taberu)** → 食べない (tabenai) → **食べなかった (tabenakatta - didn't eat)**
        `,examples:[{japanese:"先週、新しい本を買った。",romaji:"Senshuu, atarashii hon o katta.",english:"Last week, I bought a new book."},{japanese:"友達と公園で遊んだ。",romaji:"Tomodachi to kouen de asonda.",english:"I played with my friend in the park."},{japanese:"あの映画は面白かった。",romaji:"Ano eiga wa omoshirokatta.",english:"That movie was interesting."}],nuances:["The た form is the plain form equivalent of the polite ました form. It is crucial for casual conversations and for forming more complex grammatical structures.","Mastering the euphonic changes is key to correctly forming both the て form and the た form."],quiz:[{question:"What is the た form of the verb 食べる (taberu - to eat)?",options:["食べった (tabetta)","食べた (tabeta)","食べだ (tabeda)","食べし (tabeshi)"],answer:"食べた (tabeta)"},{question:"Which of the following is the た form of 行く (iku - to go)?",options:["行った (itta)","行きった (ikitta)","行いた (iita)","行んだ (inda)"],answer:"行った (itta)"},{question:'In the sentence "日本に行ったことがあります。", what does the た form + ことがあります express?',options:["Future plan","Past experience","Current state","Obligation"],answer:"Past experience"}]},{id:"nai_form",title:"ない Form",content:`
# ない Form (Plain Negative Form)

The ない form is the plain negative form of Japanese verbs. It is used in casual speech to express that an action will not happen, is not happening, or did not happen. It is also a building block for many other negative grammatical structures.

## Formation

The formation of the ない form depends on the verb group.

### Group 1 Verbs (Godan Verbs)

For Group 1 verbs, change the final "u" sound of the dictionary form to the "a" sound and then add ない. If the verb ends in う (u), it changes to わ (wa) before adding ない.

*   **行く (iku - to go)** → 行か (ika) + ない → **行かない (ikanai)**
*   **飲む (nomu - to drink)** → 飲ま (noma) + ない → **飲まない (nomanai)**
*   **話す (hanasu - to speak)** → 話さ (hanasa) + ない → **話さない (hanasanai)**
*   **買う (kau - to buy)** → 買わ (kawa) + ない → **買わない (kawanai)**

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) from the dictionary form and add ない.

*   **食べる (taberu - to eat)** → 食べ (tabe) + ない → **食べない (tabenai)**
*   **見る (miru - to see)** → 見 (mi) + ない → **見ない (minai)**
*   **起きる (okiru - to wake up)** → 起き (oki) + ない → **起きない (okinai)**

### Irregular Verbs

*   **する (suru - to do)** → **しない (shinai)**
*   **来る (kuru - to come)** → **来ない (konai)**

## Usage

The ない form is used for:

1.  **Plain Negative Statements:** To express negation in casual speech.
    *   **明日、学校に行かない。** (Ashita, gakkou ni ikanai.) - I won't go to school tomorrow.

2.  **Prohibition (でください):** To tell someone not to do something (less polite than ないでください).
    *   **ここに座らないでください。** (Koko ni suwaranai de kudasai.) - Please don't sit here.

3.  **Necessity (なければならない):** To express obligation or necessity.
    *   **勉強しなければならない。** (Benkyou shinakereba naranai.) - I must study.

4.  **Without Doing (ないで):** To indicate doing something without doing another action.
    *   **何も食べないで寝た。** (Nani mo tabenai de neta.) - I went to bed without eating anything.

## Past Negative (なかった)

To make the ない form past tense, replace the い with かった.

*   **行かない (ikanai)** → **行かなかった (ikanakatta - didn't go)**
*   **食べない (tabenai)** → **食べなかった (tabenakatta - didn't eat)**
        `,examples:[{japanese:"今日は何も食べない。",romaji:"Kyou wa nani mo tabenai.",english:"I won't eat anything today."},{japanese:"嘘をつかないでください。",romaji:"Uso o tsukanai de kudasai.",english:"Please don't lie."},{japanese:"まだ宿題をしていない。",romaji:"Mada shukudai o shite inai.",english:"I haven't done my homework yet."}],nuances:["The ない form is the plain negative equivalent of the polite ません form. It is crucial for casual conversations and for forming more complex negative grammatical structures.","Pay close attention to the vowel changes for Group 1 verbs, especially the う → わ change."],quiz:[]}]},{id:"adjective_forms",title:"Adjective Forms",description:"Explore the different forms of い-adjectives and な-adjectives.",topics:[{id:"i_adjective",title:"い-Adjectives",content:`
# い-Adjectives

い-adjectives (い形容詞 - i-keiyoushi) are a category of Japanese adjectives that always end with the hiragana い (i) in their dictionary form. They directly modify nouns and can be conjugated to express different tenses and polarities.

## Usage

1.  **Modifying Nouns:** Place the い-adjective directly before the noun it modifies.
    *   **高い山** (takai yama) - a tall mountain
    *   **新しい車** (atarashii kuruma) - a new car

2.  **Predicating Sentences:** When an い-adjective ends a sentence, it acts as the predicate.
    *   **この本は面白いです。** (Kono hon wa omoshiroi desu.) - This book is interesting.

## Conjugation

い-adjectives conjugate by changing the final い.

### 1. Negative Form (くない)

Replace the final い with くない (kunai).

*   **高い (takai - expensive/tall)** → 高くない (takakunai - not expensive/tall)
*   **美味しい (oishii - delicious)** → 美味しくない (oishikunai - not delicious)

### 2. Past Form (かった)

Replace the final い with かった (katta).

*   **高い (takai)** → 高かった (takakatta - was expensive/tall)
*   **美味しい (oishii)** → 美味しかった (oishikatta - was delicious)

### 3. Past Negative Form (くなかった)

Combine the negative and past forms: replace the final い with くなかった (kunakatta).

*   **高い (takai)** → 高くなかった (takakunakatta - was not expensive/tall)
*   **美味しい (oishii)** → 美味しくなかった (oishikunakatta - was not delicious)

### 4. Connecting Adjectives (くて)

To connect two い-adjectives or an い-adjective to a verb, change the final い to くて (kute).

*   **安くて美味しいレストラン** (yasukute oishii resutoran) - a cheap and delicious restaurant
*   **寒くて、外に出たくない。** (Samukute, soto ni detakunai.) - It's cold, so I don't want to go outside.

## Special Case: 良い (ii - good)

The adjective 良い (ii - good) is irregular. While its dictionary form is 良い (ii), its conjugations are based on 良い (yoi).

*   **良い (ii)** → 良くない (yokunai - not good)
*   **良い (ii)** → 良かった (yokatta - was good)
*   **良い (ii)** → 良くなかった (yokunakatta - was not good)
        `,examples:[{japanese:"このりんごは甘いです。",romaji:"Kono ringo wa amai desu.",english:"This apple is sweet."},{japanese:"昨日は寒かったです。",romaji:"Kinou wa samukatta desu.",english:"It was cold yesterday."},{japanese:"この映画は面白くないです。",romaji:"Kono eiga wa omoshirokunai desu.",english:"This movie is not interesting."}],nuances:["い-adjectives directly modify nouns without needing any particle in between.","The final い is dropped before adding conjugation endings.","Remember the irregular conjugation of 良い (ii)."],quiz:[{question:"Which of the following is an い-adjective?",options:["きれい (kirei)","静か (shizuka)","高い (takai)","有名 (yuumei)"],answer:"高い (takai)"},{question:"What is the negative form of 美味しい (oishii - delicious)?",options:["美味しいじゃない (oishii janai)","美味しくない (oishikunai)","美味しくなかった (oishikunakatta)","美味しいではありません (oishii dewa arimasen)"],answer:"美味しくない (oishikunai)"},{question:"What is the past form of 良い (ii - good)?",options:["良かった (yokatta)","いいかった (iikatta)","良くない (yokunai)","良いでした (ii deshita)"],answer:"良かった (yokatta)"}]},{id:"na_adjective",title:"な-Adjectives",content:`
# な-Adjectives

な-adjectives (な形容詞 - na-keiyoushi), also known as nominal adjectives or adjectival nouns, are a category of Japanese adjectives that require the particle な (na) when directly modifying a noun. When used as a predicate at the end of a sentence, they typically end with です (desu) or だ (da).

## Usage

1.  **Modifying Nouns:** Add な (na) between the な-adjective and the noun it modifies.
    *   **きれいな花** (kirei **na** hana) - a beautiful flower
    *   **有名な場所** (yuumei **na** basho) - a famous place

2.  **Predicating Sentences:** When a な-adjective ends a sentence, it acts as the predicate and is followed by です (desu) for polite speech or だ (da) for plain speech.
    *   **この部屋はきれいです。** (Kono heya wa kirei desu.) - This room is beautiful.
    *   **彼は有名だ。** (Kare wa yuumei da.) - He is famous.

## Conjugation

な-adjectives conjugate using です/だ and their negative/past forms.

### 1. Negative Form (じゃない / ではありません)

For plain negative, add じゃない (janai). For polite negative, add ではありません (dewa arimasen) or じゃありません (ja arimasen).

*   **きれい (kirei - beautiful/clean)** → きれいじゃない (kirei janai - not beautiful/clean)
*   **きれい (kirei)** → きれいではありません (kirei dewa arimasen - not beautiful/clean, polite)

### 2. Past Form (だった / でした)

For plain past, add だった (datta). For polite past, add でした (deshita).

*   **きれい (kirei)** → きれいだった (kirei datta - was beautiful/clean)
*   **きれい (kirei)** → きれいでした (kirei deshita - was beautiful/clean, polite)

### 3. Past Negative Form (じゃなかった / ではありませんでした)

For plain past negative, add じゃなかった (janakatta). For polite past negative, add ではありませんでした (dewa arimasen deshita) or じゃありませんでした (ja arimasen deshita).

*   **きれい (kirei)** → きれいじゃなかった (kirei janakatta - was not beautiful/clean)
*   **きれい (kirei)** → きれいではありませんでした (kirei dewa arimasen deshita - was not beautiful/clean, polite)

### 4. Connecting Adjectives (で)

To connect two な-adjectives or a な-adjective to a verb, use で (de).

*   **静かで便利な場所** (shizuka **de** benri na basho) - a quiet and convenient place
*   **元気で頑張ります。** (Genki **de** ganbarimasu.) - I'll do my best energetically.
        `,examples:[{japanese:"これは便利な辞書です。",romaji:"Kore wa benri na jisho desu.",english:"This is a convenient dictionary."},{japanese:"昨日は暇でした。",romaji:"Kinou wa hima deshita.",english:"I was free yesterday."},{japanese:"この町は静かじゃない。",romaji:"Kono machi wa shizuka janai.",english:"This town is not quiet."}],nuances:["The key difference from い-adjectives is the need for な when modifying nouns.","な-adjectives behave more like nouns when used as predicates, taking です/だ and their conjugations.","Many な-adjectives are derived from Chinese loanwords or are concepts that describe a state or quality."],quiz:[{question:"Which particle is required when a な-adjective directly modifies a noun?",options:["が (ga)","を (wo)","な (na)","に (ni)"],answer:"な (na)"},{question:"What is the polite past form of きれい (kirei - beautiful/clean)?",options:["きれいだった (kirei datta)","きれいでした (kirei deshita)","きれいじゃない (kirei janai)","きれいではありません (kirei dewa arimasen)"],answer:"きれいでした (kirei deshita)"},{question:'In the phrase "静かで便利な場所", what does で connect?',options:["Two nouns","A noun and a verb","Two な-adjectives","An い-adjective and a な-adjective"],answer:"Two な-adjectives"}]}]}];function da(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Et=da();function Ci(a){Et=a}const qi=/[&<>"']/,jr=new RegExp(qi.source,"g"),Pi=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Tr=new RegExp(Pi.source,"g"),zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xa=a=>zr[a];function Fe(a,e){if(e){if(qi.test(a))return a.replace(jr,xa)}else if(Pi.test(a))return a.replace(Tr,xa);return a}const Ir=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Sr(a){return a.replace(Ir,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Wr=/(^|[^\[])\^/g;function we(a,e){let t=typeof a=="string"?a:a.source;e=e||"";const n={replace:(i,o)=>{let r=typeof o=="string"?o:o.source;return r=r.replace(Wr,"$1"),t=t.replace(i,r),n},getRegex:()=>new RegExp(t,e)};return n}function Ka(a){try{a=encodeURI(a).replace(/%25/g,"%")}catch{return null}return a}const mn={exec:()=>null};function Ha(a,e){const t=a.replace(/\|/g,(o,r,u)=>{let s=!1,l=r;for(;--l>=0&&u[l]==="\\";)s=!s;return s?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Mn(a,e,t){const n=a.length;if(n===0)return"";let i=0;for(;i<n&&a.charAt(n-i-1)===e;)i++;return a.slice(0,n-i)}function Er(a,e){if(a.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<a.length;n++)if(a[n]==="\\")n++;else if(a[n]===e[0])t++;else if(a[n]===e[1]&&(t--,t<0))return n;return-1}function Ga(a,e,t,n){const i=e.href,o=e.title?Fe(e.title):null,r=a[1].replace(/\\([\[\]])/g,"$1");if(a[0].charAt(0)!=="!"){n.state.inLink=!0;const u={type:"link",raw:t,href:i,title:o,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,u}return{type:"image",raw:t,href:i,title:o,text:Fe(r)}}function Ar(a,e){const t=a.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[r]=o;return r.length>=n.length?i.slice(n.length):i}).join(`
`)}class Jn{constructor(e){je(this,"options");je(this,"rules");je(this,"lexer");this.options=e||Et}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Mn(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=Ar(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Mn(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);n=Mn(n.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:o,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const r=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u="",s="",l=!1;for(;e;){let h=!1;if(!(t=r.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let c=t[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),d=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,s=c.trimStart()):(p=t[2].search(/[^ ]/),p=p>4?1:p,s=c.slice(p),p+=t[1].length);let k=!1;if(!c&&/^ *$/.test(d)&&(u+=d+`
`,e=e.substring(d.length+1),h=!0),!h){const S=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const E=e.split(`
`,1)[0];if(d=E,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(d)||P.test(d)||S.test(d)||C.test(e))break;if(d.search(/[^ ]/)>=p||!d.trim())s+=`
`+d.slice(p);else{if(k||c.search(/[^ ]/)>=4||x.test(c)||P.test(c)||C.test(c))break;s+=`
`+d}!k&&!d.trim()&&(k=!0),u+=E+`
`,e=e.substring(E.length+1),c=d.slice(p)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(u)&&(l=!0));let _=null,y;this.options.gfm&&(_=/^\[[ xX]\] /.exec(s),_&&(y=_[0]!=="[ ] ",s=s.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:u,task:!!_,checked:y,loose:!1,text:s,tokens:[]}),o.raw+=u}o.items[o.items.length-1].raw=u.trimEnd(),o.items[o.items.length-1].text=s.trimEnd(),o.raw=o.raw.trimEnd();for(let h=0;h<o.items.length;h++)if(this.lexer.state.top=!1,o.items[h].tokens=this.lexer.blockTokens(o.items[h].text,[]),!o.loose){const c=o.items[h].tokens.filter(p=>p.type==="space"),d=c.length>0&&c.some(p=>/\n.*\n/.test(p.raw));o.loose=d}if(o.loose)for(let h=0;h<o.items.length;h++)o.items[h].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const n=Ha(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],r={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const u of i)/^ *-+: *$/.test(u)?r.align.push("right"):/^ *:-+: *$/.test(u)?r.align.push("center"):/^ *:-+ *$/.test(u)?r.align.push("left"):r.align.push(null);for(const u of n)r.header.push({text:u,tokens:this.lexer.inline(u)});for(const u of o)r.rows.push(Ha(u,r.header.length).map(s=>({text:s,tokens:this.lexer.inline(s)})));return r}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Fe(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const r=Mn(n.slice(0,-1),"\\");if((n.length-r.length)%2===0)return}else{const r=Er(t[2],"()");if(r>-1){const s=(t[0].indexOf("!")===0?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);r&&(i=r[1],o=r[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Ga(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(/\s+/g," "),o=t[i.toLowerCase()];if(!o){const r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return Ga(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const r=[...i[0]].length-1;let u,s,l=r,h=0;const c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+r);(i=c.exec(t))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(s=[...u].length,i[3]||i[4]){l+=s;continue}else if((i[5]||i[6])&&r%3&&!((r+s)%3)){h+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+h);const d=[...i[0]][0].length,p=e.slice(0,r+i.index+d+s);if(Math.min(r,s)%2){const _=p.slice(1,-1);return{type:"em",raw:p,text:_,tokens:this.lexer.inlineTokens(_)}}const k=p.slice(2,-2);return{type:"strong",raw:p,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=Fe(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=Fe(t[1]),i="mailto:"+n):(n=Fe(t[1]),i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,o;if(t[2]==="@")i=Fe(t[0]),o="mailto:"+i;else{let r;do r=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(r!==t[0]);i=Fe(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=Fe(t[0]),{type:"text",raw:t[0],text:n}}}}const Rr=/^(?: *(?:\n|$))+/,Or=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Cr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,wn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qr=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Di=/(?:[*+-]|\d{1,9}[.)])/,Mi=we(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Di).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ma=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Pr=/^[^\n]+/,pa=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Dr=we(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",pa).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Mr=we(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Di).getRegex(),Yn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ka=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nr=we("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ka).replace("tag",Yn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ni=we(ma).replace("hr",wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yn).getRegex(),Lr=we(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ni).getRegex(),ga={blockquote:Lr,code:Or,def:Dr,fences:Cr,heading:qr,hr:wn,html:Nr,lheading:Mi,list:Mr,newline:Rr,paragraph:Ni,table:mn,text:Pr},Ja=we("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yn).getRegex(),$r={...ga,table:Ja,paragraph:we(ma).replace("hr",wn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ja).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yn).getRegex()},Br={...ga,html:we(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ka).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:we(ma).replace("hr",wn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Mi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Li=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fr=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,$i=/^( {2,}|\\)\n(?!\s*$)/,xr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,jn="\\p{P}\\p{S}",Kr=we(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,jn).getRegex(),Hr=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Gr=we(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,jn).getRegex(),Jr=we("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,jn).getRegex(),Ur=we("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,jn).getRegex(),Vr=we(/\\([punct])/,"gu").replace(/punct/g,jn).getRegex(),Yr=we(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Qr=we(ka).replace("(?:-->|$)","-->").getRegex(),Zr=we("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Qr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Un=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Xr=we(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Un).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bi=we(/^!?\[(label)\]\[(ref)\]/).replace("label",Un).replace("ref",pa).getRegex(),Fi=we(/^!?\[(ref)\](?:\[\])?/).replace("ref",pa).getRegex(),es=we("reflink|nolink(?!\\()","g").replace("reflink",Bi).replace("nolink",Fi).getRegex(),_a={_backpedal:mn,anyPunctuation:Vr,autolink:Yr,blockSkip:Hr,br:$i,code:Fr,del:mn,emStrongLDelim:Gr,emStrongRDelimAst:Jr,emStrongRDelimUnd:Ur,escape:Li,link:Xr,nolink:Fi,punctuation:Kr,reflink:Bi,reflinkSearch:es,tag:Zr,text:xr,url:mn},ts={..._a,link:we(/^!?\[(label)\]\((.*?)\)/).replace("label",Un).getRegex(),reflink:we(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Un).getRegex()},ua={..._a,escape:we(Li).replace("])","~|])").getRegex(),url:we(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ns={...ua,br:we($i).replace("{2,}","*").getRegex(),text:we(ua.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nn={normal:ga,gfm:$r,pedantic:Br},fn={normal:_a,gfm:ua,breaks:ns,pedantic:ts};class Ze{constructor(e){je(this,"tokens");je(this,"options");je(this,"state");je(this,"tokenizer");je(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Et,this.options.tokenizer=this.options.tokenizer||new Jn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Nn.normal,inline:fn.normal};this.options.pedantic?(t.block=Nn.pedantic,t.inline=fn.pedantic):this.options.gfm&&(t.block=Nn.gfm,this.options.breaks?t.inline=fn.breaks:t.inline=fn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Nn,inline:fn}}static lex(e,t){return new Ze(t).lex(e)}static lexInline(e,t){return new Ze(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,s,l)=>s+"    ".repeat(l.length));let n,i,o,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const s=e.slice(1);let l;this.options.extensions.startBlock.forEach(h=>{l=h.call({lexer:this},s),typeof l=="number"&&l>=0&&(u=Math.min(u,l))}),u<1/0&&u>=0&&(o=e.substring(0,u+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){i=t[t.length-1],r&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),r=o.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,o,r=e,u,s,l;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)h.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,u.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(n=h.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,r,l)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const c=e.slice(1);let d;this.options.extensions.startInline.forEach(p=>{d=p.call({lexer:this},c),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(o=e.substring(0,h+1))}if(n=this.tokenizer.inlineText(o)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(l=n.raw.slice(-1)),s=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class Vn{constructor(e){je(this,"options");this.options=e||Et}code(e,t,n){var o;const i=(o=(t||"").match(/^\S*/))==null?void 0:o[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Fe(i)+'">'+(n?e:Fe(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Fe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){const i=t?"ol":"ul",o=t&&n!==1?' start="'+n+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const i=Ka(e);if(i===null)return n;e=i;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){const i=Ka(e);if(i===null)return n;e=i;let o=`<img src="${e}" alt="${n}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class va{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Xe{constructor(e){je(this,"options");je(this,"renderer");je(this,"textRenderer");this.options=e||Et,this.options.renderer=this.options.renderer||new Vn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new va}static parse(e,t){return new Xe(t).parse(e)}static parseInline(e,t){return new Xe(t).parseInline(e)}parse(e,t=!0){let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const r=o,u=this.options.extensions.renderers[r.type].call({parser:this},r);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){n+=u||"";continue}}switch(o.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const r=o;n+=this.renderer.heading(this.parseInline(r.tokens),r.depth,Sr(this.parseInline(r.tokens,this.textRenderer)));continue}case"code":{const r=o;n+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{const r=o;let u="",s="";for(let h=0;h<r.header.length;h++)s+=this.renderer.tablecell(this.parseInline(r.header[h].tokens),{header:!0,align:r.align[h]});u+=this.renderer.tablerow(s);let l="";for(let h=0;h<r.rows.length;h++){const c=r.rows[h];s="";for(let d=0;d<c.length;d++)s+=this.renderer.tablecell(this.parseInline(c[d].tokens),{header:!1,align:r.align[d]});l+=this.renderer.tablerow(s)}n+=this.renderer.table(u,l);continue}case"blockquote":{const r=o,u=this.parse(r.tokens);n+=this.renderer.blockquote(u);continue}case"list":{const r=o,u=r.ordered,s=r.start,l=r.loose;let h="";for(let c=0;c<r.items.length;c++){const d=r.items[c],p=d.checked,k=d.task;let _="";if(d.task){const y=this.renderer.checkbox(!!p);l?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=y+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=y+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:y+" "}):_+=y+" "}_+=this.parse(d.tokens,l),h+=this.renderer.listitem(_,k,!!p)}n+=this.renderer.list(h,u,s);continue}case"html":{const r=o;n+=this.renderer.html(r.text,r.block);continue}case"paragraph":{const r=o;n+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=o,u=r.tokens?this.parseInline(r.tokens):r.text;for(;i+1<e.length&&e[i+1].type==="text";)r=e[++i],u+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);n+=t?this.renderer.paragraph(u):u;continue}default:{const r='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let i=0;i<e.length;i++){const o=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const r=this.options.extensions.renderers[o.type].call({parser:this},o);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=r||"";continue}}switch(o.type){case"escape":{const r=o;n+=t.text(r.text);break}case"html":{const r=o;n+=t.html(r.text);break}case"link":{const r=o;n+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break}case"image":{const r=o;n+=t.image(r.href,r.title,r.text);break}case"strong":{const r=o;n+=t.strong(this.parseInline(r.tokens,t));break}case"em":{const r=o;n+=t.em(this.parseInline(r.tokens,t));break}case"codespan":{const r=o;n+=t.codespan(r.text);break}case"br":{n+=t.br();break}case"del":{const r=o;n+=t.del(this.parseInline(r.tokens,t));break}case"text":{const r=o;n+=t.text(r.text);break}default:{const r='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return n}}class pn{constructor(e){je(this,"options");this.options=e||Et}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}je(pn,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Wt,ca,xi;class as{constructor(...e){Ta(this,Wt);je(this,"defaults",da());je(this,"options",this.setOptions);je(this,"parse",Cn(this,Wt,ca).call(this,Ze.lex,Xe.parse));je(this,"parseInline",Cn(this,Wt,ca).call(this,Ze.lexInline,Xe.parseInline));je(this,"Parser",Xe);je(this,"Renderer",Vn);je(this,"TextRenderer",va);je(this,"Lexer",Ze);je(this,"Tokenizer",Jn);je(this,"Hooks",pn);this.use(...e)}walkTokens(e,t){var i,o;let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const u=r;for(const s of u.header)n=n.concat(this.walkTokens(s.tokens,t));for(const s of u.rows)for(const l of s)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{const u=r;n=n.concat(this.walkTokens(u.items,t));break}default:{const u=r;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(s=>{const l=u[s].flat(1/0);n=n.concat(this.walkTokens(l,t))}):u.tokens&&(n=n.concat(this.walkTokens(u.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const r=t.renderers[o.name];r?t.renderers[o.name]=function(...u){let s=o.renderer.apply(this,u);return s===!1&&(s=r.apply(this,u)),s}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=t[o.level];r?r.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),n.renderer){const o=this.defaults.renderer||new Vn(this.defaults);for(const r in n.renderer){if(!(r in o))throw new Error(`renderer '${r}' does not exist`);if(r==="options")continue;const u=r,s=n.renderer[u],l=o[u];o[u]=(...h)=>{let c=s.apply(o,h);return c===!1&&(c=l.apply(o,h)),c||""}}i.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new Jn(this.defaults);for(const r in n.tokenizer){if(!(r in o))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const u=r,s=n.tokenizer[u],l=o[u];o[u]=(...h)=>{let c=s.apply(o,h);return c===!1&&(c=l.apply(o,h)),c}}i.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new pn;for(const r in n.hooks){if(!(r in o))throw new Error(`hook '${r}' does not exist`);if(r==="options")continue;const u=r,s=n.hooks[u],l=o[u];pn.passThroughHooks.has(r)?o[u]=h=>{if(this.defaults.async)return Promise.resolve(s.call(o,h)).then(d=>l.call(o,d));const c=s.call(o,h);return l.call(o,c)}:o[u]=(...h)=>{let c=s.apply(o,h);return c===!1&&(c=l.apply(o,h)),c}}i.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,r=n.walkTokens;i.walkTokens=function(u){let s=[];return s.push(r.call(this,u)),o&&(s=s.concat(o.call(this,u))),s}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ze.lex(e,t??this.defaults)}parser(e,t){return Xe.parse(e,t??this.defaults)}}Wt=new WeakSet,ca=function(e,t){return(n,i)=>{const o={...i},r={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(r.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),r.async=!0);const u=Cn(this,Wt,xi).call(this,!!r.silent,!!r.async);if(typeof n>"u"||n===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(r.hooks&&(r.hooks.options=r),r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(s=>e(s,r)).then(s=>r.hooks?r.hooks.processAllTokens(s):s).then(s=>r.walkTokens?Promise.all(this.walkTokens(s,r.walkTokens)).then(()=>s):s).then(s=>t(s,r)).then(s=>r.hooks?r.hooks.postprocess(s):s).catch(u);try{r.hooks&&(n=r.hooks.preprocess(n));let s=e(n,r);r.hooks&&(s=r.hooks.processAllTokens(s)),r.walkTokens&&this.walkTokens(s,r.walkTokens);let l=t(s,r);return r.hooks&&(l=r.hooks.postprocess(l)),l}catch(s){return u(s)}}},xi=function(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Fe(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}};const St=new as;function me(a,e){return St.parse(a,e)}me.options=me.setOptions=function(a){return St.setOptions(a),me.defaults=St.defaults,Ci(me.defaults),me};me.getDefaults=da;me.defaults=Et;me.use=function(...a){return St.use(...a),me.defaults=St.defaults,Ci(me.defaults),me};me.walkTokens=function(a,e){return St.walkTokens(a,e)};me.parseInline=St.parseInline;me.Parser=Xe;me.parser=Xe.parse;me.Renderer=Vn;me.TextRenderer=va;me.Lexer=Ze;me.lexer=Ze.lex;me.Tokenizer=Jn;me.Hooks=pn;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;Xe.parse;Ze.lex;function is(a){let e,t,n,i,o,r;return{c(){e=v("ruby"),t=z(a[0]),n=v("rp"),n.textContent="(",i=v("rt"),o=z(a[1]),r=v("rp"),r.textContent=")"},m(u,s){O(u,e,s),f(e,t),f(e,n),f(e,i),f(i,o),f(e,r)},p(u,[s]){s&1&&W(t,u[0]),s&2&&W(o,u[1])},i:ee,o:ee,d(u){u&&R(e)}}}function os(a,e,t){let{japanese:n}=e,{reading:i}=e;return a.$$set=o=>{"japanese"in o&&t(0,n=o.japanese),"reading"in o&&t(1,i=o.reading)},[n,i]}class rs extends qe{constructor(e){super(),Ce(this,e,os,is,Ae,{japanese:0,reading:1})}}function Ua(a,e,t){const n=a.slice();return n[14]=e[t],n}function Va(a,e,t){const n=a.slice();return n[17]=e[t],n}function Ya(a,e,t){const n=a.slice();return n[20]=e[t],n}function Qa(a){let e,t=a[7]("examples")+"",n,i,o,r,u=pe(a[0].examples),s=[];for(let h=0;h<u.length;h+=1)s[h]=Za(Ya(a,u,h));const l=h=>re(s[h],1,1,()=>{s[h]=null});return{c(){e=v("h3"),n=z(t),i=A(),o=v("ul");for(let h=0;h<s.length;h+=1)s[h].c();w(o,"class","svelte-apytev")},m(h,c){O(h,e,c),f(e,n),O(h,i,c),O(h,o,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(o,null);r=!0},p(h,c){if((!r||c&128)&&t!==(t=h[7]("examples")+"")&&W(n,t),c&385){u=pe(h[0].examples);let d;for(d=0;d<u.length;d+=1){const p=Ya(h,u,d);s[d]?(s[d].p(p,c),ae(s[d],1)):(s[d]=Za(p),s[d].c(),ae(s[d],1),s[d].m(o,null))}for(dt(),d=u.length;d<s.length;d+=1)l(d);mt()}},i(h){if(!r){for(let c=0;c<u.length;c+=1)ae(s[c]);r=!0}},o(h){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)re(s[c]);r=!1},d(h){h&&(R(e),R(i),R(o)),Ve(s,h)}}}function ss(a){let e=a[20].japanese+"",t;return{c(){t=z(e)},m(n,i){O(n,t,i)},p(n,i){i&1&&e!==(e=n[20].japanese+"")&&W(t,e)},i:ee,o:ee,d(n){n&&R(t)}}}function ls(a){let e,t;return e=new rs({props:{japanese:a[20].japanese,reading:a[20].reading}}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p(n,i){const o={};i&1&&(o.japanese=n[20].japanese),i&1&&(o.reading=n[20].reading),e.$set(o)},i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Za(a){let e,t,n,i,o=a[20].romaji+"",r,u,s=a[7](a[20].english)+"",l,h;const c=[ls,ss],d=[];function p(k,_){return k[8]?0:1}return t=p(a),n=d[t]=c[t](a),{c(){e=v("li"),n.c(),i=z(" ("),r=z(o),u=z(") - "),l=z(s),w(e,"class","svelte-apytev")},m(k,_){O(k,e,_),d[t].m(e,null),f(e,i),f(e,r),f(e,u),f(e,l),h=!0},p(k,_){let y=t;t=p(k),t===y?d[t].p(k,_):(dt(),re(d[y],1,1,()=>{d[y]=null}),mt(),n=d[t],n?n.p(k,_):(n=d[t]=c[t](k),n.c()),ae(n,1),n.m(e,i)),(!h||_&1)&&o!==(o=k[20].romaji+"")&&W(r,o),(!h||_&129)&&s!==(s=k[7](k[20].english)+"")&&W(l,s)},i(k){h||(ae(n),h=!0)},o(k){re(n),h=!1},d(k){k&&R(e),d[t].d()}}}function Xa(a){let e,t=a[7]("nuances_tips")+"",n,i,o,r=pe(a[0].nuances),u=[];for(let s=0;s<r.length;s+=1)u[s]=ei(Va(a,r,s));return{c(){e=v("h3"),n=z(t),i=A(),o=v("ul");for(let s=0;s<u.length;s+=1)u[s].c();w(o,"class","svelte-apytev")},m(s,l){O(s,e,l),f(e,n),O(s,i,l),O(s,o,l);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(o,null)},p(s,l){if(l&128&&t!==(t=s[7]("nuances_tips")+"")&&W(n,t),l&129){r=pe(s[0].nuances);let h;for(h=0;h<r.length;h+=1){const c=Va(s,r,h);u[h]?u[h].p(c,l):(u[h]=ei(c),u[h].c(),u[h].m(o,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}},d(s){s&&(R(e),R(i),R(o)),Ve(u,s)}}}function ei(a){let e,t=a[7](a[17])+"",n;return{c(){e=v("li"),n=z(t),w(e,"class","svelte-apytev")},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&129&&t!==(t=i[7](i[17])+"")&&W(n,t)},d(i){i&&R(e)}}}function ti(a){let e,t=a[7]("mini_quiz")+"",n,i,o;function r(l,h){return l[6]?us:cs}let u=r(a),s=u(a);return{c(){e=v("h3"),n=z(t),i=A(),s.c(),o=rt()},m(l,h){O(l,e,h),f(e,n),O(l,i,h),s.m(l,h),O(l,o,h)},p(l,h){h&128&&t!==(t=l[7]("mini_quiz")+"")&&W(n,t),u===(u=r(l))&&s?s.p(l,h):(s.d(1),s=u(l),s&&(s.c(),s.m(o.parentNode,o)))},d(l){l&&(R(e),R(i),R(o)),s.d(l)}}}function us(a){let e,t,n=a[7]("quiz_complete")+"",i,o,r,u=a[7]("start_new_quiz")+"",s,l,h;return{c(){e=v("div"),t=v("p"),i=z(n),o=A(),r=v("button"),s=z(u),w(e,"class","quiz-completed svelte-apytev")},m(c,d){O(c,e,d),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),l||(h=X(r,"click",a[12]),l=!0)},p(c,d){d&128&&n!==(n=c[7]("quiz_complete")+"")&&W(i,n),d&128&&u!==(u=c[7]("start_new_quiz")+"")&&W(s,u)},d(c){c&&R(e),l=!1,h()}}}function cs(a){let e,t,n=a[0].quiz[a[2]].question+"",i,o,r,u,s=pe(a[0].quiz[a[2]].options),l=[];for(let p=0;p<s.length;p+=1)l[p]=ni(Ua(a,s,p));function h(p,k){return p[5]?fs:hs}let c=h(a),d=c(a);return{c(){e=v("div"),t=v("p"),i=z(n),o=A(),r=v("div");for(let p=0;p<l.length;p+=1)l[p].c();u=A(),d.c(),w(t,"class","question svelte-apytev"),w(r,"class","options svelte-apytev"),w(e,"class","quiz-container svelte-apytev")},m(p,k){O(p,e,k),f(e,t),f(t,i),f(e,o),f(e,r);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(r,null);f(e,u),d.m(e,null)},p(p,k){if(k&5&&n!==(n=p[0].quiz[p[2]].question+"")&&W(i,n),k&557){s=pe(p[0].quiz[p[2]].options);let _;for(_=0;_<s.length;_+=1){const y=Ua(p,s,_);l[_]?l[_].p(y,k):(l[_]=ni(y),l[_].c(),l[_].m(r,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=s.length}c===(c=h(p))&&d?d.p(p,k):(d.d(1),d=c(p),d&&(d.c(),d.m(e,null)))},d(p){p&&R(e),Ve(l,p),d.d()}}}function ni(a){let e,t=a[14]+"",n,i,o,r;function u(){return a[13](a[14])}return{c(){e=v("button"),n=z(t),i=A(),e.disabled=a[5],w(e,"class","svelte-apytev"),he(e,"selected",a[3]===a[14]),he(e,"correct",a[5]&&a[14]===a[0].quiz[a[2]].answer),he(e,"incorrect",a[5]&&a[3]===a[14]&&a[3]!==a[0].quiz[a[2]].answer)},m(s,l){O(s,e,l),f(e,n),f(e,i),o||(r=X(e,"click",u),o=!0)},p(s,l){a=s,l&5&&t!==(t=a[14]+"")&&W(n,t),l&32&&(e.disabled=a[5]),l&13&&he(e,"selected",a[3]===a[14]),l&37&&he(e,"correct",a[5]&&a[14]===a[0].quiz[a[2]].answer),l&45&&he(e,"incorrect",a[5]&&a[3]===a[14]&&a[3]!==a[0].quiz[a[2]].answer)},d(s){s&&R(e),o=!1,r()}}}function hs(a){let e,t=a[7]("check_answer")+"",n,i,o,r;return{c(){e=v("button"),n=z(t),e.disabled=i=a[3]===null},m(u,s){O(u,e,s),f(e,n),o||(r=X(e,"click",a[10]),o=!0)},p(u,s){s&128&&t!==(t=u[7]("check_answer")+"")&&W(n,t),s&8&&i!==(i=u[3]===null)&&(e.disabled=i)},d(u){u&&R(e),o=!1,r()}}}function fs(a){let e,t,n,i=a[7]("next_question")+"",o,r,u;function s(c,d){return c[4]?ms:ds}let l=s(a),h=l(a);return{c(){e=v("p"),h.c(),t=A(),n=v("button"),o=z(i),w(e,"class","feedback svelte-apytev"),he(e,"correct",a[4]),he(e,"incorrect",!a[4])},m(c,d){O(c,e,d),h.m(e,null),O(c,t,d),O(c,n,d),f(n,o),r||(u=X(n,"click",a[11]),r=!0)},p(c,d){l===(l=s(c))&&h?h.p(c,d):(h.d(1),h=l(c),h&&(h.c(),h.m(e,null))),d&16&&he(e,"correct",c[4]),d&16&&he(e,"incorrect",!c[4]),d&128&&i!==(i=c[7]("next_question")+"")&&W(o,i)},d(c){c&&(R(e),R(t),R(n)),h.d(),r=!1,u()}}}function ds(a){let e=a[7]("incorrect_answer")+"",t,n,i=a[7]("correct_is")+"",o,r,u=a[0].quiz[a[2]].answer+"",s;return{c(){t=z(e),n=A(),o=z(i),r=A(),s=z(u)},m(l,h){O(l,t,h),O(l,n,h),O(l,o,h),O(l,r,h),O(l,s,h)},p(l,h){h&128&&e!==(e=l[7]("incorrect_answer")+"")&&W(t,e),h&128&&i!==(i=l[7]("correct_is")+"")&&W(o,i),h&5&&u!==(u=l[0].quiz[l[2]].answer+"")&&W(s,u)},d(l){l&&(R(t),R(n),R(o),R(r),R(s))}}}function ms(a){let e=a[7]("correct_answer")+"",t;return{c(){t=z(e)},m(n,i){O(n,t,i)},p(n,i){i&128&&e!==(e=n[7]("correct_answer")+"")&&W(t,e)},d(n){n&&R(t)}}}function ps(a){let e,t,n=a[0].title+"",i,o,r,u,s,l,h,c=a[0].examples&&a[0].examples.length>0&&Qa(a),d=a[0].nuances&&a[0].nuances.length>0&&Xa(a),p=a[0].quiz&&a[0].quiz.length>0&&ti(a);return{c(){e=v("div"),t=v("h2"),i=z(n),o=A(),r=v("div"),u=A(),c&&c.c(),s=A(),d&&d.c(),l=A(),p&&p.c(),w(t,"class","svelte-apytev"),w(r,"class","grammar-content svelte-apytev"),w(e,"class","grammar-topic-detail svelte-apytev")},m(k,_){O(k,e,_),f(e,t),f(t,i),f(e,o),f(e,r),r.innerHTML=a[1],f(e,u),c&&c.m(e,null),f(e,s),d&&d.m(e,null),f(e,l),p&&p.m(e,null),h=!0},p(k,[_]){(!h||_&1)&&n!==(n=k[0].title+"")&&W(i,n),(!h||_&2)&&(r.innerHTML=k[1]),k[0].examples&&k[0].examples.length>0?c?(c.p(k,_),_&1&&ae(c,1)):(c=Qa(k),c.c(),ae(c,1),c.m(e,s)):c&&(dt(),re(c,1,1,()=>{c=null}),mt()),k[0].nuances&&k[0].nuances.length>0?d?d.p(k,_):(d=Xa(k),d.c(),d.m(e,l)):d&&(d.d(1),d=null),k[0].quiz&&k[0].quiz.length>0?p?p.p(k,_):(p=ti(k),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(k){h||(ae(c),h=!0)},o(k){re(c),h=!1},d(k){k&&R(e),c&&c.d(),d&&d.d(),p&&p.d()}}}function ks(a,e,t){let n,i;fe(a,de,S=>t(7,n=S)),fe(a,ra,S=>t(8,i=S));let{topic:o}=e,r="",u=0,s=null,l=!1,h=!1,c=!1;Gt(()=>{t(1,r=me(o.content))});function d(S){t(3,s=S),t(5,h=!1)}function p(){s===o.quiz[u].answer?t(4,l=!0):t(4,l=!1),t(5,h=!0)}function k(){u<o.quiz.length-1?(t(2,u++,u),t(3,s=null),t(4,l=!1),t(5,h=!1)):t(6,c=!0)}function _(){t(2,u=0),t(3,s=null),t(4,l=!1),t(5,h=!1),t(6,c=!1)}const y=S=>d(S);return a.$$set=S=>{"topic"in S&&t(0,o=S.topic)},[o,r,u,s,l,h,c,n,i,d,p,k,_,y]}class gs extends qe{constructor(e){super(),Ce(this,e,ks,ps,Ae,{topic:0})}}function ai(a,e,t){const n=a.slice();return n[6]=e[t],n}function ii(a,e,t){const n=a.slice();return n[9]=e[t],n}function _s(a){let e,t=a[1]("learn_section_title")+"",n,i,o,r=a[1]("learn_section_description")+"",u,s,l,h=pe(la),c=[];for(let d=0;d<h.length;d+=1)c[d]=ri(ai(a,h,d));return{c(){e=v("h2"),n=z(t),i=A(),o=v("p"),u=z(r),s=A(),l=v("div");for(let d=0;d<c.length;d+=1)c[d].c();w(l,"class","grammar-categories-grid svelte-170yrqk")},m(d,p){O(d,e,p),f(e,n),O(d,i,p),O(d,o,p),f(o,u),O(d,s,p),O(d,l,p);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(l,null)},p(d,p){if(p&2&&t!==(t=d[1]("learn_section_title")+"")&&W(n,t),p&2&&r!==(r=d[1]("learn_section_description")+"")&&W(u,r),p&4){h=pe(la);let k;for(k=0;k<h.length;k+=1){const _=ai(d,h,k);c[k]?c[k].p(_,p):(c[k]=ri(_),c[k].c(),c[k].m(l,null))}for(;k<c.length;k+=1)c[k].d(1);c.length=h.length}},i:ee,o:ee,d(d){d&&(R(e),R(i),R(o),R(s),R(l)),Ve(c,d)}}}function vs(a){let e,t=a[1]("back_to_categories")+"",n,i,o,r,u,s;return o=new gs({props:{topic:a[0]}}),{c(){e=v("button"),n=z(t),i=A(),Oe(o.$$.fragment)},m(l,h){O(l,e,h),f(e,n),O(l,i,h),We(o,l,h),r=!0,u||(s=X(e,"click",a[4]),u=!0)},p(l,h){(!r||h&2)&&t!==(t=l[1]("back_to_categories")+"")&&W(n,t);const c={};h&1&&(c.topic=l[0]),o.$set(c)},i(l){r||(ae(o.$$.fragment,l),r=!0)},o(l){re(o.$$.fragment,l),r=!1},d(l){l&&(R(e),R(i)),Ee(o,l),u=!1,s()}}}function oi(a){let e,t,n;function i(){return a[5](a[6],a[9])}return{c(){e=v("button"),e.textContent=`${a[9].title}`,w(e,"class","svelte-170yrqk")},m(o,r){O(o,e,r),t||(n=X(e,"click",i),t=!0)},p(o,r){a=o},d(o){o&&R(e),t=!1,n()}}}function ri(a){let e,t,n,i,o,r,u,s=pe(a[6].topics),l=[];for(let h=0;h<s.length;h+=1)l[h]=oi(ii(a,s,h));return{c(){e=v("div"),t=v("h3"),t.textContent=`${a[6].title}`,n=A(),i=v("p"),i.textContent=`${a[6].description}`,o=A(),r=v("div");for(let h=0;h<l.length;h+=1)l[h].c();u=A(),w(t,"class","svelte-170yrqk"),w(i,"class","svelte-170yrqk"),w(r,"class","category-topics svelte-170yrqk"),w(e,"class","grammar-category-card svelte-170yrqk")},m(h,c){O(h,e,c),f(e,t),f(e,n),f(e,i),f(e,o),f(e,r);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(r,null);f(e,u)},p(h,c){if(c&4){s=pe(h[6].topics);let d;for(d=0;d<s.length;d+=1){const p=ii(h,s,d);l[d]?l[d].p(p,c):(l[d]=oi(p),l[d].c(),l[d].m(r,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=s.length}},d(h){h&&R(e),Ve(l,h)}}}function bs(a){let e,t,n,i;const o=[vs,_s],r=[];function u(s,l){return s[0]?0:1}return t=u(a),n=r[t]=o[t](a),{c(){e=v("div"),n.c(),w(e,"class","learn-container svelte-170yrqk")},m(s,l){O(s,e,l),r[t].m(e,null),i=!0},p(s,[l]){let h=t;t=u(s),t===h?r[t].p(s,l):(dt(),re(r[h],1,1,()=>{r[h]=null}),mt(),n=r[t],n?n.p(s,l):(n=r[t]=o[t](s),n.c()),ae(n,1),n.m(e,null))},i(s){i||(ae(n),i=!0)},o(s){re(n),i=!1},d(s){s&&R(e),r[t].d()}}}function ys(a,e,t){let n,i;fe(a,Zt,l=>t(3,n=l)),fe(a,de,l=>t(1,i=l));let o=null;function r(l,h){It(`/learn/${l}/${h}`)}const u=()=>{t(0,o=null),It("/learn")},s=(l,h)=>r(l.id,h.id);return a.$$.update=()=>{if(a.$$.dirty&8){const h=n.split("/");if(h.length===4&&h[1]==="learn"){const c=h[2],d=h[3],p=la.find(k=>k.id===c);p?t(0,o=p.topics.find(k=>k.id===d)):t(0,o=null)}else h.length===2&&h[1],t(0,o=null)}},[o,i,r,n,u,s]}class ws extends qe{constructor(e){super(),Ce(this,e,ys,bs,Ae,{})}}const si=[{id:"sakura_season",title:"Sakura Season: A Symbol of Renewal",category:"Traditions",image:"/assets/images/sakura.jpg",content:`
# Sakura Season: A Symbol of Renewal

Cherry blossom (sakura) season is one of the most anticipated times of the year in Japan. It typically occurs from late March to early May, moving from south to north across the archipelago. The delicate pink and white blossoms are not just beautiful; they hold deep cultural significance.

## Hanami: Flower Viewing Parties

During sakura season, people gather in parks and along riversides for *hanami* (花見), or flower viewing parties. Friends, families, and colleagues spread out picnic blankets, share food and drinks, and enjoy the ephemeral beauty of the blossoms. It's a time for celebration, relaxation, and appreciating nature.

## Symbolism in Japanese Culture

Sakura are a powerful symbol in Japanese culture, representing the transient nature of life, beauty, and renewal. Their short but brilliant bloom reminds people of the fleetingness of existence and the importance of living each moment to the fullest. This concept is often linked to *mono no aware* (物の哀れ), a Japanese term for the pathos of things, or a gentle sadness at the transience of life.

## Popular Hanami Spots

Some of the most famous hanami spots include Ueno Park in Tokyo, Maruyama Park in Kyoto, and Hirosaki Castle Park in Aomori. Each location offers a unique experience, from bustling city parks to serene castle grounds.

## Beyond the Blossoms

While the blossoms themselves are the main attraction, sakura season also brings special foods and drinks, such as sakura-flavored mochi, Kit Kats, and even sakura-infused sake. Many festivals and events are held throughout the country to celebrate this cherished time.
`,keywords:["sakura","cherry blossom","hanami","Japanese culture","traditions"]},{id:"tea_ceremony",title:"The Art of Japanese Tea Ceremony",category:"Traditions",image:"/assets/images/tea_ceremony.jpg",content:`
# The Art of Japanese Tea Ceremony

The Japanese tea ceremony, or *chanoyu* (茶の湯), is a highly ritualized and aesthetic way of preparing and serving matcha (powdered green tea). More than just drinking tea, it is a spiritual practice that embodies principles of harmony (和 wa), respect (敬 kei), purity (清 sei), and tranquility (寂 jaku).

## History and Philosophy

The tea ceremony has roots in Zen Buddhism and was heavily influenced by figures like Sen no Rikyū in the 16th century, who refined its principles. It is a meditative practice that encourages mindfulness and appreciation for the present moment.

## Key Elements

A typical tea ceremony involves several elements:

*   **Tea Room (Chashitsu):** A specially designed space, often simple and rustic, to foster a sense of tranquility.
*   **Utensils:** Specific tools like the chawan (tea bowl), chasen (bamboo whisk), chashaku (bamboo scoop), and natsume (tea caddy), each with its own significance.
*   **Kaiseki:** A multi-course meal served before the tea, emphasizing seasonal ingredients and artistic presentation.
*   **Wagashi:** Traditional Japanese sweets served with the tea, designed to complement the bitter taste of matcha.

## The Flow of the Ceremony

The ceremony follows a precise sequence of movements, from the purification of utensils to the whisking of the tea. Every gesture is deliberate and graceful, reflecting the host's respect for the guests and the tea itself.

## Modern Relevance

While deeply rooted in tradition, the tea ceremony continues to be practiced today, offering a serene escape from the fast pace of modern life. It is a profound way to experience Japanese aesthetics and hospitality.
`,keywords:["tea ceremony","chanoyu","matcha","Zen Buddhism","Japanese traditions"]},{id:"shinto_shrines",title:"Shinto Shrines: Gates to the Sacred",category:"Culture & Religion",image:"/assets/images/shinto_shrine.jpg",content:`
# Shinto Shrines: Gates to the Sacred

Shinto is the indigenous religion of Japan, and its places of worship are called Shinto shrines (*jinja* 神社). These sacred sites are dedicated to the worship of *kami* (神), deities or spirits that inhabit natural objects, places, and phenomena, as well as deified ancestors.

## Torii Gates

One of the most recognizable features of a Shinto shrine is the *torii* (鳥居) gate, which marks the transition from the mundane world to the sacred. Passing through a torii signifies entering a sacred space.

## Purification Rituals

Before approaching the main hall of a shrine, visitors typically perform a purification ritual at a *temizuya* (手水舎), a water basin where hands and mouth are cleansed. This act symbolizes spiritual purity.

## Main Hall (Honden)

The *honden* (本殿) is the most sacred building within a shrine, housing the *go-shintai* (御神体), an object in which the kami is believed to reside. Visitors typically offer prayers and make small offerings at the *haiden* (拝殿), the hall of worship, which is usually in front of the honden.

## Festivals (Matsuri)

Shinto shrines are central to local communities and host numerous *matsuri* (祭り), or festivals, throughout the year. These vibrant events often involve parades, traditional music and dance, and special rituals to honor the kami and pray for good fortune.

## Harmony with Nature

Shinto emphasizes the harmony between humans and nature, and many shrines are beautifully integrated into natural landscapes, surrounded by ancient trees, mountains, or rivers. This connection to nature is a fundamental aspect of the Shinto faith.
`,keywords:["Shinto","shrine","jinja","kami","torii","Japanese religion"]}];function li(a,e,t){const n=a.slice();return n[3]=e[t],n}function ui(a){let e,t,n;return{c(){e=v("img"),Bn(e.src,t=a[0].image)||w(e,"src",t),w(e,"alt",n=a[0].title),w(e,"class","article-image svelte-k6fg9d")},m(i,o){O(i,e,o)},p(i,o){o&1&&!Bn(e.src,t=i[0].image)&&w(e,"src",t),o&1&&n!==(n=i[0].title)&&w(e,"alt",n)},d(i){i&&R(e)}}}function ci(a){let e,t,n=a[2]("keywords")+"",i,o,r,u=pe(a[0].keywords),s=[];for(let l=0;l<u.length;l+=1)s[l]=hi(li(a,u,l));return{c(){e=v("div"),t=v("strong"),i=z(n),o=z(":"),r=A();for(let l=0;l<s.length;l+=1)s[l].c();w(e,"class","article-keywords svelte-k6fg9d")},m(l,h){O(l,e,h),f(e,t),f(t,i),f(t,o),f(e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(l,h){if(h&4&&n!==(n=l[2]("keywords")+"")&&W(i,n),h&1){u=pe(l[0].keywords);let c;for(c=0;c<u.length;c+=1){const d=li(l,u,c);s[c]?s[c].p(d,h):(s[c]=hi(d),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=u.length}},d(l){l&&R(e),Ve(s,l)}}}function hi(a){let e,t=a[3]+"",n;return{c(){e=v("span"),n=z(t),w(e,"class","svelte-k6fg9d")},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&1&&t!==(t=i[3]+"")&&W(n,t)},d(i){i&&R(e)}}}function js(a){let e,t,n,i=a[0].title+"",o,r,u,s,l=a[0].image&&ui(a),h=a[0].keywords&&a[0].keywords.length>0&&ci(a);return{c(){e=v("div"),l&&l.c(),t=A(),n=v("h2"),o=z(i),r=A(),u=v("div"),s=A(),h&&h.c(),w(n,"class","svelte-k6fg9d"),w(u,"class","article-content svelte-k6fg9d"),w(e,"class","cultural-article-detail svelte-k6fg9d")},m(c,d){O(c,e,d),l&&l.m(e,null),f(e,t),f(e,n),f(n,o),f(e,r),f(e,u),u.innerHTML=a[1],f(e,s),h&&h.m(e,null)},p(c,[d]){c[0].image?l?l.p(c,d):(l=ui(c),l.c(),l.m(e,t)):l&&(l.d(1),l=null),d&1&&i!==(i=c[0].title+"")&&W(o,i),d&2&&(u.innerHTML=c[1]),c[0].keywords&&c[0].keywords.length>0?h?h.p(c,d):(h=ci(c),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:ee,o:ee,d(c){c&&R(e),l&&l.d(),h&&h.d()}}}function Ts(a){let e=a.replace(/日本/g,"<ruby>日本<rt>にほん</rt></ruby>").replace(/花見/g,"<ruby>花見<rt>はなみ</rt></ruby>").replace(/神社/g,"<ruby>神社<rt>じんじゃ</rt></ruby>").replace(/鳥居/g,"<ruby>鳥居<rt>とりい</rt></ruby>");return e=e.replace(/桜/g,'<span class="tooltip-wrapper"><Tooltip text="桜" tooltipContent="Cherry blossom, a symbol of Japan." link="/explore/cultural-articles/sakura"/></span>').replace(/武士/g,'<span class="tooltip-wrapper"><Tooltip text="武士" tooltipContent="Samurai, a member of a powerful military caste in feudal Japan." link="/explore/cultural-articles/samurai"/></span>'),e}function zs(a,e,t){let n;fe(a,de,r=>t(2,n=r));let{article:i}=e,o="";return a.$$set=r=>{"article"in r&&t(0,i=r.article)},a.$$.update=()=>{if(a.$$.dirty&1&&i){const r=Ts(i.content);t(1,o=me(r))}},[i,o,n]}class Is extends qe{constructor(e){super(),Ce(this,e,zs,js,Ae,{article:0})}}function fi(a,e,t){const n=a.slice();return n[4]=e[t],n}function Ss(a){let e,t=a[2]("no_guides_available")+"",n;return{c(){e=v("p"),n=z(t)},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&4&&t!==(t=i[2]("no_guides_available")+"")&&W(n,t)},d(i){i&&R(e)}}}function Ws(a){let e,t=[],n=new Map,i=pe(a[0]);const o=r=>r[4].id;for(let r=0;r<i.length;r+=1){let u=fi(a,i,r),s=o(u);n.set(s,t[r]=di(s,u))}return{c(){e=v("ul");for(let r=0;r<t.length;r+=1)t[r].c();w(e,"class","guide-list svelte-18hbtfh")},m(r,u){O(r,e,u);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(r,u){u&3&&(i=pe(r[0]),t=yn(t,u,o,1,r,i,n,e,bn,di,null,fi))},d(r){r&&R(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function di(a,e){let t,n,i=e[4].title+"",o,r,u,s=e[4].os+"",l,h,c,d;function p(){return e[3](e[4])}return{key:a,first:null,c(){t=v("li"),n=v("h4"),o=z(i),r=A(),u=v("p"),l=z(s),h=A(),w(n,"class","svelte-18hbtfh"),w(u,"class","svelte-18hbtfh"),w(t,"class","guide-item svelte-18hbtfh"),this.first=t},m(k,_){O(k,t,_),f(t,n),f(n,o),f(t,r),f(t,u),f(u,l),f(t,h),c||(d=X(t,"click",p),c=!0)},p(k,_){e=k,_&1&&i!==(i=e[4].title+"")&&W(o,i),_&1&&s!==(s=e[4].os+"")&&W(l,s)},d(k){k&&R(t),c=!1,d()}}}function Es(a){let e;function t(o,r){return o[0].length>0?Ws:Ss}let n=t(a),i=n(a);return{c(){e=v("div"),i.c(),w(e,"class","guide-list-container svelte-18hbtfh")},m(o,r){O(o,e,r),i.m(e,null)},p(o,[r]){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:ee,o:ee,d(o){o&&R(e),i.d()}}}function As(a,e,t){let n;fe(a,de,u=>t(2,n=u));let{guides:i=[]}=e,{onSelectGuide:o}=e;const r=u=>o(u);return a.$$set=u=>{"guides"in u&&t(0,i=u.guides),"onSelectGuide"in u&&t(1,o=u.onSelectGuide)},[i,o,n,r]}class Rs extends qe{constructor(e){super(),Ce(this,e,As,Es,Ae,{guides:0,onSelectGuide:1})}}function Os(a){let e,t=a[2]("select_a_guide")+"",n;return{c(){e=v("p"),n=z(t)},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&4&&t!==(t=i[2]("select_a_guide")+"")&&W(n,t)},d(i){i&&R(e)}}}function Cs(a){let e,t=a[0].title+"",n,i,o,r=a[2]("operating_system")+"",u,s,l=a[0].os+"",h,c,d;return{c(){e=v("h2"),n=z(t),i=A(),o=v("p"),u=z(r),s=z(": "),h=z(l),c=A(),d=v("div"),w(e,"class","svelte-1h2jgct"),w(o,"class","guide-os svelte-1h2jgct"),w(d,"class","guide-content svelte-1h2jgct")},m(p,k){O(p,e,k),f(e,n),O(p,i,k),O(p,o,k),f(o,u),f(o,s),f(o,h),O(p,c,k),O(p,d,k),d.innerHTML=a[1]},p(p,k){k&1&&t!==(t=p[0].title+"")&&W(n,t),k&4&&r!==(r=p[2]("operating_system")+"")&&W(u,r),k&1&&l!==(l=p[0].os+"")&&W(h,l),k&2&&(d.innerHTML=p[1])},d(p){p&&(R(e),R(i),R(o),R(c),R(d))}}}function qs(a){let e;function t(o,r){return o[0]?Cs:Os}let n=t(a),i=n(a);return{c(){e=v("div"),i.c(),w(e,"class","guide-detail-container svelte-1h2jgct")},m(o,r){O(o,e,r),i.m(e,null)},p(o,[r]){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:ee,o:ee,d(o){o&&R(e),i.d()}}}function Ps(a,e,t){let n;fe(a,de,r=>t(2,n=r));let{guide:i}=e,o="";return Gt(()=>{i&&i.content&&t(1,o=me(i.content))}),a.$$set=r=>{"guide"in r&&t(0,i=r.guide)},a.$$.update=()=>{a.$$.dirty&1&&i&&i.content&&t(1,o=me(i.content))},[i,o,n]}class Ds extends qe{constructor(e){super(),Ce(this,e,Ps,qs,Ae,{guide:0})}}const Ki=[{id:"windows_ime",os:"Windows",title:"Setting up Japanese IME on Windows",content:`
## Setting up Japanese IME on Windows

1.  **Open Language Settings:** Go to Start > Settings > Time & Language > Language.
2.  **Add a Language:** Click "Add a language" and search for "Japanese". Select it and click "Next".
3.  **Install Language Pack:** Ensure "Language pack" and "Basic typing" are checked. You can also choose to install "Speech" and "Handwriting" if desired. Click "Install".
4.  **Set as Default (Optional):** Once installed, you can set Japanese as your default display language if you wish, but it's not necessary for typing.
5.  **Switching Input Methods:** In your taskbar, you'll see an indicator for your current input method (e.g., "ENG" for English). Click it and select "Japanese Microsoft IME".
6.  **Toggle Input Mode:** Once Japanese IME is selected, click the "A" or "あ" icon in the taskbar to toggle between Alphanumeric (A) and Hiragana (あ) input modes. You can also use the **Alt + ~** (tilde) shortcut.
7.  **Typing in Hiragana:** With Hiragana mode active, type phonetically (e.g., "nihon" for にほん). Press Spacebar to convert to Kanji or Katakana, then Enter to confirm.
8.  **Typing in Katakana:** To type in Katakana, switch to Hiragana mode, type the word, and then press **F7** to convert it to full-width Katakana.
9.  **Direct Hiragana/Katakana:** You can also right-click the IME icon in the taskbar and select "Hiragana" or "Full-width Katakana" directly.

### Troubleshooting

*   **IME not appearing:** Ensure the language pack is fully installed. Restart your computer if necessary.
*   **Cannot type Japanese characters:** Check that the input mode is set to Hiragana (あ) and not Alphanumeric (A).
*   **Accidental conversions:** Press Esc to cancel a conversion before confirming with Enter.
`,keywords:["Windows","IME","Japanese input","setup"]},{id:"macos_ime",os:"macOS",title:"Setting up Japanese IME on macOS",content:`
## Setting up Japanese IME on macOS

1.  **Open Keyboard Settings:** Go to System Settings (or System Preferences) > Keyboard.
2.  **Input Sources:** Click on "Input Sources" (or "Input Methods" depending on macOS version).
3.  **Add Japanese:** Click the "+" button, search for "Japanese", and select "Japanese" (or "Japanese - Kana" and "Japanese - Romaji" if available, though usually just "Japanese" is sufficient). Click "Add".
4.  **Switching Input Methods:** In the menu bar at the top right of your screen, you'll see a flag icon or a character icon (e.g., "A" or "あ"). Click it and select "Japanese".
5.  **Toggle Input Mode:** Once Japanese is selected, you can switch between input modes (Hiragana, Katakana, Romaji) from the same menu bar icon, or use the **Control + Shift + ;** shortcut to cycle through them.
6.  **Typing in Hiragana:** With Hiragana mode active, type phonetically (e.g., "konnichiwa" for こんにちは). Press Spacebar to convert to Kanji or Katakana, then Enter to confirm.
7.  **Typing in Katakana:** To type in Katakana, switch to Hiragana mode, type the word, and then press **Shift + Caps Lock** or **Control + K** to convert it to Katakana.

### Troubleshooting

*   **Input source not appearing:** Ensure you've added the Japanese input source correctly in Keyboard settings.
*   **Shortcuts not working:** Check for conflicting keyboard shortcuts in System Settings > Keyboard > Keyboard Shortcuts.
*   **Unexpected conversions:** Press Esc to revert to the phonetic input before confirming.
`,keywords:["macOS","IME","Japanese input","setup"]},{id:"ios_keyboard",os:"iOS",title:"Adding Japanese Keyboard on iOS",content:`
## Adding Japanese Keyboard on iOS

1.  **Open Settings:** Go to Settings > General > Keyboard > Keyboards.
2.  **Add New Keyboard:** Tap "Add New Keyboard...".
3.  **Select Japanese:** Scroll down and select "Japanese".
4.  **Choose Keyboard Layout:** You'll typically have options like "Romaji" (typing romanized Japanese) and "Kana" (typing directly with a kana layout). "Romaji" is usually recommended for most users. Select your preferred layout and tap "Done".
5.  **Switching Keyboards:** When typing in any app, tap the globe icon (🌐) on the keyboard to cycle through your enabled keyboards until you reach the Japanese keyboard.
6.  **Typing in Romaji (if selected):** Type romanized Japanese (e.g., "arigato"). The keyboard will automatically suggest Hiragana, Katakana, and Kanji conversions. Tap the desired suggestion.
7.  **Typing in Kana (if selected):** Tap the kana characters directly on the keyboard. Swipe up on a character to access small characters (e.g., っ, ゃ).

### Troubleshooting

*   **Keyboard not appearing:** Ensure the Japanese keyboard is enabled in Settings > General > Keyboard > Keyboards.
*   **Suggestions not appearing:** Make sure you are typing phonetically in Romaji mode, or correctly tapping kana in Kana mode.
`,keywords:["iOS","iPhone","iPad","Japanese keyboard","setup"]}];function mi(a,e,t){const n=a.slice();return n[12]=e[t][0],n[13]=e[t][1],n}function pi(a,e,t){const n=a.slice();return n[16]=e[t],n}function Ms(a){let e,t=a[4]("explore_section_title")+"",n,i,o,r=a[4]("explore_section_description")+"",u,s,l,h,c=a[4]("fact_of_the_day")+"",d,p,k,_,y,S,C=[],x=new Map,P,E,L,D=a[4]("input_methods")+"",K,H,J,N,U=pe(Object.entries(a[2]));const Q=G=>G[12];for(let G=0;G<U.length;G+=1){let Z=mi(a,U,G),Y=Q(Z);x.set(Y,C[G]=gi(Y,Z))}return J=new Rs({props:{guides:Ki,onSelectGuide:a[6]}}),{c(){e=v("h2"),n=z(t),i=A(),o=v("p"),u=z(r),s=A(),l=v("div"),h=v("h3"),d=z(c),p=A(),k=v("p"),_=z(a[3]),y=A(),S=v("div");for(let G=0;G<C.length;G+=1)C[G].c();P=A(),E=v("div"),L=v("h3"),K=z(D),H=A(),Oe(J.$$.fragment),w(l,"class","fact-of-the-day svelte-1q5pxa3"),w(S,"class","cultural-articles-grid svelte-1q5pxa3"),w(E,"class","input-methods svelte-1q5pxa3")},m(G,Z){O(G,e,Z),f(e,n),O(G,i,Z),O(G,o,Z),f(o,u),O(G,s,Z),O(G,l,Z),f(l,h),f(h,d),f(l,p),f(l,k),f(k,_),O(G,y,Z),O(G,S,Z);for(let Y=0;Y<C.length;Y+=1)C[Y]&&C[Y].m(S,null);O(G,P,Z),O(G,E,Z),f(E,L),f(L,K),f(E,H),We(J,E,null),N=!0},p(G,Z){(!N||Z&16)&&t!==(t=G[4]("explore_section_title")+"")&&W(n,t),(!N||Z&16)&&r!==(r=G[4]("explore_section_description")+"")&&W(u,r),(!N||Z&16)&&c!==(c=G[4]("fact_of_the_day")+"")&&W(d,c),(!N||Z&8)&&W(_,G[3]),Z&36&&(U=pe(Object.entries(G[2])),C=yn(C,Z,Q,1,G,U,x,S,bn,gi,null,mi)),(!N||Z&16)&&D!==(D=G[4]("input_methods")+"")&&W(K,D)},i(G){N||(ae(J.$$.fragment,G),N=!0)},o(G){re(J.$$.fragment,G),N=!1},d(G){G&&(R(e),R(i),R(o),R(s),R(l),R(y),R(S),R(P),R(E));for(let Z=0;Z<C.length;Z+=1)C[Z].d();Ee(J)}}}function Ns(a){let e,t=a[4]("back_to_explore")+"",n,i,o,r,u,s;return o=new Ds({props:{guide:a[1]}}),{c(){e=v("button"),n=z(t),i=A(),Oe(o.$$.fragment)},m(l,h){O(l,e,h),f(e,n),O(l,i,h),We(o,l,h),r=!0,u||(s=X(e,"click",a[8]),u=!0)},p(l,h){(!r||h&16)&&t!==(t=l[4]("back_to_explore")+"")&&W(n,t);const c={};h&2&&(c.guide=l[1]),o.$set(c)},i(l){r||(ae(o.$$.fragment,l),r=!0)},o(l){re(o.$$.fragment,l),r=!1},d(l){l&&(R(e),R(i)),Ee(o,l),u=!1,s()}}}function Ls(a){let e,t=a[4]("back_to_explore")+"",n,i,o,r,u,s;return o=new Is({props:{article:a[0]}}),{c(){e=v("button"),n=z(t),i=A(),Oe(o.$$.fragment)},m(l,h){O(l,e,h),f(e,n),O(l,i,h),We(o,l,h),r=!0,u||(s=X(e,"click",a[7]),u=!0)},p(l,h){(!r||h&16)&&t!==(t=l[4]("back_to_explore")+"")&&W(n,t);const c={};h&1&&(c.article=l[0]),o.$set(c)},i(l){r||(ae(o.$$.fragment,l),r=!0)},o(l){re(o.$$.fragment,l),r=!1},d(l){l&&(R(e),R(i)),Ee(o,l),u=!1,s()}}}function ki(a){let e,t,n=a[16].title+"",i,o,r,u=a[16].keywords.join(", ")+"",s,l,h,c;function d(){return a[9](a[16])}return{c(){e=v("div"),t=v("h4"),i=z(n),o=A(),r=v("p"),s=z(u),l=A(),w(t,"class","svelte-1q5pxa3"),w(r,"class","svelte-1q5pxa3"),w(e,"class","article-card svelte-1q5pxa3")},m(p,k){O(p,e,k),f(e,t),f(t,i),f(e,o),f(e,r),f(r,s),f(e,l),h||(c=X(e,"click",d),h=!0)},p(p,k){a=p,k&4&&n!==(n=a[16].title+"")&&W(i,n),k&4&&u!==(u=a[16].keywords.join(", ")+"")&&W(s,u)},d(p){p&&R(e),h=!1,c()}}}function gi(a,e){let t,n,i=e[12]+"",o,r,u,s,l=pe(e[13]),h=[];for(let c=0;c<l.length;c+=1)h[c]=ki(pi(e,l,c));return{key:a,first:null,c(){t=v("section"),n=v("h3"),o=z(i),r=A(),u=v("div");for(let c=0;c<h.length;c+=1)h[c].c();s=A(),w(u,"class","articles-list svelte-1q5pxa3"),w(t,"class","article-category-section svelte-1q5pxa3"),this.first=t},m(c,d){O(c,t,d),f(t,n),f(n,o),f(t,r),f(t,u);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(u,null);f(t,s)},p(c,d){if(e=c,d&4&&i!==(i=e[12]+"")&&W(o,i),d&36){l=pe(e[13]);let p;for(p=0;p<l.length;p+=1){const k=pi(e,l,p);h[p]?h[p].p(k,d):(h[p]=ki(k),h[p].c(),h[p].m(u,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=l.length}},d(c){c&&R(t),Ve(h,c)}}}function $s(a){let e,t,n,i;const o=[Ls,Ns,Ms],r=[];function u(s,l){return s[0]?0:s[1]?1:2}return t=u(a),n=r[t]=o[t](a),{c(){e=v("div"),n.c(),w(e,"class","explore-container svelte-1q5pxa3")},m(s,l){O(s,e,l),r[t].m(e,null),i=!0},p(s,[l]){let h=t;t=u(s),t===h?r[t].p(s,l):(dt(),re(r[h],1,1,()=>{r[h]=null}),mt(),n=r[t],n?n.p(s,l):(n=r[t]=o[t](s),n.c()),ae(n,1),n.m(e,null))},i(s){i||(ae(n),i=!0)},o(s){re(n),i=!1},d(s){s&&R(e),r[t].d()}}}function Bs(a,e,t){let n,i;fe(a,Zt,_=>t(10,n=_)),fe(a,de,_=>t(4,i=_));let o=null,r=null;const u={};si.forEach(_=>{u[_.category]||t(2,u[_.category]=[],u),u[_.category].push(_)});function s(_){t(0,o=si.find(y=>y.id===_)),t(1,r=null),It(`/explore/articles/${_}`)}function l(_){t(1,r=_),t(0,o=null),It(`/explore/input-methods/${_.id}`)}Gt(()=>{const _=n.split("/");if(_.length>=3&&_[1]==="explore"){if(_[2]==="articles"&&_.length===4){const y=_[3];s(y)}else if(_[2]==="input-methods"&&_.length===4){const y=_[3];t(1,r=Ki.find(S=>S.id===y)),t(0,o=null)}}});let h="Loading fact...";const c=["Did you know that Japan has more vending machines per capita than any other country?","The world's oldest company, Kongo Gumi, was a Japanese construction company that lasted for over 1,400 years.","Japan consists of over 6,800 islands!","Sumo wrestling is Japan's national sport."];return Gt(()=>{const _=Math.floor(Math.random()*c.length);t(3,h=c[_])}),[o,r,u,h,i,s,l,()=>{t(0,o=null),It("/explore")},()=>{t(1,r=null),It("/explore")},_=>s(_.id)]}class Fs extends qe{constructor(e){super(),Ce(this,e,Bs,$s,Ae,{})}}function _i(a,e,t){const n=a.slice();n[24]=e[t];const i=Ut.find(function(...r){return a[20](n[24],...r)});return n[25]=i,n}function xs(a){let e;return{c(){e=v("div"),e.textContent="Loading translations..."},m(t,n){O(t,e,n)},p:ee,i:ee,o:ee,d(t){t&&R(e)}}}function Ks(a){let e,t=a[7]("main_title")+"",n,i,o,r,u,s,l,h,c,d;o=new vr({});const p=[Zs,Qs,Ys,Vs,Us,Js,Gs,Hs],k=[];function _(y,S){return S&4&&(u=null),S&4&&(s=null),u==null&&(u=!!y[2].startsWith("learn")),u?0:(s==null&&(s=!!y[2].startsWith("explore")),s?1:y[2]==="kana_charts"?2:y[2]==="kanji_charts"?3:y[2]==="vocabulary_list"?4:y[2]==="progress"?5:y[2]==="quiz"?6:y[2]==="settings"?7:-1)}return~(l=_(a,-1))&&(h=k[l]=p[l](a)),{c(){e=v("h1"),n=z(t),i=A(),Oe(o.$$.fragment),r=A(),h&&h.c(),c=rt()},m(y,S){O(y,e,S),f(e,n),O(y,i,S),We(o,y,S),O(y,r,S),~l&&k[l].m(y,S),O(y,c,S),d=!0},p(y,S){(!d||S&128)&&t!==(t=y[7]("main_title")+"")&&W(n,t);let C=l;l=_(y,S),l===C?~l&&k[l].p(y,S):(h&&(dt(),re(k[C],1,1,()=>{k[C]=null}),mt()),~l?(h=k[l],h?h.p(y,S):(h=k[l]=p[l](y),h.c()),ae(h,1),h.m(c.parentNode,c)):h=null)},i(y){d||(ae(o.$$.fragment,y),ae(h),d=!0)},o(y){re(o.$$.fragment,y),re(h),d=!1},d(y){y&&(R(e),R(i),R(r),R(c)),Ee(o,y),~l&&k[l].d(y)}}}function Hs(a){let e,t;return e=new kr({}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p:ee,i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Gs(a){let e,t;return e=new xo({}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p:ee,i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Js(a){let e,t;return e=new ir({}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p:ee,i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Us(a){let e,t,n,i;return e=new qo({props:{themes:a[15],translations:a[0]}}),e.$on("filterChange",a[14]),n=new Ro({props:{filterTheme:a[3]}}),{c(){Oe(e.$$.fragment),t=A(),Oe(n.$$.fragment)},m(o,r){We(e,o,r),O(o,t,r),We(n,o,r),i=!0},p(o,r){const u={};r&1&&(u.translations=o[0]),e.$set(u);const s={};r&8&&(s.filterTheme=o[3]),n.$set(s)},i(o){i||(ae(e.$$.fragment,o),ae(n.$$.fragment,o),i=!0)},o(o){re(e.$$.fragment,o),re(n.$$.fragment,o),i=!1},d(o){o&&R(t),Ee(e,o),Ee(n,o)}}}function Vs(a){let e,t;return e=new Wo({props:{masteredIds:a[10]}}),e.$on("selectKanji",a[12]),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p(n,i){const o={};i&1024&&(o.masteredIds=n[10]),e.$set(o)},i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Ys(a){let e,t,n,i;return e=new Ea({props:{kanaData:Hn,type:"hiragana",masteredIds:a[8],t:a[7]}}),e.$on("selectKana",a[11]),n=new Ea({props:{kanaData:Gn,type:"katakana",masteredIds:a[9],t:a[7]}}),n.$on("selectKana",a[11]),{c(){Oe(e.$$.fragment),t=A(),Oe(n.$$.fragment)},m(o,r){We(e,o,r),O(o,t,r),We(n,o,r),i=!0},p(o,r){const u={};r&256&&(u.masteredIds=o[8]),r&128&&(u.t=o[7]),e.$set(u);const s={};r&512&&(s.masteredIds=o[9]),r&128&&(s.t=o[7]),n.$set(s)},i(o){i||(ae(e.$$.fragment,o),ae(n.$$.fragment,o),i=!0)},o(o){re(e.$$.fragment,o),re(n.$$.fragment,o),i=!1},d(o){o&&R(t),Ee(e,o),Ee(n,o)}}}function Qs(a){let e,t;return e=new Fs({}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p:ee,i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Zs(a){let e,t;return e=new ws({}),{c(){Oe(e.$$.fragment)},m(n,i){We(e,n,i),t=!0},p:ee,i(n){t||(ae(e.$$.fragment,n),t=!0)},o(n){re(e.$$.fragment,n),t=!1},d(n){Ee(e,n)}}}function Xs(a){let e,t=a[6].data&&vi(a);return{c(){t&&t.c(),e=rt()},m(n,i){t&&t.m(n,i),O(n,e,i)},p(n,i){n[6].data?t?t.p(n,i):(t=vi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&R(e),t&&t.d(n)}}}function el(a){let e;function t(o,r){return o[6].data?nl:tl}let n=t(a),i=n(a);return{c(){i.c(),e=rt()},m(o,r){i.m(o,r),O(o,e,r)},p(o,r){n===(n=t(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&R(e),i.d(o)}}}function vi(a){let e,t=a[7]("selected_kanji")+"",n,i,o=a[6].data.kanji+"",r,u,s,l,h=a[7]("meaning")+"",c,d,p,k=a[7](a[6].data.meaning)+"",_,y,S,C,x=a[7]("onyomi")+"",P,E,L,D=a[6].data.onyomi.join(", ")+"",K,H,J,N,U=a[7]("kunyomi")+"",Q,G,Z,Y=a[6].data.kunyomi.join(", ")+"",Te,se,te,ie,ue=a[6].data.strokeOrderImg&&bi(a),ze=a[6].data.examples&&a[6].data.examples.length>0&&yi(a);return{c(){e=v("h3"),n=z(t),i=z(": "),r=z(o),u=A(),s=v("p"),l=v("strong"),c=z(h),d=z(":"),p=A(),_=z(k),y=A(),S=v("p"),C=v("strong"),P=z(x),E=z(":"),L=A(),K=z(D),H=A(),J=v("p"),N=v("strong"),Q=z(U),G=z(":"),Z=A(),Te=z(Y),se=A(),ue&&ue.c(),te=A(),ze&&ze.c(),ie=rt()},m(ne,le){O(ne,e,le),f(e,n),f(e,i),f(e,r),O(ne,u,le),O(ne,s,le),f(s,l),f(l,c),f(l,d),f(s,p),f(s,_),O(ne,y,le),O(ne,S,le),f(S,C),f(C,P),f(C,E),f(S,L),f(S,K),O(ne,H,le),O(ne,J,le),f(J,N),f(N,Q),f(N,G),f(J,Z),f(J,Te),O(ne,se,le),ue&&ue.m(ne,le),O(ne,te,le),ze&&ze.m(ne,le),O(ne,ie,le)},p(ne,le){le&128&&t!==(t=ne[7]("selected_kanji")+"")&&W(n,t),le&64&&o!==(o=ne[6].data.kanji+"")&&W(r,o),le&128&&h!==(h=ne[7]("meaning")+"")&&W(c,h),le&192&&k!==(k=ne[7](ne[6].data.meaning)+"")&&W(_,k),le&128&&x!==(x=ne[7]("onyomi")+"")&&W(P,x),le&64&&D!==(D=ne[6].data.onyomi.join(", ")+"")&&W(K,D),le&128&&U!==(U=ne[7]("kunyomi")+"")&&W(Q,U),le&64&&Y!==(Y=ne[6].data.kunyomi.join(", ")+"")&&W(Te,Y),ne[6].data.strokeOrderImg?ue?ue.p(ne,le):(ue=bi(ne),ue.c(),ue.m(te.parentNode,te)):ue&&(ue.d(1),ue=null),ne[6].data.examples&&ne[6].data.examples.length>0?ze?ze.p(ne,le):(ze=yi(ne),ze.c(),ze.m(ie.parentNode,ie)):ze&&(ze.d(1),ze=null)},d(ne){ne&&(R(e),R(u),R(s),R(y),R(S),R(H),R(J),R(se),R(te),R(ie)),ue&&ue.d(ne),ze&&ze.d(ne)}}}function bi(a){let e,t,n;return{c(){e=v("img"),Bn(e.src,t=a[6].data.strokeOrderImg)||w(e,"src",t),w(e,"alt",n=a[7]("stroke_order")+" "+a[6].data.kanji)},m(i,o){O(i,e,o)},p(i,o){o&64&&!Bn(e.src,t=i[6].data.strokeOrderImg)&&w(e,"src",t),o&192&&n!==(n=i[7]("stroke_order")+" "+i[6].data.kanji)&&w(e,"alt",n)},d(i){i&&R(e)}}}function yi(a){let e,t=a[7]("examples")+"",n,i,o,r,u=pe(a[6].data.examples),s=[];for(let l=0;l<u.length;l+=1)s[l]=ji(_i(a,u,l));return{c(){e=v("h4"),n=z(t),i=z(":"),o=A(),r=v("ul");for(let l=0;l<s.length;l+=1)s[l].c()},m(l,h){O(l,e,h),f(e,n),f(e,i),O(l,o,h),O(l,r,h);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,null)},p(l,h){if(h&128&&t!==(t=l[7]("examples")+"")&&W(n,t),h&192){u=pe(l[6].data.examples);let c;for(c=0;c<u.length;c+=1){const d=_i(l,u,c);s[c]?s[c].p(d,h):(s[c]=ji(d),s[c].c(),s[c].m(r,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=u.length}},d(l){l&&(R(e),R(o),R(r)),Ve(s,l)}}}function wi(a){let e,t=a[25].kana+"",n,i,o=a[25].romaji+"",r,u,s=a[7](a[25].en)+"",l;return{c(){e=v("li"),n=z(t),i=z(" ("),r=z(o),u=z(") - "),l=z(s)},m(h,c){O(h,e,c),f(e,n),f(e,i),f(e,r),f(e,u),f(e,l)},p(h,c){c&64&&t!==(t=h[25].kana+"")&&W(n,t),c&64&&o!==(o=h[25].romaji+"")&&W(r,o),c&192&&s!==(s=h[7](h[25].en)+"")&&W(l,s)},d(h){h&&R(e)}}}function ji(a){let e,t=a[25]&&wi(a);return{c(){t&&t.c(),e=rt()},m(n,i){t&&t.m(n,i),O(n,e,i)},p(n,i){n[25]?t?t.p(n,i):(t=wi(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&R(e),t&&t.d(n)}}}function tl(a){let e,t=a[7]("no_vocabulary_example_selected")+"",n;return{c(){e=v("p"),n=z(t)},m(i,o){O(i,e,o),f(e,n)},p(i,o){o&128&&t!==(t=i[7]("no_vocabulary_example_selected")+"")&&W(n,t)},d(i){i&&R(e)}}}function nl(a){let e,t,n,i=a[7]("kana")+"",o,r,u,s=a[6].data.kana+"",l,h,c,d,p=a[7]("romaji")+"",k,_,y,S=a[6].data.romaji+"",C,x,P,E,L=a[7]("meaning")+"",D,K,H,J=a[7](a[6].data.id)+"",N;return{c(){e=v("div"),t=v("p"),n=v("strong"),o=z(i),r=z(":"),u=A(),l=z(s),h=A(),c=v("p"),d=v("strong"),k=z(p),_=z(":"),y=A(),C=z(S),x=A(),P=v("p"),E=v("strong"),D=z(L),K=z(":"),H=A(),N=z(J),w(e,"class","vocabulary-example-content")},m(U,Q){O(U,e,Q),f(e,t),f(t,n),f(n,o),f(n,r),f(t,u),f(t,l),f(e,h),f(e,c),f(c,d),f(d,k),f(d,_),f(c,y),f(c,C),f(e,x),f(e,P),f(P,E),f(E,D),f(E,K),f(P,H),f(P,N)},p(U,Q){Q&128&&i!==(i=U[7]("kana")+"")&&W(o,i),Q&64&&s!==(s=U[6].data.kana+"")&&W(l,s),Q&128&&p!==(p=U[7]("romaji")+"")&&W(k,p),Q&64&&S!==(S=U[6].data.romaji+"")&&W(C,S),Q&128&&L!==(L=U[7]("meaning")+"")&&W(D,L),Q&192&&J!==(J=U[7](U[6].data.id)+"")&&W(N,J)},d(U){U&&R(e)}}}function al(a){let e;function t(o,r){if(o[6]&&o[6].type==="kana")return el;if(o[6]&&o[6].type==="kanji")return Xs}let n=t(a),i=n&&n(a);return{c(){i&&i.c(),e=rt()},m(o,r){i&&i.m(o,r),O(o,e,r)},p(o,r){n===(n=t(o))&&i?i.p(o,r):(i&&i.d(1),i=n&&n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&R(e),i&&i.d(o)}}}function il(a){let e,t,n,i,o,r,u;const s=[Ks,xs],l=[];function h(p,k){return p[1]?0:1}t=h(a),n=l[t]=s[t](a);function c(p){a[21](p)}let d={title:a[5],$$slots:{default:[al]},$$scope:{ctx:a}};return a[4]!==void 0&&(d.show=a[4]),o=new wr({props:d}),gn.push(()=>Ai(o,"show",c)),o.$on("close",a[13]),{c(){e=v("main"),n.c(),i=A(),Oe(o.$$.fragment)},m(p,k){O(p,e,k),l[t].m(e,null),O(p,i,k),We(o,p,k),u=!0},p(p,[k]){let _=t;t=h(p),t===_?l[t].p(p,k):(dt(),re(l[_],1,1,()=>{l[_]=null}),mt(),n=l[t],n?n.p(p,k):(n=l[t]=s[t](p),n.c()),ae(n,1),n.m(e,null));const y={};k&32&&(y.title=p[5]),k&268435648&&(y.$$scope={dirty:k,ctx:p}),!r&&k&16&&(r=!0,y.show=p[4],Wi(()=>r=!1)),o.$set(y)},i(p){u||(ae(n),ae(o.$$.fragment,p),u=!0)},o(p){re(n),re(o.$$.fragment,p),u=!1},d(p){p&&(R(e),R(i)),l[t].d(),Ee(o,p)}}}function ol(a,e,t){let n,i,o,r,u,s,l;fe(a,Fn,N=>t(0,n=N)),fe(a,Kn,N=>t(1,i=N)),fe(a,de,N=>t(7,o=N)),fe(a,Zt,N=>t(19,r=N));let h=null,c=null,d="learn",p="all",k=!1,_="",y=null;Gt(()=>{Qt.update(N=>{const U=new Date().toISOString().slice(0,10);let Q={...N};if(Q.lastStudyDate){const G=new Date(Q.lastStudyDate),Z=new Date;Z.setDate(Z.getDate()-1),G.toISOString().slice(0,10)===Z.toISOString().slice(0,10)?Q.currentStreak++:G.toISOString().slice(0,10)!==U&&(Q.currentStreak=1)}else Q.currentStreak=1;return Q.currentStreak>Q.longestStreak&&(Q.longestStreak=Q.currentStreak),Q.lastStudyDate=U,Q})});function S(N){const U=N.detail;h=Ut.find(Q=>Q.kana.startsWith(U.kana))||null,t(5,_=o("vocabulary_example")),t(6,y={type:"kana",data:h}),t(4,k=!0)}function C(N){const U=N.detail;c=U,t(5,_=U.kanji),t(6,y={type:"kanji",data:c}),t(4,k=!0)}function x(){t(4,k=!1),t(6,y=null),h=null,c=null}function P(N){t(3,p=N.detail)}const E=[...new Set(Ut.flatMap(N=>N.themes||[]))],L=$n(ot,N=>N.hiragana);fe(a,L,N=>t(8,u=N));const D=$n(ot,N=>N.katakana);fe(a,D,N=>t(9,s=N));const K=$n(ot,N=>N.kanji);fe(a,K,N=>t(10,l=N));const H=(N,U)=>U.id===N;function J(N){k=N,t(4,k)}return a.$$.update=()=>{a.$$.dirty&524288&&t(2,d=r.substring(1)||"learn"),a.$$.dirty&3&&i&&(console.log("App.svelte: translationsLoaded is true"),console.log("App.svelte: translations store value",n))},[n,i,d,p,k,_,y,o,u,s,l,S,C,x,P,E,L,D,K,r,H,J]}class rl extends qe{constructor(e){super(),Ce(this,e,ol,il,Ae,{})}}function sl(a){const e=["theme-light","theme-dark","theme-ocean-blue","theme-forest-green","theme-high-contrast"];if(document.body.classList.remove(...e),a==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.body.classList.add(t?"theme-dark":"theme-light")}else document.body.classList.add(`theme-${a}`)}Jt.subscribe(sl);jo().then(()=>{new rl({target:document.getElementById("app")})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(a=>{console.log("SW registered: ",a)}).catch(a=>{console.log("SW registration failed: ",a)})});
