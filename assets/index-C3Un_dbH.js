var tu=Object.defineProperty;var Go=n=>{throw TypeError(n)};var nu=(n,e,t)=>e in n?tu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>nu(n,typeof e!="symbol"?e+"":e,t),iu=(n,e,t)=>e.has(n)||Go("Cannot "+t);var Yo=(n,e,t)=>e.has(n)?Go("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var Ss=(n,e,t)=>(iu(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function oe(){}function su(n,e){for(const t in e)n[t]=e[t];return n}function Ec(n){return n()}function Jo(){return Object.create(null)}function Je(n){n.forEach(Ec)}function bo(n){return typeof n=="function"}function Ve(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let zs;function ci(n,e){return n===e?!0:(zs||(zs=document.createElement("a")),zs.href=e,n===zs.href)}function au(n){return Object.keys(n).length===0}function vo(n,...e){if(n==null){for(const i of e)i(void 0);return oe}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ht(n){let e;return vo(n,t=>e=t)(),e}function ye(n,e,t){n.$$.on_destroy.push(vo(e,t))}function ou(n,e,t,i){if(n){const s=Rc(n,e,t,i);return n[0](s)}}function Rc(n,e,t,i){return n[1]&&i?su(t.ctx.slice(),n[1](i(e))):t.ctx}function ru(n,e,t,i){return n[2],e.dirty}function lu(n,e,t,i,s,a){if(s){const o=Rc(e,t,i,a);n.p(o,s)}}function cu(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function g(n,e){n.appendChild(e)}function L(n,e,t){n.insertBefore(e,t||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function st(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function j(n){return document.createElement(n)}function W(n){return document.createTextNode(n)}function D(){return W(" ")}function on(){return W("")}function te(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function v(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function hu(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function uu(n){return Array.from(n.childNodes)}function O(n,e){e=""+e,n.data!==e&&(n.data=e)}function Re(n,e){n.value=e??""}function Jt(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function pn(n,e,t){for(let i=0;i<n.options.length;i+=1){const s=n.options[i];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function yo(n){const e=n.querySelector(":checked");return e&&e.__value}function be(n,e,t){n.classList.toggle(e,!!t)}function du(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}let Qi;function Hi(n){Qi=n}function wo(){if(!Qi)throw new Error("Function called outside component initialization");return Qi}function gn(n){wo().$$.on_mount.push(n)}function jo(n){wo().$$.on_destroy.push(n)}function ls(){const n=wo();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const a=du(e,t,{cancelable:i});return s.slice().forEach(o=>{o.call(n,a)}),!a.defaultPrevented}return!0}}const oi=[],_n=[];let ri=[];const Ga=[],fu=Promise.resolve();let Ya=!1;function mu(){Ya||(Ya=!0,fu.then(Fc))}function hi(n){ri.push(n)}function Lc(n){Ga.push(n)}const Wa=new Set;let ni=0;function Fc(){if(ni!==0)return;const n=Qi;do{try{for(;ni<oi.length;){const e=oi[ni];ni++,Hi(e),pu(e.$$)}}catch(e){throw oi.length=0,ni=0,e}for(Hi(null),oi.length=0,ni=0;_n.length;)_n.pop()();for(let e=0;e<ri.length;e+=1){const t=ri[e];Wa.has(t)||(Wa.add(t),t())}ri.length=0}while(oi.length);for(;Ga.length;)Ga.pop()();Ya=!1,Wa.clear(),Hi(n)}function pu(n){if(n.fragment!==null){n.update(),Je(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(hi)}}function gu(n){const e=[],t=[];ri.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),ri=e}const Us=new Set;let An;function Ct(){An={r:0,c:[],p:An}}function Dt(){An.r||Je(An.c),An=An.p}function le(n,e){n&&n.i&&(Us.delete(n),n.i(e))}function ce(n,e,t,i){if(n&&n.o){if(Us.has(n))return;Us.add(n),An.c.push(()=>{Us.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}function ue(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function cs(n,e){n.d(1),e.delete(n.key)}function hs(n,e,t,i,s,a,o,r,l,c,h,u){let d=n.length,f=a.length,m=d;const p={};for(;m--;)p[n[m].key]=m;const _=[],k=new Map,w=new Map,I=[];for(m=f;m--;){const A=u(s,a,m),E=t(A);let B=o.get(E);B?I.push(()=>B.p(A,e)):(B=c(E,A),B.c()),k.set(E,_[m]=B),E in p&&w.set(E,Math.abs(m-p[E]))}const S=new Set,T=new Set;function C(A){le(A,1),A.m(r,h),o.set(A.key,A),h=A.first,f--}for(;d&&f;){const A=_[f-1],E=n[d-1],B=A.key,N=E.key;A===E?(h=A.first,d--,f--):k.has(N)?!o.has(B)||S.has(B)?C(A):T.has(N)?d--:w.get(B)>w.get(N)?(T.add(B),C(A)):(S.add(N),d--):(l(E,o),d--)}for(;d--;){const A=n[d];k.has(A.key)||l(A,o)}for(;f;)C(_[f-1]);return Je(I),_}function Bc(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function $e(n){n&&n.c()}function Ne(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),hi(()=>{const a=n.$$.on_mount.map(Ec).filter(bo);n.$$.on_destroy?n.$$.on_destroy.push(...a):Je(a),n.$$.on_mount=[]}),s.forEach(hi)}function qe(n,e){const t=n.$$;t.fragment!==null&&(gu(t.after_update),Je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _u(n,e){n.$$.dirty[0]===-1&&(oi.push(n),mu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ue(n,e,t,i,s,a,o=null,r=[-1]){const l=Qi;Hi(n);const c=n.$$={fragment:null,ctx:[],props:a,update:oe,not_equal:s,bound:Jo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Jo(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=t?t(n,e.props||{},(u,d,...f)=>{const m=f.length?f[0]:d;return c.ctx&&s(c.ctx[u],c.ctx[u]=m)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](m),h&&_u(n,u)),d}):[],c.update(),h=!0,Je(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const u=uu(e.target);c.fragment&&c.fragment.l(u),u.forEach(R)}else c.fragment&&c.fragment.c();e.intro&&le(n.$$.fragment),Ne(n,e.target,e.anchor),Fc()}Hi(l)}class Ke{constructor(){$(this,"$$");$(this,"$$set")}$destroy(){qe(this,1),this.$destroy=oe}$on(e,t){if(!bo(t))return oe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!au(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ku="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ku);const ii=[];function bu(n,e){return{subscribe:_i(n,e).subscribe}}function _i(n,e=oe){let t;const i=new Set;function s(r){if(Ve(n,r)&&(n=r,t)){const l=!ii.length;for(const c of i)c[1](),ii.push(c,n);if(l){for(let c=0;c<ii.length;c+=2)ii[c][0](ii[c+1]);ii.length=0}}}function a(r){s(r(n))}function o(r,l=oe){const c=[r,l];return i.add(c),i.size===1&&(t=e(s,a)||oe),r(n),()=>{i.delete(c),i.size===0&&t&&(t(),t=null)}}return{set:s,update:a,subscribe:o}}function Ks(n,e,t){const i=!Array.isArray(n),s=i?[n]:n;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return bu(t,(o,r)=>{let l=!1;const c=[];let h=0,u=oe;const d=()=>{if(h)return;u();const m=e(i?c[0]:c,o,r);a?o(m):u=bo(m)?m:oe},f=s.map((m,p)=>vo(m,_=>{c[p]=_,h&=~(1<<p),l&&d()},()=>{h|=1<<p}));return l=!0,d(),function(){Je(f),u(),l=!1}})}var Ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Is(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nc={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,e){(function(t){n.exports=t()})(function(){return function t(i,s,a){function o(c,h){if(!s[c]){if(!i[c]){var u=typeof Is=="function"&&Is;if(!h&&u)return u(c,!0);if(r)return r(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var f=s[c]={exports:{}};i[c][0].call(f.exports,function(m){var p=i[c][1][m];return o(p||m)},f,f.exports,t,i,s,a)}return s[c].exports}for(var r=typeof Is=="function"&&Is,l=0;l<a.length;l++)o(a[l]);return o}({1:[function(t,i,s){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,r;if(o){var l=0,c=new o(m),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),r=function(){h.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var u=new a.MessageChannel;u.port1.onmessage=m,r=function(){u.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?r=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){m(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:r=function(){setTimeout(m,0)};var d,f=[];function m(){d=!0;for(var _,k,w=f.length;w;){for(k=f,f=[],_=-1;++_<w;)k[_]();w=f.length}d=!1}i.exports=p;function p(_){f.push(_)===1&&!d&&r()}}).call(this,typeof Ms<"u"?Ms:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,i,s){var a=t(1);function o(){}var r={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];i.exports=u;function u(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,T!==o&&p(this,T)}u.prototype.catch=function(T){return this.then(null,T)},u.prototype.then=function(T,C){if(typeof T!="function"&&this.state===c||typeof C!="function"&&this.state===l)return this;var A=new this.constructor(o);if(this.state!==h){var E=this.state===c?T:C;f(A,E,this.outcome)}else this.queue.push(new d(A,T,C));return A};function d(T,C,A){this.promise=T,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(T){r.resolve(this.promise,T)},d.prototype.otherCallFulfilled=function(T){f(this.promise,this.onFulfilled,T)},d.prototype.callRejected=function(T){r.reject(this.promise,T)},d.prototype.otherCallRejected=function(T){f(this.promise,this.onRejected,T)};function f(T,C,A){a(function(){var E;try{E=C(A)}catch(B){return r.reject(T,B)}E===T?r.reject(T,new TypeError("Cannot resolve promise with itself")):r.resolve(T,E)})}r.resolve=function(T,C){var A=_(m,C);if(A.status==="error")return r.reject(T,A.value);var E=A.value;if(E)p(T,E);else{T.state=c,T.outcome=C;for(var B=-1,N=T.queue.length;++B<N;)T.queue[B].callFulfilled(C)}return T},r.reject=function(T,C){T.state=l,T.outcome=C;for(var A=-1,E=T.queue.length;++A<E;)T.queue[A].callRejected(C);return T};function m(T){var C=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof C=="function")return function(){C.apply(T,arguments)}}function p(T,C){var A=!1;function E(q){A||(A=!0,r.reject(T,q))}function B(q){A||(A=!0,r.resolve(T,q))}function N(){C(B,E)}var U=_(N);U.status==="error"&&E(U.value)}function _(T,C){var A={};try{A.value=T(C),A.status="success"}catch(E){A.status="error",A.value=E}return A}u.resolve=k;function k(T){return T instanceof this?T:r.resolve(new this(o),T)}u.reject=w;function w(T){var C=new this(o);return r.reject(C,T)}u.all=I;function I(T){var C=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,E=!1;if(!A)return this.resolve([]);for(var B=new Array(A),N=0,U=-1,q=new this(o);++U<A;)Z(T[U],U);return q;function Z(H,V){C.resolve(H).then(Y,function(ee){E||(E=!0,r.reject(q,ee))});function Y(ee){B[V]=ee,++N===A&&!E&&(E=!0,r.resolve(q,B))}}}u.race=S;function S(T){var C=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=T.length,E=!1;if(!A)return this.resolve([]);for(var B=-1,N=new this(o);++B<A;)U(T[B]);return N;function U(q){C.resolve(q).then(function(Z){E||(E=!0,r.resolve(N,Z))},function(Z){E||(E=!0,r.reject(N,Z))})}}},{1:1}],3:[function(t,i,s){(function(a){typeof a.Promise!="function"&&(a.Promise=t(2))}).call(this,typeof Ms<"u"?Ms:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,i,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};function o(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function r(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=r();function c(){try{if(!l||!l.open)return!1;var b=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!b||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function h(b,M){b=b||[],M=M||{};try{return new Blob(b,M)}catch(x){if(x.name!=="TypeError")throw x;for(var y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,z=new y,P=0;P<b.length;P+=1)z.append(b[P]);return z.getBlob(M.type)}}typeof Promise>"u"&&t(3);var u=Promise;function d(b,M){M&&b.then(function(y){M(null,y)},function(y){M(y)})}function f(b,M,y){typeof M=="function"&&b.then(M),typeof y=="function"&&b.catch(y)}function m(b){return typeof b!="string"&&(console.warn(b+" used as a key, but it is not a string."),b=String(b)),b}function p(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",k=void 0,w={},I=Object.prototype.toString,S="readonly",T="readwrite";function C(b){for(var M=b.length,y=new ArrayBuffer(M),z=new Uint8Array(y),P=0;P<M;P++)z[P]=b.charCodeAt(P);return y}function A(b){return new u(function(M){var y=b.transaction(_,T),z=h([""]);y.objectStore(_).put(z,"key"),y.onabort=function(P){P.preventDefault(),P.stopPropagation(),M(!1)},y.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),x=navigator.userAgent.match(/Edge\//);M(x||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}function E(b){return typeof k=="boolean"?u.resolve(k):A(b).then(function(M){return k=M,k})}function B(b){var M=w[b.name],y={};y.promise=new u(function(z,P){y.resolve=z,y.reject=P}),M.deferredOperations.push(y),M.dbReady?M.dbReady=M.dbReady.then(function(){return y.promise}):M.dbReady=y.promise}function N(b){var M=w[b.name],y=M.deferredOperations.pop();if(y)return y.resolve(),y.promise}function U(b,M){var y=w[b.name],z=y.deferredOperations.pop();if(z)return z.reject(M),z.promise}function q(b,M){return new u(function(y,z){if(w[b.name]=w[b.name]||de(),b.db)if(M)B(b),b.db.close();else return y(b.db);var P=[b.name];M&&P.push(b.version);var x=l.open.apply(l,P);M&&(x.onupgradeneeded=function(F){var K=x.result;try{K.createObjectStore(b.storeName),F.oldVersion<=1&&K.createObjectStore(_)}catch(G){if(G.name==="ConstraintError")console.warn('The database "'+b.name+'" has been upgraded from version '+F.oldVersion+" to version "+F.newVersion+', but the storage "'+b.storeName+'" already exists.');else throw G}}),x.onerror=function(F){F.preventDefault(),z(x.error)},x.onsuccess=function(){var F=x.result;F.onversionchange=function(K){K.target.close()},y(F),N(b)}})}function Z(b){return q(b,!1)}function H(b){return q(b,!0)}function V(b,M){if(!b.db)return!0;var y=!b.db.objectStoreNames.contains(b.storeName),z=b.version<b.db.version,P=b.version>b.db.version;if(z&&(b.version!==M&&console.warn('The database "'+b.name+`" can't be downgraded from version `+b.db.version+" to version "+b.version+"."),b.version=b.db.version),P||y){if(y){var x=b.db.version+1;x>b.version&&(b.version=x)}return!0}return!1}function Y(b){return new u(function(M,y){var z=new FileReader;z.onerror=y,z.onloadend=function(P){var x=btoa(P.target.result||"");M({__local_forage_encoded_blob:!0,data:x,type:b.type})},z.readAsBinaryString(b)})}function ee(b){var M=C(atob(b.data));return h([M],{type:b.type})}function Q(b){return b&&b.__local_forage_encoded_blob}function se(b){var M=this,y=M._initReady().then(function(){var z=w[M._dbInfo.name];if(z&&z.dbReady)return z.dbReady});return f(y,b,b),y}function we(b){B(b);for(var M=w[b.name],y=M.forages,z=0;z<y.length;z++){var P=y[z];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return b.db=null,Z(b).then(function(x){return b.db=x,V(b)?H(b):x}).then(function(x){b.db=M.db=x;for(var F=0;F<y.length;F++)y[F]._dbInfo.db=x}).catch(function(x){throw U(b,x),x})}function fe(b,M,y,z){z===void 0&&(z=1);try{var P=b.db.transaction(b.storeName,M);y(null,P)}catch(x){if(z>0&&(!b.db||x.name==="InvalidStateError"||x.name==="NotFoundError"))return u.resolve().then(function(){if(!b.db||x.name==="NotFoundError"&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),H(b)}).then(function(){return we(b).then(function(){fe(b,M,y,z-1)})}).catch(y);y(x)}}function de(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _e(b){var M=this,y={db:null};if(b)for(var z in b)y[z]=b[z];var P=w[y.name];P||(P=de(),w[y.name]=P),P.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=se);var x=[];function F(){return u.resolve()}for(var K=0;K<P.forages.length;K++){var G=P.forages[K];G!==M&&x.push(G._initReady().catch(F))}var J=P.forages.slice(0);return u.all(x).then(function(){return y.db=P.db,Z(y)}).then(function(X){return y.db=X,V(y,M._defaultConfig.version)?H(y):X}).then(function(X){y.db=P.db=X,M._dbInfo=y;for(var ne=0;ne<J.length;ne++){var ge=J[ne];ge!==M&&(ge._dbInfo.db=y.db,ge._dbInfo.version=y.version)}})}function re(b,M){var y=this;b=m(b);var z=new u(function(P,x){y.ready().then(function(){fe(y._dbInfo,S,function(F,K){if(F)return x(F);try{var G=K.objectStore(y._dbInfo.storeName),J=G.get(b);J.onsuccess=function(){var X=J.result;X===void 0&&(X=null),Q(X)&&(X=ee(X)),P(X)},J.onerror=function(){x(J.error)}}catch(X){x(X)}})}).catch(x)});return d(z,M),z}function ae(b,M){var y=this,z=new u(function(P,x){y.ready().then(function(){fe(y._dbInfo,S,function(F,K){if(F)return x(F);try{var G=K.objectStore(y._dbInfo.storeName),J=G.openCursor(),X=1;J.onsuccess=function(){var ne=J.result;if(ne){var ge=ne.value;Q(ge)&&(ge=ee(ge));var Te=b(ge,ne.key,X++);Te!==void 0?P(Te):ne.continue()}else P()},J.onerror=function(){x(J.error)}}catch(ne){x(ne)}})}).catch(x)});return d(z,M),z}function Ae(b,M,y){var z=this;b=m(b);var P=new u(function(x,F){var K;z.ready().then(function(){return K=z._dbInfo,I.call(M)==="[object Blob]"?E(K.db).then(function(G){return G?M:Y(M)}):M}).then(function(G){fe(z._dbInfo,T,function(J,X){if(J)return F(J);try{var ne=X.objectStore(z._dbInfo.storeName);G===null&&(G=void 0);var ge=ne.put(G,b);X.oncomplete=function(){G===void 0&&(G=null),x(G)},X.onabort=X.onerror=function(){var Te=ge.error?ge.error:ge.transaction.error;F(Te)}}catch(Te){F(Te)}})}).catch(F)});return d(P,y),P}function Ie(b,M){var y=this;b=m(b);var z=new u(function(P,x){y.ready().then(function(){fe(y._dbInfo,T,function(F,K){if(F)return x(F);try{var G=K.objectStore(y._dbInfo.storeName),J=G.delete(b);K.oncomplete=function(){P()},K.onerror=function(){x(J.error)},K.onabort=function(){var X=J.error?J.error:J.transaction.error;x(X)}}catch(X){x(X)}})}).catch(x)});return d(z,M),z}function ct(b){var M=this,y=new u(function(z,P){M.ready().then(function(){fe(M._dbInfo,T,function(x,F){if(x)return P(x);try{var K=F.objectStore(M._dbInfo.storeName),G=K.clear();F.oncomplete=function(){z()},F.onabort=F.onerror=function(){var J=G.error?G.error:G.transaction.error;P(J)}}catch(J){P(J)}})}).catch(P)});return d(y,b),y}function mt(b){var M=this,y=new u(function(z,P){M.ready().then(function(){fe(M._dbInfo,S,function(x,F){if(x)return P(x);try{var K=F.objectStore(M._dbInfo.storeName),G=K.count();G.onsuccess=function(){z(G.result)},G.onerror=function(){P(G.error)}}catch(J){P(J)}})}).catch(P)});return d(y,b),y}function pt(b,M){var y=this,z=new u(function(P,x){if(b<0){P(null);return}y.ready().then(function(){fe(y._dbInfo,S,function(F,K){if(F)return x(F);try{var G=K.objectStore(y._dbInfo.storeName),J=!1,X=G.openKeyCursor();X.onsuccess=function(){var ne=X.result;if(!ne){P(null);return}b===0||J?P(ne.key):(J=!0,ne.advance(b))},X.onerror=function(){x(X.error)}}catch(ne){x(ne)}})}).catch(x)});return d(z,M),z}function me(b){var M=this,y=new u(function(z,P){M.ready().then(function(){fe(M._dbInfo,S,function(x,F){if(x)return P(x);try{var K=F.objectStore(M._dbInfo.storeName),G=K.openKeyCursor(),J=[];G.onsuccess=function(){var X=G.result;if(!X){z(J);return}J.push(X.key),X.continue()},G.onerror=function(){P(G.error)}}catch(X){P(X)}})}).catch(P)});return d(y,b),y}function pe(b,M){M=p.apply(this,arguments);var y=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||y.name,b.storeName=b.storeName||y.storeName);var z=this,P;if(!b.name)P=u.reject("Invalid arguments");else{var x=b.name===y.name&&z._dbInfo.db,F=x?u.resolve(z._dbInfo.db):Z(b).then(function(K){var G=w[b.name],J=G.forages;G.db=K;for(var X=0;X<J.length;X++)J[X]._dbInfo.db=K;return K});b.storeName?P=F.then(function(K){if(K.objectStoreNames.contains(b.storeName)){var G=K.version+1;B(b);var J=w[b.name],X=J.forages;K.close();for(var ne=0;ne<X.length;ne++){var ge=X[ne];ge._dbInfo.db=null,ge._dbInfo.version=G}var Te=new u(function(Se,Ze){var Ge=l.open(b.name,G);Ge.onerror=function(wt){var Pi=Ge.result;Pi.close(),Ze(wt)},Ge.onupgradeneeded=function(){var wt=Ge.result;wt.deleteObjectStore(b.storeName)},Ge.onsuccess=function(){var wt=Ge.result;wt.close(),Se(wt)}});return Te.then(function(Se){J.db=Se;for(var Ze=0;Ze<X.length;Ze++){var Ge=X[Ze];Ge._dbInfo.db=Se,N(Ge._dbInfo)}}).catch(function(Se){throw(U(b,Se)||u.resolve()).catch(function(){}),Se})}}):P=F.then(function(K){B(b);var G=w[b.name],J=G.forages;K.close();for(var X=0;X<J.length;X++){var ne=J[X];ne._dbInfo.db=null}var ge=new u(function(Te,Se){var Ze=l.deleteDatabase(b.name);Ze.onerror=function(){var Ge=Ze.result;Ge&&Ge.close(),Se(Ze.error)},Ze.onblocked=function(){console.warn('dropInstance blocked for database "'+b.name+'" until all open connections are closed')},Ze.onsuccess=function(){var Ge=Ze.result;Ge&&Ge.close(),Te(Ge)}});return ge.then(function(Te){G.db=Te;for(var Se=0;Se<J.length;Se++){var Ze=J[Se];N(Ze._dbInfo)}}).catch(function(Te){throw(U(b,Te)||u.resolve()).catch(function(){}),Te})})}return d(P,M),P}var $t={_driver:"asyncStorage",_initStorage:_e,_support:c(),iterate:ae,getItem:re,setItem:Ae,removeItem:Ie,clear:ct,length:mt,key:pt,keys:me,dropInstance:pe};function Ot(){return typeof openDatabase=="function"}var tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bt="~~local_forage_type~",vt=/^~~local_forage_type~([^~]+)~/,nt="__lfsc__:",gt=nt.length,Tt="arbf",Ut="blob",xt="si08",St="ui08",Et="uic8",Kt="si16",Be="si32",yt="ur16",ln="ui32",ut="fl32",Oe="fl64",Xe=gt+Tt.length,ie=Object.prototype.toString;function Ce(b){var M=b.length*.75,y=b.length,z,P=0,x,F,K,G;b[b.length-1]==="="&&(M--,b[b.length-2]==="="&&M--);var J=new ArrayBuffer(M),X=new Uint8Array(J);for(z=0;z<y;z+=4)x=tt.indexOf(b[z]),F=tt.indexOf(b[z+1]),K=tt.indexOf(b[z+2]),G=tt.indexOf(b[z+3]),X[P++]=x<<2|F>>4,X[P++]=(F&15)<<4|K>>2,X[P++]=(K&3)<<6|G&63;return J}function We(b){var M=new Uint8Array(b),y="",z;for(z=0;z<M.length;z+=3)y+=tt[M[z]>>2],y+=tt[(M[z]&3)<<4|M[z+1]>>4],y+=tt[(M[z+1]&15)<<2|M[z+2]>>6],y+=tt[M[z+2]&63];return M.length%3===2?y=y.substring(0,y.length-1)+"=":M.length%3===1&&(y=y.substring(0,y.length-2)+"=="),y}function cn(b,M){var y="";if(b&&(y=ie.call(b)),b&&(y==="[object ArrayBuffer]"||b.buffer&&ie.call(b.buffer)==="[object ArrayBuffer]")){var z,P=nt;b instanceof ArrayBuffer?(z=b,P+=Tt):(z=b.buffer,y==="[object Int8Array]"?P+=xt:y==="[object Uint8Array]"?P+=St:y==="[object Uint8ClampedArray]"?P+=Et:y==="[object Int16Array]"?P+=Kt:y==="[object Uint16Array]"?P+=yt:y==="[object Int32Array]"?P+=Be:y==="[object Uint32Array]"?P+=ln:y==="[object Float32Array]"?P+=ut:y==="[object Float64Array]"?P+=Oe:M(new Error("Failed to get type for BinaryArray"))),M(P+We(z))}else if(y==="[object Blob]"){var x=new FileReader;x.onload=function(){var F=bt+b.type+"~"+We(this.result);M(nt+Ut+F)},x.readAsArrayBuffer(b)}else try{M(JSON.stringify(b))}catch(F){console.error("Couldn't convert value into a JSON string: ",b),M(null,F)}}function ps(b){if(b.substring(0,gt)!==nt)return JSON.parse(b);var M=b.substring(Xe),y=b.substring(gt,Xe),z;if(y===Ut&&vt.test(M)){var P=M.match(vt);z=P[1],M=M.substring(P[0].length)}var x=Ce(M);switch(y){case Tt:return x;case Ut:return h([x],{type:z});case xt:return new Int8Array(x);case St:return new Uint8Array(x);case Et:return new Uint8ClampedArray(x);case Kt:return new Int16Array(x);case yt:return new Uint16Array(x);case Be:return new Int32Array(x);case ln:return new Uint32Array(x);case ut:return new Float32Array(x);case Oe:return new Float64Array(x);default:throw new Error("Unkown type: "+y)}}var zt={serialize:cn,deserialize:ps,stringToBuffer:Ce,bufferToString:We};function yn(b,M,y,z){b.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],y,z)}function bi(b){var M=this,y={db:null};if(b)for(var z in b)y[z]=typeof b[z]!="string"?b[z].toString():b[z];var P=new u(function(x,F){try{y.db=openDatabase(y.name,String(y.version),y.description,y.size)}catch(K){return F(K)}y.db.transaction(function(K){yn(K,y,function(){M._dbInfo=y,x()},function(G,J){F(J)})},F)});return y.serializer=zt,P}function Mt(b,M,y,z,P,x){b.executeSql(y,z,P,function(F,K){K.code===K.SYNTAX_ERR?F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(G,J){J.rows.length?x(G,K):yn(G,M,function(){G.executeSql(y,z,P,x)},x)},x):x(F,K)},x)}function Hn(b,M){var y=this;b=m(b);var z=new u(function(P,x){y.ready().then(function(){var F=y._dbInfo;F.db.transaction(function(K){Mt(K,F,"SELECT * FROM "+F.storeName+" WHERE key = ? LIMIT 1",[b],function(G,J){var X=J.rows.length?J.rows.item(0).value:null;X&&(X=F.serializer.deserialize(X)),P(X)},function(G,J){x(J)})})}).catch(x)});return d(z,M),z}function vi(b,M){var y=this,z=new u(function(P,x){y.ready().then(function(){var F=y._dbInfo;F.db.transaction(function(K){Mt(K,F,"SELECT * FROM "+F.storeName,[],function(G,J){for(var X=J.rows,ne=X.length,ge=0;ge<ne;ge++){var Te=X.item(ge),Se=Te.value;if(Se&&(Se=F.serializer.deserialize(Se)),Se=b(Se,Te.key,ge+1),Se!==void 0){P(Se);return}}P()},function(G,J){x(J)})})}).catch(x)});return d(z,M),z}function yi(b,M,y,z){var P=this;b=m(b);var x=new u(function(F,K){P.ready().then(function(){M===void 0&&(M=null);var G=M,J=P._dbInfo;J.serializer.serialize(M,function(X,ne){ne?K(ne):J.db.transaction(function(ge){Mt(ge,J,"INSERT OR REPLACE INTO "+J.storeName+" (key, value) VALUES (?, ?)",[b,X],function(){F(G)},function(Te,Se){K(Se)})},function(ge){if(ge.code===ge.QUOTA_ERR){if(z>0){F(yi.apply(P,[b,G,y,z-1]));return}K(ge)}})})}).catch(K)});return d(x,y),x}function $n(b,M,y){return yi.apply(this,[b,M,y,1])}function wi(b,M){var y=this;b=m(b);var z=new u(function(P,x){y.ready().then(function(){var F=y._dbInfo;F.db.transaction(function(K){Mt(K,F,"DELETE FROM "+F.storeName+" WHERE key = ?",[b],function(){P()},function(G,J){x(J)})})}).catch(x)});return d(z,M),z}function gs(b){var M=this,y=new u(function(z,P){M.ready().then(function(){var x=M._dbInfo;x.db.transaction(function(F){Mt(F,x,"DELETE FROM "+x.storeName,[],function(){z()},function(K,G){P(G)})})}).catch(P)});return d(y,b),y}function Gt(b){var M=this,y=new u(function(z,P){M.ready().then(function(){var x=M._dbInfo;x.db.transaction(function(F){Mt(F,x,"SELECT COUNT(key) as c FROM "+x.storeName,[],function(K,G){var J=G.rows.item(0).c;z(J)},function(K,G){P(G)})})}).catch(P)});return d(y,b),y}function Un(b,M){var y=this,z=new u(function(P,x){y.ready().then(function(){var F=y._dbInfo;F.db.transaction(function(K){Mt(K,F,"SELECT key FROM "+F.storeName+" WHERE id = ? LIMIT 1",[b+1],function(G,J){var X=J.rows.length?J.rows.item(0).key:null;P(X)},function(G,J){x(J)})})}).catch(x)});return d(z,M),z}function ji(b){var M=this,y=new u(function(z,P){M.ready().then(function(){var x=M._dbInfo;x.db.transaction(function(F){Mt(F,x,"SELECT key FROM "+x.storeName,[],function(K,G){for(var J=[],X=0;X<G.rows.length;X++)J.push(G.rows.item(X).key);z(J)},function(K,G){P(G)})})}).catch(P)});return d(y,b),y}function _s(b){return new u(function(M,y){b.transaction(function(z){z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,x){for(var F=[],K=0;K<x.rows.length;K++)F.push(x.rows.item(K).name);M({db:b,storeNames:F})},function(P,x){y(x)})},function(z){y(z)})})}function Kn(b,M){M=p.apply(this,arguments);var y=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||y.name,b.storeName=b.storeName||y.storeName);var z=this,P;return b.name?P=new u(function(x){var F;b.name===y.name?F=z._dbInfo.db:F=openDatabase(b.name,"","",0),b.storeName?x({db:F,storeNames:[b.storeName]}):x(_s(F))}).then(function(x){return new u(function(F,K){x.db.transaction(function(G){function J(Te){return new u(function(Se,Ze){G.executeSql("DROP TABLE IF EXISTS "+Te,[],function(){Se()},function(Ge,wt){Ze(wt)})})}for(var X=[],ne=0,ge=x.storeNames.length;ne<ge;ne++)X.push(J(x.storeNames[ne]));u.all(X).then(function(){F()}).catch(function(Te){K(Te)})},function(G){K(G)})})}):P=u.reject("Invalid arguments"),d(P,M),P}var Ti={_driver:"webSQLStorage",_initStorage:bi,_support:Ot(),iterate:vi,getItem:Hn,setItem:$n,removeItem:wi,clear:gs,length:Gt,key:Un,keys:ji,dropInstance:Kn};function ks(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function wn(b,M){var y=b.name+"/";return b.storeName!==M.storeName&&(y+=b.storeName+"/"),y}function xi(){var b="_localforage_support_test";try{return localStorage.setItem(b,!0),localStorage.removeItem(b),!1}catch{return!0}}function bs(){return!xi()||localStorage.length>0}function jn(b){var M=this,y={};if(b)for(var z in b)y[z]=b[z];return y.keyPrefix=wn(b,M._defaultConfig),bs()?(M._dbInfo=y,y.serializer=zt,u.resolve()):u.reject()}function Gn(b){var M=this,y=M.ready().then(function(){for(var z=M._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var x=localStorage.key(P);x.indexOf(z)===0&&localStorage.removeItem(x)}});return d(y,b),y}function Si(b,M){var y=this;b=m(b);var z=y.ready().then(function(){var P=y._dbInfo,x=localStorage.getItem(P.keyPrefix+b);return x&&(x=P.serializer.deserialize(x)),x});return d(z,M),z}function vs(b,M){var y=this,z=y.ready().then(function(){for(var P=y._dbInfo,x=P.keyPrefix,F=x.length,K=localStorage.length,G=1,J=0;J<K;J++){var X=localStorage.key(J);if(X.indexOf(x)===0){var ne=localStorage.getItem(X);if(ne&&(ne=P.serializer.deserialize(ne)),ne=b(ne,X.substring(F),G++),ne!==void 0)return ne}}});return d(z,M),z}function Yn(b,M){var y=this,z=y.ready().then(function(){var P=y._dbInfo,x;try{x=localStorage.key(b)}catch{x=null}return x&&(x=x.substring(P.keyPrefix.length)),x});return d(z,M),z}function zi(b){var M=this,y=M.ready().then(function(){for(var z=M._dbInfo,P=localStorage.length,x=[],F=0;F<P;F++){var K=localStorage.key(F);K.indexOf(z.keyPrefix)===0&&x.push(K.substring(z.keyPrefix.length))}return x});return d(y,b),y}function ys(b){var M=this,y=M.keys().then(function(z){return z.length});return d(y,b),y}function Tn(b,M){var y=this;b=m(b);var z=y.ready().then(function(){var P=y._dbInfo;localStorage.removeItem(P.keyPrefix+b)});return d(z,M),z}function Jn(b,M,y){var z=this;b=m(b);var P=z.ready().then(function(){M===void 0&&(M=null);var x=M;return new u(function(F,K){var G=z._dbInfo;G.serializer.serialize(M,function(J,X){if(X)K(X);else try{localStorage.setItem(G.keyPrefix+b,J),F(x)}catch(ne){(ne.name==="QuotaExceededError"||ne.name==="NS_ERROR_DOM_QUOTA_REACHED")&&K(ne),K(ne)}})})});return d(P,y),P}function Mi(b,M){if(M=p.apply(this,arguments),b=typeof b!="function"&&b||{},!b.name){var y=this.config();b.name=b.name||y.name,b.storeName=b.storeName||y.storeName}var z=this,P;return b.name?P=new u(function(x){b.storeName?x(wn(b,z._defaultConfig)):x(b.name+"/")}).then(function(x){for(var F=localStorage.length-1;F>=0;F--){var K=localStorage.key(F);K.indexOf(x)===0&&localStorage.removeItem(K)}}):P=u.reject("Invalid arguments"),d(P,M),P}var ws={_driver:"localStorageWrapper",_initStorage:jn,_support:ks(),iterate:vs,getItem:Si,setItem:Jn,removeItem:Tn,clear:Gn,length:ys,key:Yn,keys:zi,dropInstance:Mi},Xn=function(M,y){return M===y||typeof M=="number"&&typeof y=="number"&&isNaN(M)&&isNaN(y)},Ii=function(M,y){for(var z=M.length,P=0;P<z;){if(Xn(M[P],y))return!0;P++}return!1},Wi=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},It={},xn={},Rt={INDEXEDDB:$t,WEBSQL:Ti,LOCALSTORAGE:ws},js=[Rt.INDEXEDDB._driver,Rt.WEBSQL._driver,Rt.LOCALSTORAGE._driver],Zn=["dropInstance"],Qn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Zn),Ts={description:"",driver:js.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function xs(b,M){b[M]=function(){var y=arguments;return b.ready().then(function(){return b[M].apply(b,y)})}}function Lt(){for(var b=1;b<arguments.length;b++){var M=arguments[b];if(M)for(var y in M)M.hasOwnProperty(y)&&(Wi(M[y])?arguments[0][y]=M[y].slice():arguments[0][y]=M[y])}return arguments[0]}var ei=function(){function b(M){o(this,b);for(var y in Rt)if(Rt.hasOwnProperty(y)){var z=Rt[y],P=z._driver;this[y]=P,It[P]||this.defineDriver(z)}this._defaultConfig=Lt({},Ts),this._config=Lt({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(y){if((typeof y>"u"?"undefined":a(y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var z in y){if(z==="storeName"&&(y[z]=y[z].replace(/\W/g,"_")),z==="version"&&typeof y[z]!="number")return new Error("Database version must be a number.");this._config[z]=y[z]}return"driver"in y&&y.driver?this.setDriver(this._config.driver):!0}else return typeof y=="string"?this._config[y]:this._config},b.prototype.defineDriver=function(y,z,P){var x=new u(function(F,K){try{var G=y._driver,J=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!y._driver){K(J);return}for(var X=Qn.concat("_initStorage"),ne=0,ge=X.length;ne<ge;ne++){var Te=X[ne],Se=!Ii(Zn,Te);if((Se||y[Te])&&typeof y[Te]!="function"){K(J);return}}var Ze=function(){for(var Pi=function(Qh){return function(){var eu=new Error("Method "+Qh+" is not implemented by the current driver"),Ko=u.reject(eu);return d(Ko,arguments[arguments.length-1]),Ko}},Ma=0,Zh=Zn.length;Ma<Zh;Ma++){var Ia=Zn[Ma];y[Ia]||(y[Ia]=Pi(Ia))}};Ze();var Ge=function(Pi){It[G]&&console.info("Redefining LocalForage driver: "+G),It[G]=y,xn[G]=Pi,F()};"_support"in y?y._support&&typeof y._support=="function"?y._support().then(Ge,K):Ge(!!y._support):Ge(!0)}catch(wt){K(wt)}});return f(x,z,P),x},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(y,z,P){var x=It[y]?u.resolve(It[y]):u.reject(new Error("Driver not found."));return f(x,z,P),x},b.prototype.getSerializer=function(y){var z=u.resolve(zt);return f(z,y),z},b.prototype.ready=function(y){var z=this,P=z._driverSet.then(function(){return z._ready===null&&(z._ready=z._initDriver()),z._ready});return f(P,y,y),P},b.prototype.setDriver=function(y,z,P){var x=this;Wi(y)||(y=[y]);var F=this._getSupportedDrivers(y);function K(){x._config.driver=x.driver()}function G(ne){return x._extend(ne),K(),x._ready=x._initStorage(x._config),x._ready}function J(ne){return function(){var ge=0;function Te(){for(;ge<ne.length;){var Se=ne[ge];return ge++,x._dbInfo=null,x._ready=null,x.getDriver(Se).then(G).catch(Te)}K();var Ze=new Error("No available storage method found.");return x._driverSet=u.reject(Ze),x._driverSet}return Te()}}var X=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=X.then(function(){var ne=F[0];return x._dbInfo=null,x._ready=null,x.getDriver(ne).then(function(ge){x._driver=ge._driver,K(),x._wrapLibraryMethodsWithReady(),x._initDriver=J(F)})}).catch(function(){K();var ne=new Error("No available storage method found.");return x._driverSet=u.reject(ne),x._driverSet}),f(this._driverSet,z,P),this._driverSet},b.prototype.supports=function(y){return!!xn[y]},b.prototype._extend=function(y){Lt(this,y)},b.prototype._getSupportedDrivers=function(y){for(var z=[],P=0,x=y.length;P<x;P++){var F=y[P];this.supports(F)&&z.push(F)}return z},b.prototype._wrapLibraryMethodsWithReady=function(){for(var y=0,z=Qn.length;y<z;y++)xs(this,Qn[y])},b.prototype.createInstance=function(y){return new b(y)},b}(),ti=new ei;i.exports=ti},{3:3}]},{},[4])(4)})})(Nc);var yu=Nc.exports;const Xo=vu(yu);function Nn(n,e){const{subscribe:t,set:i,update:s}=_i(e);return Xo.getItem(n).then(a=>{a!=null?Array.isArray(e)?i(Array.isArray(a)?a:e):i(typeof e=="object"&&e!==null&&typeof a=="object"&&a!==null?{...e,...a}:a):i(e)}).catch(a=>{console.error(`Error reading from IndexedDB for key ${n}:`,a)}),t(a=>{Xo.setItem(n,a).catch(o=>{console.error(`Error writing to IndexedDB for key ${n}:`,o)})}),{subscribe:t,set:i,update:s}}const Ht=Nn("kanjiGo_language","en"),an=Nn("kanjiGo_masteryProgress",{hiragana:[],katakana:[],vocabulary:[],kanji:[]}),ui=Nn("kanjiGo_theme","system"),rn=Nn("kanjiGo_gamificationProgress",{currentStreak:0,longestStreak:0,lastStudyDate:null,totalPoints:0,totalStudyTime:0,dailyStudyTime:{},sessionStartTime:null}),Pa=Nn("kanjiGo_notes",[]),Ja=Nn("kanjiGo_furiganaVisibility",!0),di=Nn("kanjiGo_selectedInterests",[]),sa=_i({}),aa=_i("en"),oa=_i(!1);async function wu(){const n=ht(Ht);await qc(n),aa.set(n),oa.set(!0)}async function qc(n){try{const e=await fetch(`./locales/${n}.json`);if(!e.ok)throw new Error(`Could not load translations for ${n}`);const t=await e.json();sa.set(t)}catch(e){console.error("Error loading translations:",e);const i=await(await fetch("./locales/en.json")).json();sa.set(i),Ht.set("en"),aa.set("en")}}const Ee=Ks(sa,n=>e=>n[e]||`MISSING_TRANSLATION_${e}`);Ht.subscribe(async n=>{n&&ht(aa)!==n&&(oa.set(!1),await qc(n),aa.set(n),oa.set(!0))});function Zo(n,e,t){const i=n.slice();return i[8]=e[t],i}function Qo(n,e){let t,i,s=e[8].kana+"",a,o,r,l=e[8].romaji+"",c,h,u,d;function f(){return e[5](e[8])}function m(...p){return e[6](e[8],...p)}return{key:n,first:null,c(){t=j("div"),i=j("span"),a=W(s),o=D(),r=j("span"),c=W(l),h=D(),v(i,"class","kana-char svelte-1yxdd93"),v(r,"class","romaji svelte-1yxdd93"),v(t,"class","kana-item svelte-1yxdd93"),v(t,"role","button"),v(t,"tabindex","0"),be(t,"mastered",e[2].includes(e[8].id)),this.first=t},m(p,_){L(p,t,_),g(t,i),g(i,a),g(t,o),g(t,r),g(r,c),g(t,h),u||(d=[te(t,"click",f),te(t,"keydown",m)],u=!0)},p(p,_){e=p,_&1&&s!==(s=e[8].kana+"")&&O(a,s),_&1&&l!==(l=e[8].romaji+"")&&O(c,l),_&5&&be(t,"mastered",e[2].includes(e[8].id))},d(p){p&&R(t),u=!1,Je(d)}}}function ju(n){let e,t,i=(n[1]==="hiragana"?n[3]("hiragana_chart"):n[3]("katakana_chart"))+"",s,a,o,r=[],l=new Map,c=ue(n[0]);const h=u=>u[8].id;for(let u=0;u<c.length;u+=1){let d=Zo(n,c,u),f=h(d);l.set(f,r[u]=Qo(f,d))}return{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("div");for(let u=0;u<r.length;u+=1)r[u].c();v(o,"class","grid svelte-1yxdd93"),v(e,"class","kana-chart svelte-1yxdd93")},m(u,d){L(u,e,d),g(e,t),g(t,s),g(e,a),g(e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,null)},p(u,[d]){d&10&&i!==(i=(u[1]==="hiragana"?u[3]("hiragana_chart"):u[3]("katakana_chart"))+"")&&O(s,i),d&21&&(c=ue(u[0]),r=hs(r,d,h,1,u,c,l,o,cs,Qo,null,Zo))},i:oe,o:oe,d(u){u&&R(e);for(let d=0;d<r.length;d+=1)r[d].d()}}}function Tu(n,e,t){let{kanaData:i=[]}=e,{type:s=""}=e,{masteredIds:a=[]}=e,{t:o}=e;const r=ls();function l(u){r("selectKana",u)}const c=u=>l(u),h=(u,d)=>{(d.key==="Enter"||d.key===" ")&&l(u)};return n.$$set=u=>{"kanaData"in u&&t(0,i=u.kanaData),"type"in u&&t(1,s=u.type),"masteredIds"in u&&t(2,a=u.masteredIds),"t"in u&&t(3,o=u.t)},[i,s,a,o,l,c,h]}class er extends Ke{constructor(e){super(),Ue(this,e,Tu,ju,Ve,{kanaData:0,type:1,masteredIds:2,t:3})}}const Xa=[{id:"k_one",kanji:"一",onyomi:["ichi"],kunyomi:["hito(tsu)"],meaning:"One",examples:["v_one"],strokeOrderImg:"/assets/kanji/ichi_stroke.svg"},{id:"k_two",kanji:"二",onyomi:["ni"],kunyomi:["futa(tsu)"],meaning:"Two",examples:["v_two"],strokeOrderImg:"/assets/kanji/ni_stroke.svg"},{id:"k_three",kanji:"三",onyomi:["san"],kunyomi:["mi(ttsu)"],meaning:"Three",examples:["v_three"],strokeOrderImg:"/assets/kanji/san_stroke.svg"},{id:"k_four",kanji:"四",onyomi:["shi"],kunyomi:["yo(ttsu)"],meaning:"Four",examples:["v_four"],strokeOrderImg:"/assets/kanji/yon_stroke.svg"},{id:"k_five",kanji:"五",onyomi:["go"],kunyomi:["itsu(tsu)"],meaning:"Five",examples:["v_five"],strokeOrderImg:"/assets/kanji/go_stroke.svg"},{id:"k_six",kanji:"六",onyomi:["roku"],kunyomi:["mu(ttsu)"],meaning:"Six",examples:["v_six"],strokeOrderImg:"/assets/kanji/roku_stroke.svg"},{id:"k_seven",kanji:"七",onyomi:["shichi"],kunyomi:["nana(tsu)"],meaning:"Seven",examples:["v_seven"],strokeOrderImg:"/assets/kanji/nana_stroke.svg"},{id:"k_eight",kanji:"八",onyomi:["hachi"],kunyomi:["ya(ttsu)"],meaning:"Eight",examples:["v_eight"],strokeOrderImg:"/assets/kanji/hachi_stroke.svg"},{id:"k_nine",kanji:"九",onyomi:["kyuu","ku"],kunyomi:["koko(no)"],meaning:"Nine",examples:["v_nine"],strokeOrderImg:"/assets/kanji/kyuu_stroke.svg"},{id:"k_ten",kanji:"十",onyomi:["juu"],kunyomi:["too"],meaning:"Ten",examples:["v_ten"],strokeOrderImg:"/assets/kanji/juu_stroke.svg"},{id:"k_hundred",kanji:"百",onyomi:["hyaku"],kunyomi:[],meaning:"Hundred",examples:["v_hyaku"],strokeOrderImg:"/assets/kanji/hyaku_stroke.svg"},{id:"k_thousand",kanji:"千",onyomi:["sen"],kunyomi:[],meaning:"Thousand",examples:["v_sen"],strokeOrderImg:"/assets/kanji/sen_stroke.svg"},{id:"k_moon",kanji:"月",onyomi:["getsu"],kunyomi:["tsuki"],meaning:"Moon, Month",examples:["v_rai_getsu"],strokeOrderImg:"/assets/kanji/tsuki_stroke.svg"},{id:"k_fire",kanji:"火",onyomi:["ka"],kunyomi:["hi"],meaning:"Fire",examples:[],strokeOrderImg:"/assets/kanji/hi_stroke.svg"},{id:"k_water",kanji:"水",onyomi:["sui"],kunyomi:["mizu"],meaning:"Water",examples:["v_mizu"],strokeOrderImg:"/assets/kanji/mizu_stroke.svg"},{id:"k_tree",kanji:"木",onyomi:["moku"],kunyomi:["ki"],meaning:"Tree, Wood",examples:[],strokeOrderImg:"/assets/kanji/ki_stroke.svg"},{id:"k_gold",kanji:"金",onyomi:["kin"],kunyomi:["kane"],meaning:"Gold, Money, Metal",examples:[],strokeOrderImg:"/assets/kanji/kane_stroke.svg"},{id:"k_earth",kanji:"土",onyomi:["do"],kunyomi:["tsuchi"],meaning:"Earth, Soil",examples:[],strokeOrderImg:"/assets/kanji/tsuchi_stroke.svg"},{id:"k_day",kanji:"日",onyomi:["nichi"],kunyomi:["hi"],meaning:"Day, Sun",examples:[],strokeOrderImg:"/assets/kanji/hi_day_stroke.svg"},{id:"k_year",kanji:"年",onyomi:["nen"],kunyomi:["toshi"],meaning:"Year",examples:[],strokeOrderImg:"/assets/kanji/toshi_stroke.svg"},{id:"k_time",kanji:"時",onyomi:["ji"],kunyomi:["toki"],meaning:"Time, Hour",examples:[],strokeOrderImg:"/assets/kanji/toki_stroke.svg"},{id:"k_man",kanji:"男",onyomi:["dan"],kunyomi:["otoko"],meaning:"Man",examples:["v_otoko","v_otoko_no_ko"],strokeOrderImg:"/assets/kanji/otoko_stroke.svg"},{id:"k_woman",kanji:"女",onyomi:["jo"],kunyomi:["onna"],meaning:"Woman",examples:["v_onna","v_onna_no_ko"],strokeOrderImg:"/assets/kanji/onna_stroke.svg"},{id:"k_child",kanji:"子",onyomi:["shi"],kunyomi:["ko"],meaning:"Child",examples:["v_kodomo","v_kodomo_tachi"],strokeOrderImg:"/assets/kanji/ko_stroke.svg"},{id:"k_person",kanji:"人",onyomi:["nin","jin"],kunyomi:["hito"],meaning:"Person",examples:["v_nihon_jin","v_gai_jin"],strokeOrderImg:"/assets/kanji/hito_stroke.svg"},{id:"k_hand",kanji:"手",onyomi:["shu"],kunyomi:["te"],meaning:"Hand",examples:["v_hidari_te","v_migi_te"],strokeOrderImg:"/assets/kanji/te_stroke.svg"},{id:"k_ear",kanji:"耳",onyomi:["ji"],kunyomi:["mimi"],meaning:"Ear",examples:["v_mimi_tubu"],strokeOrderImg:"/assets/kanji/mimi_stroke.svg"},{id:"k_mouth",kanji:"口",onyomi:["kō"],kunyomi:["kuchi"],meaning:"Mouth",examples:["v_kuchi_biru"],strokeOrderImg:"/assets/kanji/kuchi_stroke.svg"},{id:"k_eye",kanji:"目",onyomi:["moku"],kunyomi:["me"],meaning:"Eye",examples:["v_me_dama"],strokeOrderImg:"/assets/kanji/me_stroke.svg"},{id:"k_foot",kanji:"足",onyomi:["soku"],kunyomi:["ashi"],meaning:"Foot, Leg",examples:["v_ashi_kubi"],strokeOrderImg:"/assets/kanji/ashi_stroke.svg"},{id:"k_heart",kanji:"心",onyomi:["shin"],kunyomi:["kokoro"],meaning:"Heart",examples:["v_kokoro_gokoro"],strokeOrderImg:"/assets/kanji/kokoro_stroke.svg"},{id:"k_sky",kanji:"空",onyomi:["kū"],kunyomi:["sora"],meaning:"Sky, Air",examples:["v_sora","v_sora_tobi"],strokeOrderImg:"/assets/kanji/sora_stroke.svg"},{id:"k_heaven",kanji:"天",onyomi:["ten"],kunyomi:[],meaning:"Heaven",examples:["v_ten_goku"],strokeOrderImg:"/assets/kanji/ten_stroke.svg"},{id:"k_mountain",kanji:"山",onyomi:["san"],kunyomi:["yama"],meaning:"Mountain",examples:["v_yama","v_yama_kawa"],strokeOrderImg:"/assets/kanji/yama_stroke.svg"},{id:"k_rain",kanji:"雨",onyomi:[],kunyomi:["ame"],meaning:"Rain",examples:["v_oo_ame"],strokeOrderImg:"/assets/kanji/ame_stroke.svg"},{id:"k_dog",kanji:"犬",onyomi:["ken"],kunyomi:["inu"],meaning:"Dog",examples:["v_inu","v_ko_inu"],strokeOrderImg:"/assets/kanji/inu_stroke.svg"},{id:"k_bug",kanji:"虫",onyomi:["chū"],kunyomi:["mushi"],meaning:"Bug",examples:["v_kon_chuu"],strokeOrderImg:"/assets/kanji/mushi_stroke.svg"},{id:"k_me",kanji:"私",onyomi:["shi"],kunyomi:["watashi"],meaning:"Me, Private",examples:["v_watashi_tachi"],strokeOrderImg:"/assets/kanji/watashi_stroke.svg"},{id:"k_go",kanji:"行",onyomi:["kō","gyō"],kunyomi:["i(ku)"],meaning:"Go, Conduct",examples:["v_ikimasu","v_ryo_kou"],strokeOrderImg:"/assets/kanji/iku_stroke.svg"},{id:"k_come",kanji:"来",onyomi:["rai"],kunyomi:["ku(ru)","ki(masu)"],meaning:"Come, Next",examples:["v_kimasu"],strokeOrderImg:"/assets/kanji/kuru_stroke.svg"},{id:"k_book",kanji:"本",onyomi:["hon"],kunyomi:["moto"],meaning:"Book, Origin, True",examples:["v_hon_o_yomu","v_hon_ya"],strokeOrderImg:"/assets/kanji/hon_stroke.svg"},{id:"k_spirit",kanji:"気",onyomi:["ki"],kunyomi:[],meaning:"Spirit, Mind, Air, Atmosphere",examples:["v_genki","v_gen_ki"],strokeOrderImg:"/assets/kanji/ki_spirit_stroke.svg"},{id:"k_country",kanji:"国",onyomi:["koku"],kunyomi:["kuni"],meaning:"Country",examples:["v_gai_koku"],strokeOrderImg:"/assets/kanji/kuni_stroke.svg"},{id:"k_meet",kanji:"会",onyomi:["kai"],kunyomi:["a(u)"],meaning:"Meet, Association",examples:["v_au","v_kai_sha"],strokeOrderImg:"/assets/kanji/au_stroke.svg"},{id:"k_house",kanji:"家",onyomi:["ka"],kunyomi:["ie"],meaning:"House, Family",examples:["v_ie_ji"],strokeOrderImg:"/assets/kanji/ie_stroke.svg"},{id:"k_front",kanji:"前",onyomi:["zen"],kunyomi:["mae"],meaning:"Before, Front",examples:["v_mae_mae"],strokeOrderImg:"/assets/kanji/mae_stroke.svg"},{id:"k_target",kanji:"的",onyomi:["teki"],kunyomi:[],meaning:"Target, -like",examples:["v_moku_teki"],strokeOrderImg:"/assets/kanji/teki_stroke.svg"},{id:"k_direction",kanji:"方",onyomi:["hō"],kunyomi:["kata"],meaning:"Direction, Person",examples:["v_hou_hou"],strokeOrderImg:"/assets/kanji/kata_stroke.svg"},{id:"k_enter",kanji:"入",onyomi:["nyū"],kunyomi:["i(ru)"],meaning:"Enter, Insert",examples:["v_hairu","v_nyuu_gaku"],strokeOrderImg:"/assets/kanji/iru_stroke.svg"},{id:"k_small",kanji:"小",onyomi:["shō"],kunyomi:["chii(sai)"],meaning:"Small",examples:["v_chiisai","v_shou_gakkou"],strokeOrderImg:"/assets/kanji/chiisai_stroke.svg"},{id:"k_ground",kanji:"地",onyomi:["chi","ji"],kunyomi:[],meaning:"Ground, Earth",examples:["v_chi_hyou"],strokeOrderImg:"/assets/kanji/chi_stroke.svg"},{id:"k_fit",kanji:"合",onyomi:["gō"],kunyomi:["a(u)"],meaning:"Fit, Join",examples:["v_ba_ai"],strokeOrderImg:"/assets/kanji/au_fit_stroke.svg"},{id:"k_after",kanji:"後",onyomi:["go"],kunyomi:["ato"],meaning:"After, Behind",examples:["v_go_go"],strokeOrderImg:"/assets/kanji/ato_stroke.svg"},{id:"k_stand",kanji:"立",onyomi:["ritsu"],kunyomi:["ta(tsu)"],meaning:"Stand, Establish",examples:["v_tatsu","v_tachi_ba"],strokeOrderImg:"/assets/kanji/tatsu_stroke.svg"},{id:"k_part",kanji:"部",onyomi:["bu"],kunyomi:[],meaning:"Part, Section",examples:["v_bu_bun"],strokeOrderImg:"/assets/kanji/bu_stroke.svg"},{id:"k_study",kanji:"学",onyomi:["gaku"],kunyomi:["mana(bu)"],meaning:"Study, Learning",examples:["v_benkyou_suru","v_gaku_sei"],strokeOrderImg:"/assets/kanji/manabu_stroke.svg"},{id:"k_thing",kanji:"物",onyomi:["butsu"],kunyomi:["mono"],meaning:"Thing, Object",examples:["v_mono_goto"],strokeOrderImg:"/assets/kanji/mono_stroke.svg"},{id:"k_rice_field",kanji:"田",onyomi:["den"],kunyomi:["ta"],meaning:"Rice Field",examples:["v_ta_ue"],strokeOrderImg:"/assets/kanji/ta_stroke.svg"},{id:"k_long",kanji:"長",onyomi:["chō"],kunyomi:["naga(i)"],meaning:"Long, Leader",examples:["v_chou_jo"],strokeOrderImg:"/assets/kanji/nagai_stroke.svg"},{id:"k_place",kanji:"場",onyomi:["jō"],kunyomi:["ba"],meaning:"Place, Scene",examples:["v_ichiba"],strokeOrderImg:"/assets/kanji/ba_stroke.svg"},{id:"k_substitute",kanji:"代",onyomi:["dai"],kunyomi:["kawari"],meaning:"Substitute, Generation",examples:["v_dai_hyou"],strokeOrderImg:"/assets/kanji/kawari_stroke.svg"},{id:"k_down",kanji:"下",onyomi:["ka"],kunyomi:["shita"],meaning:"Down, Below",examples:["v_shita_gaki"],strokeOrderImg:"/assets/kanji/shita_stroke.svg"}],fi=[{id:"v_konnichiwa",kana:"こんにちは",romaji:"konnichiwa",en:"Hello","zh-TW":"你好",themes:["greetings","daily_life"]},{id:"v_arigato",kana:"ありがとう",romaji:"arigato",en:"Thank you","zh-TW":"謝謝",themes:["greetings","daily_life"]},{id:"v_ohayo",kana:"おはよう",romaji:"ohayou",en:"Good morning","zh-TW":"早安",themes:["greetings","daily_life"]},{id:"v_konbanwa",kana:"こんばんは",romaji:"konbanwa",en:"Good evening","zh-TW":"晚安",themes:["greetings","daily_life"]},{id:"v_oyasumi",kana:"おやすみ",romaji:"oyasumi",en:"Good night","zh-TW":"晚安",themes:["greetings","daily_life"]},{id:"v_sayonara",kana:"さようなら",romaji:"sayounara",en:"Goodbye","zh-TW":"再見",themes:["greetings","daily_life"]},{id:"v_sumimasen",kana:"すみません",romaji:"sumimasen",en:"Excuse me / Sorry","zh-TW":"不好意思 / 抱歉",themes:["greetings","daily_life"]},{id:"v_gomenasai",kana:"ごめんなさい",romaji:"gomen nasai",en:"I'm sorry","zh-TW":"對不起",themes:["greetings","daily_life"]},{id:"v_onegai",kana:"おねがいします",romaji:"onegai shimasu",en:"Please / I beg of you","zh-TW":"拜託了",themes:["greetings","daily_life"]},{id:"v_hai",kana:"はい",romaji:"hai",en:"Yes","zh-TW":"是",themes:["basic"]},{id:"v_iie",kana:"いいえ",romaji:"iie",en:"No","zh-TW":"不",themes:["basic"]},{id:"v_wakarimasu",kana:"わかります",romaji:"wakarimasu",en:"I understand","zh-TW":"我懂了",themes:["basic"]},{id:"v_wakarimasen",kana:"わかりません",romaji:"wakarimasen",en:"I don't understand","zh-TW":"我不懂",themes:["basic"]},{id:"v_nihongo",kana:"にほんご",romaji:"nihongo",en:"Japanese language","zh-TW":"日語",themes:["language"]},{id:"v_eigo",kana:"えいご",romaji:"eigo",en:"English language","zh-TW":"英語",themes:["language"]},{id:"v_namae",kana:"なまえ",romaji:"namae",en:"Name","zh-TW":"名字",themes:["basic"]},{id:"v_oishii",kana:"おいしい",romaji:"oishii",en:"Delicious","zh-TW":"好吃",themes:["food"]},{id:"v_genki",kana:"げんき",romaji:"genki",en:"Healthy / Energetic","zh-TW":"健康 / 有精神",themes:["adjectives"]},{id:"v_kawaii",kana:"かわいい",romaji:"kawaii",en:"Cute","zh-TW":"可愛",themes:["adjectives"]},{id:"v_sugoi",kana:"すごい",romaji:"sugoi",en:"Amazing / Great","zh-TW":"厲害 / 棒",themes:["adjectives"]},{id:"v_ichigo",kana:"いちご",romaji:"ichigo",en:"Strawberry","zh-TW":"草莓",themes:["fruit"]},{id:"v_ringo",kana:"りんご",romaji:"ringo",en:"Apple","zh-TW":"蘋果",themes:["fruit"]},{id:"v_mikan",kana:"みかん",romaji:"mikan",en:"Mandarin orange","zh-TW":"橘子",themes:["fruit"]},{id:"v_banana",kana:"バナナ",romaji:"banana",en:"Banana","zh-TW":"香蕉",themes:["fruit"]},{id:"v_mizu",kana:"みず",romaji:"mizu",en:"Water","zh-TW":"水",themes:["drinks"]},{id:"v_ocha",kana:"おちゃ",romaji:"ocha",en:"Tea","zh-TW":"茶",themes:["drinks"]},{id:"v_kohii",kana:"コーヒー",romaji:"koohii",en:"Coffee","zh-TW":"咖啡",themes:["drinks"]},{id:"v_gyunyu",kana:"ぎゅうにゅう",romaji:"gyuunyuu",en:"Milk","zh-TW":"牛奶",themes:["drinks"]},{id:"v_pan",kana:"パン",romaji:"pan",en:"Bread","zh-TW":"麵包",themes:["food"]},{id:"v_gohan",kana:"ごはん",romaji:"gohan",en:"Cooked rice / Meal","zh-TW":"米飯 / 餐點",themes:["food"]},{id:"v_niku",kana:"にく",romaji:"niku",en:"Meat","zh-TW":"肉",themes:["food"]},{id:"v_sakana",kana:"さかな",romaji:"sakana",en:"Fish","zh-TW":"魚",themes:["food"]},{id:"v_yasai",kana:"やさい",romaji:"yasai",en:"Vegetable","zh-TW":"蔬菜",themes:["food"]},{id:"v_kudamono",kana:"くだもの",romaji:"kudamono",en:"Fruit","zh-TW":"水果",themes:["food"]},{id:"v_tabemasu",kana:"たべます",romaji:"tabemasu",en:"To eat","zh-TW":"吃",themes:["verbs","food"]},{id:"v_nomimasu",kana:"のみます",romaji:"nomimasu",en:"To drink","zh-TW":"喝",themes:["verbs","drinks"]},{id:"v_ikimasu",kana:"いきます",romaji:"ikimasu",en:"To go","zh-TW":"去",themes:["verbs","movement"]},{id:"v_kimasu",kana:"きます",romaji:"kimasu",en:"To come","zh-TW":"來",themes:["verbs","movement"]},{id:"v_kaerimasu",kana:"かえります",romaji:"kaerimasu",en:"To return","zh-TW":"回家 / 返回",themes:["verbs","movement"]},{id:"v_mimasu",kana:"みます",romaji:"mimasu",en:"To see / To watch","zh-TW":"看",themes:["verbs"]},{id:"v_kikimasu",kana:"ききます",romaji:"kikimasu",en:"To listen / To ask","zh-TW":"聽 / 問",themes:["verbs"]},{id:"v_hanashimasu",kana:"はなします",romaji:"hanashimasu",en:"To speak","zh-TW":"說",themes:["verbs"]},{id:"v_yomimasu",kana:"よみます",romaji:"yomimasu",en:"To read","zh-TW":"讀",themes:["verbs"]},{id:"v_kakimasu",kana:"かきます",romaji:"kakimasu",en:"To write","zh-TW":"寫",themes:["verbs"]},{id:"v_kaimasu",kana:"かいます",romaji:"kaimasu",en:"To buy","zh-TW":"買",themes:["verbs","shopping"]},{id:"v_tsukaimasu",kana:"つかいます",romaji:"tsukaimasu",en:"To use","zh-TW":"使用",themes:["verbs"]},{id:"v_shimasu",kana:"します",romaji:"shimasu",en:"To do","zh-TW":"做",themes:["verbs"]},{id:"v_desu",kana:"です",romaji:"desu",en:"Is / Am / Are","zh-TW":"是",themes:["grammar"]},{id:"v_arimasu",kana:"あります",romaji:"arimasu",en:"To exist (inanimate)","zh-TW":"有 (無生命)",themes:["grammar"]},{id:"v_imasu",kana:"います",romaji:"imasu",en:"To exist (animate)","zh-TW":"有 (有生命)",themes:["grammar"]},{id:"v_ii_desu",kana:"いいです",romaji:"ii desu",en:"It's good / It's fine","zh-TW":"很好 / 沒關係",themes:["expressions"]},{id:"v_dame_desu",kana:"だめです",romaji:"dame desu",en:"It's no good / Don't","zh-TW":"不行 / 不可以",themes:["expressions"]},{id:"v_one",kana:"いち",romaji:"ichi",en:"One","zh-TW":"一",themes:["numbers"]},{id:"v_two",kana:"に",romaji:"ni",en:"Two","zh-TW":"二",themes:["numbers"]},{id:"v_three",kana:"さん",romaji:"san",en:"Three","zh-TW":"三",themes:["numbers"]},{id:"v_four",kana:"よん",romaji:"yon",en:"Four","zh-TW":"四",themes:["numbers"]},{id:"v_five",kana:"ご",romaji:"go",en:"Five","zh-TW":"五",themes:["numbers"]},{id:"v_six",kana:"ろく",romaji:"roku",en:"Six","zh-TW":"六",themes:["numbers"]},{id:"v_seven",kana:"なな",romaji:"nana",en:"Seven","zh-TW":"七",themes:["numbers"]},{id:"v_eight",kana:"はち",romaji:"hachi",en:"Eight","zh-TW":"八",themes:["numbers"]},{id:"v_nine",kana:"きゅう",romaji:"kyuu",en:"Nine","zh-TW":"九",themes:["numbers"]},{id:"v_ten",kana:"じゅう",romaji:"juu",en:"Ten","zh-TW":"十",themes:["numbers"]},{id:"v_hyaku",kana:"ひゃく",romaji:"hyaku",en:"Hundred","zh-TW":"百",themes:["numbers"]},{id:"v_sen",kana:"せん",romaji:"sen",en:"Thousand","zh-TW":"千",themes:["numbers"]},{id:"v_man",kana:"まん",romaji:"man",en:"Ten thousand","zh-TW":"萬",themes:["numbers"]},{id:"v_doko",kana:"どこ",romaji:"doko",en:"Where","zh-TW":"哪裡",themes:["questions"]},{id:"v_itsu",kana:"いつ",romaji:"itsu",en:"When","zh-TW":"何時",themes:["questions"]},{id:"v_dare",kana:"だれ",romaji:"dare",en:"Who","zh-TW":"誰",themes:["questions"]},{id:"v_nani",kana:"なに",romaji:"nani",en:"What","zh-TW":"什麼",themes:["questions"]},{id:"v_dore",kana:"どれ",romaji:"dore",en:"Which (of three or more)","zh-TW":"哪個 (三個或以上)",themes:["questions"]},{id:"v_donata",kana:"どなた",romaji:"donata",en:"Who (polite)","zh-TW":"哪位 (禮貌)",themes:["questions"]},{id:"v_ikura",kana:"いくら",romaji:"ikura",en:"How much","zh-TW":"多少錢",themes:["questions","shopping"]},{id:"v_doushite",kana:"どうして",romaji:"doushite",en:"Why","zh-TW":"為什麼",themes:["questions"]},{id:"v_douyatte",kana:"どうやって",romaji:"douyatte",en:"How","zh-TW":"如何",themes:["questions"]},{id:"v_kore",kana:"これ",romaji:"kore",en:"This (near speaker)","zh-TW":"這個 (靠近說話者)",themes:["demonstratives"]},{id:"v_sore",kana:"それ",romaji:"sore",en:"That (near listener)","zh-TW":"那個 (靠近聽者)",themes:["demonstratives"]},{id:"v_are",kana:"あれ",romaji:"are",en:"That (far from both)","zh-TW":"那個 (離雙方都遠)",themes:["demonstratives"]},{id:"v_koko",kana:"ここ",romaji:"koko",en:"Here","zh-TW":"這裡",themes:["places"]},{id:"v_soko",kana:"そこ",romaji:"soko",en:"There (near listener)","zh-TW":"那裡 (靠近聽者)",themes:["places"]},{id:"v_asoko",kana:"あそこ",romaji:"asoko",en:"Over there (far from both)","zh-TW":"那裡 (離雙方都遠)",themes:["places"]},{id:"v_kyou",kana:"きょう",romaji:"kyou",en:"Today","zh-TW":"今天",themes:["time"]},{id:"v_ashita",kana:"あした",romaji:"ashita",en:"Tomorrow","zh-TW":"明天",themes:["time"]},{id:"v_kinou",kana:"きのう",romaji:"kinou",en:"Yesterday","zh-TW":"昨天",themes:["time"]},{id:"v_mainichi",kana:"まいにち",romaji:"mainichi",en:"Every day","zh-TW":"每天",themes:["time"]},{id:"v_maiban",kana:"まいばん",romaji:"maiban",en:"Every night","zh-TW":"每晚",themes:["time"]},{id:"v_maiasa",kana:"まいあさ",romaji:"maiasa",en:"Every morning","zh-TW":"每天早上",themes:["time"]},{id:"v_shuumatsu",kana:"しゅうまつ",romaji:"shuumatsu",en:"Weekend","zh-TW":"週末",themes:["time"]},{id:"v_sensei",kana:"せんせい",romaji:"sensei",en:"Teacher","zh-TW":"老師",themes:["people"]},{id:"v_gakusei",kana:"がくせい",romaji:"gakusei",en:"Student","zh-TW":"學生",themes:["people"]},{id:"v_tomodachi",kana:"ともだち",romaji:"tomodachi",en:"Friend","zh-TW":"朋友",themes:["people"]},{id:"v_kazoku",kana:"かぞく",romaji:"kazoku",en:"Family","zh-TW":"家人",themes:["people"]},{id:"v_otoko",kana:"おとこ",romaji:"otoko",en:"Man","zh-TW":"男人",themes:["people"]},{id:"v_onna",kana:"おんな",romaji:"onna",en:"Woman","zh-TW":"女人",themes:["people"]},{id:"v_kodomo",kana:"こども",romaji:"kodomo",en:"Child","zh-TW":"小孩",themes:["people"]},{id:"v_inu",kana:"いぬ",romaji:"inu",en:"Dog","zh-TW":"狗",themes:["animals"]},{id:"v_neko",kana:"ねこ",romaji:"neko",en:"Cat","zh-TW":"貓",themes:["animals"]},{id:"v_sakura",kana:"さくら",romaji:"sakura",en:"Cherry blossom","zh-TW":"櫻花",themes:["nature"]},{id:"v_yama",kana:"やま",romaji:"yama",en:"Mountain","zh-TW":"山",themes:["nature"]},{id:"v_kawa",kana:"かわ",romaji:"kawa",en:"River","zh-TW":"河",themes:["nature"]},{id:"v_umi",kana:"うみ",romaji:"umi",en:"Sea / Ocean","zh-TW":"海",themes:["nature"]},{id:"v_sora",kana:"そら",romaji:"sora",en:"Sky","zh-TW":"天空",themes:["nature"]},{id:"v_tenki",kana:"てんき",romaji:"tenki",en:"Weather","zh-TW":"天氣",themes:["nature"]},{id:"v_haru",kana:"はる",romaji:"haru",en:"Spring","zh-TW":"春天",themes:["seasons"]},{id:"v_natsu",kana:"なつ",romaji:"natsu",en:"Summer","zh-TW":"夏天",themes:["seasons"]},{id:"v_aki",kana:"あき",romaji:"aki",en:"Autumn","zh-TW":"秋天",themes:["seasons"]},{id:"v_fuyu",kana:"ふゆ",romaji:"fuyu",en:"Winter","zh-TW":"冬天",themes:["seasons"]},{id:"v_atsui",kana:"あつい",romaji:"atsui",en:"Hot (weather/thing)","zh-TW":"熱 (天氣/物品)",themes:["adjectives","weather"]},{id:"v_samui",kana:"さむい",romaji:"samui",en:"Cold (weather)","zh-TW":"冷 (天氣)",themes:["adjectives","weather"]},{id:"v_tsumetai",kana:"つめたい",romaji:"tsumetai",en:"Cold (thing)","zh-TW":"冷 (物品)",themes:["adjectives"]},{id:"v_muzukashii",kana:"むずかしい",romaji:"muzukashii",en:"Difficult","zh-TW":"困難",themes:["adjectives"]},{id:"v_yasashii",kana:"やさしい",romaji:"yasashii",en:"Easy / Kind","zh-TW":"簡單 / 親切",themes:["adjectives"]},{id:"v_takai",kana:"たかい",romaji:"takai",en:"Expensive / Tall","zh-TW":"貴 / 高",themes:["adjectives"]},{id:"v_yasui",kana:"やすい",romaji:"yasui",en:"Cheap / Easy","zh-TW":"便宜 / 容易",themes:["adjectives"]},{id:"v_ookii",kana:"おおきい",romaji:"ookii",en:"Big","zh-TW":"大",themes:["adjectives"]},{id:"v_chiisai",kana:"ちいさい",romaji:"chiisai",en:"Small","zh-TW":"小",themes:["adjectives"]},{id:"v_atarashii",kana:"あたらしい",romaji:"atarashii",en:"New","zh-TW":"新",themes:["adjectives"]},{id:"v_furui",kana:"ふるい",romaji:"furui",en:"Old","zh-TW":"舊",themes:["adjectives"]},{id:"v_ii",kana:"いい",romaji:"ii",en:"Good","zh-TW":"好",themes:["adjectives"]},{id:"v_warui",kana:"わるい",romaji:"warui",en:"Bad","zh-TW":"壞",themes:["adjectives"]},{id:"v_omoshiroi",kana:"おもしろい",romaji:"omoshiroi",en:"Interesting","zh-TW":"有趣",themes:["adjectives"]},{id:"v_tsumaranai",kana:"つまらない",romaji:"tsumaranai",en:"Boring","zh-TW":"無聊",themes:["adjectives"]},{id:"v_ureshii",kana:"うれしい",romaji:"ureshii",en:"Happy","zh-TW":"開心",themes:["emotions"]},{id:"v_kanashii",kana:"かなしい",romaji:"kanashii",en:"Sad","zh-TW":"悲傷",themes:["emotions"]},{id:"v_okoru",kana:"おこる",romaji:"okoru",en:"To get angry","zh-TW":"生氣",themes:["verbs","emotions"]},{id:"v_neru",kana:"ねる",romaji:"neru",en:"To sleep","zh-TW":"睡覺",themes:["verbs","daily_life"]},{id:"v_okiru",kana:"おきる",romaji:"okiru",en:"To wake up","zh-TW":"起床",themes:["verbs","daily_life"]},{id:"v_benkyou_suru",kana:"べんきょうする",romaji:"benkyou suru",en:"To study","zh-TW":"學習",themes:["verbs","daily_life"]},{id:"v_shigoto_suru",kana:"しごとする",romaji:"shigoto suru",en:"To work","zh-TW":"工作",themes:["verbs","daily_life"]},{id:"v_ryokou_suru",kana:"りょこうする",romaji:"ryokou suru",en:"To travel","zh-TW":"旅行",themes:["verbs","travel"]},{id:"v_kankou_suru",kana:"かんこうする",romaji:"kankou suru",en:"To sightsee","zh-TW":"觀光",themes:["verbs","travel"]},{id:"v_kaimono_suru",kana:"かいものする",romaji:"kaimono suru",en:"To shop","zh-TW":"購物",themes:["verbs","shopping"]},{id:"v_ryouri_suru",kana:"りょうりする",romaji:"ryouri suru",en:"To cook","zh-TW":"烹飪",themes:["verbs","food"]},{id:"v_undou_suru",kana:"うんどうする",romaji:"undou suru",en:"To exercise","zh-TW":"運動",themes:["verbs","daily_life"]},{id:"v_sanpo_suru",kana:"さんぽする",romaji:"sanpo suru",en:"To take a walk","zh-TW":"散步",themes:["verbs","daily_life"]},{id:"v_denwa_suru",kana:"でんわする",romaji:"denwa suru",en:"To make a phone call","zh-TW":"打電話",themes:["verbs","communication"]},{id:"v_shashin_o_toru",kana:"しゃしんをとる",romaji:"shashin o toru",en:"To take a picture","zh-TW":"拍照",themes:["verbs","hobbies"]},{id:"v_ongaku_o_kiku",kana:"おんがくをきく",romaji:"ongaku o kiku",en:"To listen to music","zh-TW":"聽音樂",themes:["verbs","hobbies"]},{id:"v_hon_o_yomu",kana:"ほんをよむ",romaji:"hon o yomu",en:"To read a book","zh-TW":"讀書",themes:["verbs","hobbies"]},{id:"v_terebi_o_miru",kana:"テレビをみる",romaji:"terebi o miru",en:"To watch TV","zh-TW":"看電視",themes:["verbs","hobbies"]},{id:"v_eiga_o_miru",kana:"えいがをみる",romaji:"eiga o miru",en:"To watch a movie","zh-TW":"看電影",themes:["verbs","hobbies"]},{id:"v_shokuji_o_suru",kana:"しょくじをする",romaji:"shokuji o suru",en:"To have a meal","zh-TW":"用餐",themes:["verbs","daily_life"]},{id:"v_asobu",kana:"あそぶ",romaji:"asobu",en:"To play / To hang out","zh-TW":"玩 / 閒逛",themes:["verbs","daily_life"]},{id:"v_hairu",kana:"はいる",romaji:"hairu",en:"To enter","zh-TW":"進入",themes:["verbs","movement"]},{id:"v_deru",kana:"でる",romaji:"deru",en:"To exit","zh-TW":"出去",themes:["verbs","movement"]},{id:"v_tsukuru",kana:"つくる",romaji:"tsukuru",en:"To make / To create","zh-TW":"製作 / 創造",themes:["verbs"]},{id:"v_uru",kana:"うる",romaji:"uru",en:"To sell","zh-TW":"賣",themes:["verbs","shopping"]},{id:"v_shiru",kana:"しる",romaji:"shiru",en:"To know","zh-TW":"知道",themes:["verbs"]},{id:"v_naru",kana:"なる",romaji:"naru",en:"To become","zh-TW":"變成",themes:["verbs"]},{id:"v_yobu",kana:"よぶ",romaji:"yobu",en:"To call","zh-TW":"呼叫",themes:["verbs","communication"]},{id:"v_motsu",kana:"もつ",romaji:"motsu",en:"To hold / To have","zh-TW":"持有 / 擁有",themes:["verbs"]},{id:"v_machu",kana:"まつ",romaji:"matsu",en:"To wait","zh-TW":"等待",themes:["verbs"]},{id:"v_au",kana:"あう",romaji:"au",en:"To meet","zh-TW":"見面",themes:["verbs","people"]},{id:"v_shinu",kana:"しぬ",romaji:"shinu",en:"To die","zh-TW":"死亡",themes:["verbs"]},{id:"v_isogu",kana:"いそぐ",romaji:"isogu",en:"To hurry","zh-TW":"趕快",themes:["verbs"]},{id:"v_kaesu",kana:"かえす",romaji:"kaesu",en:"To return (something)","zh-TW":"歸還 (某物)",themes:["verbs"]},{id:"v_kesu",kana:"けす",romaji:"kesu",en:"To turn off / To erase","zh-TW":"關閉 / 擦除",themes:["verbs"]},{id:"v_tatsu",kana:"たつ",romaji:"tatsu",en:"To stand","zh-TW":"站立",themes:["verbs"]},{id:"v_tobu",kana:"とぶ",romaji:"tobu",en:"To fly","zh-TW":"飛翔",themes:["verbs"]},{id:"v_noru",kana:"のる",romaji:"noru",en:"To ride","zh-TW":"乘坐",themes:["verbs","movement"]},{id:"v_hajimaru",kana:"はじまる",romaji:"hajimaru",en:"To begin (intransitive)","zh-TW":"開始 (不及物)",themes:["verbs"]},{id:"v_owaru",kana:"おわる",romaji:"owaru",en:"To end (intransitive)","zh-TW":"結束 (不及物)",themes:["verbs"]},{id:"v_tsukareru",kana:"つかれる",romaji:"tsukareru",en:"To get tired","zh-TW":"疲倦",themes:["verbs","emotions"]},{id:"v_tsukeru",kana:"つける",romaji:"tsukeru",en:"To turn on","zh-TW":"打開",themes:["verbs"]},{id:"v_akeru",kana:"あける",romaji:"akeru",en:"To open","zh-TW":"打開",themes:["verbs"]},{id:"v_shimeru",kana:"しめる",romaji:"shimeru",en:"To close","zh-TW":"關閉",themes:["verbs"]},{id:"v_oshieru",kana:"おしえる",romaji:"oshieru",en:"To teach","zh-TW":"教導",themes:["verbs"]},{id:"v_kariru",kana:"かりる",romaji:"kariru",en:"To borrow","zh-TW":"借",themes:["verbs"]},{id:"v_wasureu",kana:"わすれる",romaji:"wasureru",en:"To forget","zh-TW":"忘記",themes:["verbs"]},{id:"v_denwa_o_kakeru",kana:"でんわをかける",romaji:"denwa o kakeru",en:"To make a phone call","zh-TW":"打電話",themes:["verbs","communication"]},{id:"v_miseru",kana:"みせる",romaji:"miseru",en:"To show","zh-TW":"展示",themes:["verbs"]},{id:"v_otoko_no_ko",kana:"おとこのこ",romaji:"otoko no ko",en:"Boy","zh-TW":"男孩",themes:["people"]},{id:"v_onna_no_ko",kana:"おんなのこ",romaji:"onna no ko",en:"Girl","zh-TW":"女孩",themes:["people"]},{id:"v_kodomo_tachi",kana:"こどもたち",romaji:"kodomo tachi",en:"Children","zh-TW":"孩子們",themes:["people"]},{id:"v_nihon_jin",kana:"にほんじん",romaji:"nihon jin",en:"Japanese person","zh-TW":"日本人",themes:["people"]},{id:"v_gai_jin",kana:"がいじん",romaji:"gai jin",en:"Foreigner","zh-TW":"外國人",themes:["people"]},{id:"v_hidari_te",kana:"ひだりて",romaji:"hidarite",en:"Left hand","zh-TW":"左手",themes:["body_parts"]},{id:"v_migi_te",kana:"みぎて",romaji:"migite",en:"Right hand","zh-TW":"右手",themes:["body_parts"]},{id:"v_mimi_tubu",kana:"みみつぶ",romaji:"mimitubu",en:"Earlobe","zh-TW":"耳垂",themes:["body_parts"]},{id:"v_kuchi_biru",kana:"くちびる",romaji:"kuchibiru",en:"Lips","zh-TW":"嘴唇",themes:["body_parts"]},{id:"v_me_dama",kana:"めだま",romaji:"medama",en:"Eyeball","zh-TW":"眼球",themes:["body_parts"]},{id:"v_ashi_kubi",kana:"あしくび",romaji:"ashikubi",en:"Ankle","zh-TW":"腳踝",themes:["body_parts"]},{id:"v_kokoro_gokoro",kana:"こころごころ",romaji:"kokorogokoro",en:"Heartfelt","zh-TW":"心意",themes:["emotions"]},{id:"v_sora_tobi",kana:"そらとび",romaji:"soratobi",en:"Flying in the sky","zh-TW":"空中飛翔",themes:["nature"]},{id:"v_ten_goku",kana:"てんごく",romaji:"tengoku",en:"Heaven","zh-TW":"天堂",themes:["nature"]},{id:"v_yama_kawa",kana:"やまかわ",romaji:"yamakawa",en:"Mountains and rivers","zh-TW":"山川",themes:["nature"]},{id:"v_oo_ame",kana:"おおあめ",romaji:"ooame",en:"Heavy rain","zh-TW":"大雨",themes:["nature"]},{id:"v_ko_inu",kana:"こいぬ",romaji:"koinu",en:"Puppy","zh-TW":"小狗",themes:["animals"]},{id:"v_kon_chuu",kana:"こんちゅう",romaji:"konchuu",en:"Insect","zh-TW":"昆蟲",themes:["animals"]},{id:"v_watashi_tachi",kana:"わたしたち",romaji:"watashitachi",en:"We","zh-TW":"我們",themes:["people"]},{id:"v_ryo_kou",kana:"りょこう",romaji:"ryokou",en:"Travel","zh-TW":"旅行",themes:["travel"]},{id:"v_rai_getsu",kana:"らいげつ",romaji:"raigetsu",en:"Next month","zh-TW":"下個月",themes:["time"]},{id:"v_hon_ya",kana:"ほんや",romaji:"honya",en:"Bookstore","zh-TW":"書店",themes:["shopping"]},{id:"v_gen_ki",kana:"げんき",romaji:"genki",en:"Healthy","zh-TW":"健康",themes:["adjectives"]},{id:"v_gai_koku",kana:"がいこく",romaji:"gaikoku",en:"Foreign country","zh-TW":"外國",themes:["places"]},{id:"v_kai_sha",kana:"かいしゃ",romaji:"kaisha",en:"Company","zh-TW":"公司",themes:["daily_life"]},{id:"v_ie_ji",kana:"いえじ",romaji:"ieji",en:"Homeward path","zh-TW":"歸途",themes:["movement"]},{id:"v_mae_mae",kana:"まえまえ",romaji:"maemae",en:"Beforehand","zh-TW":"事前",themes:["time"]},{id:"v_moku_teki",kana:"もくてき",romaji:"mokuteki",en:"Purpose","zh-TW":"目的",themes:["basic"]},{id:"v_hou_hou",kana:"ほうほう",romaji:"houhou",en:"Method","zh-TW":"方法",themes:["basic"]},{id:"v_nyuu_gaku",kana:"にゅうがく",romaji:"nyuugaku",en:"Entrance to school","zh-TW":"入學",themes:["daily_life"]},{id:"v_shou_gakkou",kana:"しょうがっこう",romaji:"shougakkou",en:"Elementary school","zh-TW":"小學",themes:["daily_life"]},{id:"v_chi_hyou",kana:"ちひょう",romaji:"chihyou",en:"Surface of the earth","zh-TW":"地表",themes:["nature"]},{id:"v_ba_ai",kana:"ばあい",romaji:"baai",en:"Case / Situation","zh-TW":"情況",themes:["basic"]},{id:"v_go_go",kana:"ごご",romaji:"gogo",en:"Afternoon","zh-TW":"下午",themes:["time"]},{id:"v_tachi_ba",kana:"たちば",romaji:"tachiba",en:"Standpoint","zh-TW":"立場",themes:["basic"]},{id:"v_bu_bun",kana:"ぶぶん",romaji:"bubun",en:"Part","zh-TW":"部分",themes:["basic"]},{id:"v_gaku_sei",kana:"がくせい",romaji:"gakusei",en:"Student","zh-TW":"學生",themes:["people"]},{id:"v_mono_goto",kana:"ものごと",romaji:"monogoto",en:"Things","zh-TW":"事物",themes:["basic"]},{id:"v_ta_ue",kana:"たうえ",romaji:"taue",en:"Rice planting","zh-TW":"插秧",themes:["nature"]},{id:"v_chou_jo",kana:"ちょうじょ",romaji:"choujo",en:"Eldest daughter","zh-TW":"長女",themes:["people"]},{id:"v_ichi_ba",kana:"いちば",romaji:"ichiba",en:"Market","zh-TW":"市場",themes:["shopping"]},{id:"v_dai_hyou",kana:"だいひょう",romaji:"daihyou",en:"Representative","zh-TW":"代表",themes:["people"]},{id:"v_shita_gaki",kana:"したがき",romaji:"shitagaki",en:"Draft","zh-TW":"草稿",themes:["basic"]},{id:"v_kaizoku",kana:"かいぞく",romaji:"kaizoku",en:"Pirate","zh-TW":"海盜",themes:["people","one_piece"]},{id:"v_takara",kana:"たから",romaji:"takara",en:"Treasure","zh-TW":"寶藏",themes:["objects","one_piece"]},{id:"v_mugiwara_boushi",kana:"むぎわらぼうし",romaji:"mugiwara boushi",en:"Straw hat","zh-TW":"草帽",themes:["clothing","one_piece"]},{id:"v_fune",kana:"ふね",romaji:"fune",en:"Ship","zh-TW":"船",themes:["objects","one_piece","travel"]},{id:"v_sencho",kana:"せんちょう",romaji:"senchou",en:"Captain","zh-TW":"船長",themes:["people","one_piece"]},{id:"v_nakama",kana:"なかま",romaji:"nakama",en:"Comrade / Crew member","zh-TW":"夥伴",themes:["people","one_piece"]},{id:"v_bouken",kana:"ぼうけん",romaji:"bouken",en:"Adventure","zh-TW":"冒險",themes:["verbs","one_piece"]},{id:"v_shima",kana:"しま",romaji:"shima",en:"Island","zh-TW":"島",themes:["places","one_piece"]},{id:"v_minato",kana:"みなと",romaji:"minato",en:"Harbor / Port","zh-TW":"港口",themes:["places","one_piece"]},{id:"v_tsuyoi",kana:"つよい",romaji:"tsuyoi",en:"Strong","zh-TW":"強",themes:["adjectives","one_piece"]},{id:"v_yume",kana:"ゆめ",romaji:"yume",en:"Dream","zh-TW":"夢",themes:["emotions","one_piece"]},{id:"v_teki",kana:"てき",romaji:"teki",en:"Enemy","zh-TW":"敵人",themes:["people","one_piece"]},{id:"v_tatakau",kana:"たたかう",romaji:"tatakau",en:"To fight","zh-TW":"戰鬥",themes:["verbs","one_piece"]},{id:"v_tsure",kana:"つれ",romaji:"tsure",en:"Companion","zh-TW":"同伴",themes:["people","one_piece"]},{id:"v_ryouri_nin",kana:"りょうりにん",romaji:"ryouri nin",en:"Cook","zh-TW":"廚師",themes:["people","one_piece"]},{id:"v_isha",kana:"いしゃ",romaji:"isha",en:"Doctor","zh-TW":"醫生",themes:["people","one_piece"]},{id:"v_koukai",kana:"こうかい",romaji:"koukai",en:"Voyage","zh-TW":"航海",themes:["travel","one_piece"]},{id:"v_kaze",kana:"かぜ",romaji:"kaze",en:"Wind","zh-TW":"風",themes:["nature","one_piece"]},{id:"v_nami",kana:"なみ",romaji:"nami",en:"Wave","zh-TW":"波浪",themes:["nature","one_piece"]},{id:"v_arashi",kana:"あらし",romaji:"arashi",en:"Storm","zh-TW":"暴風雨",themes:["nature","one_piece"]},{id:"v_chizu",kana:"ちず",romaji:"chizu",en:"Map","zh-TW":"地圖",themes:["objects","one_piece"]},{id:"v_hoshi",kana:"ほし",romaji:"hoshi",en:"Star","zh-TW":"星星",themes:["nature","one_piece"]},{id:"v_jiyuu",kana:"じゆう",romaji:"jiyuu",en:"Freedom","zh-TW":"自由",themes:["emotions","one_piece"]},{id:"v_densetsu",kana:"でんせつ",romaji:"densetsu",en:"Legend","zh-TW":"傳說",themes:["basic","one_piece"]},{id:"v_kaijoku",kana:"かいぞく",romaji:"kaizoku",en:"Pirate flag","zh-TW":"海盜旗",themes:["objects","one_piece"]},{id:"v_yuusha",kana:"ゆうしゃ",romaji:"yuusha",en:"Hero","zh-TW":"勇者",themes:["people","dragon_quest"]},{id:"v_maou",kana:"まおう",romaji:"maou",en:"Demon Lord","zh-TW":"魔王",themes:["people","dragon_quest"]},{id:"v_suraimu",kana:"スライム",romaji:"suraimu",en:"Slime","zh-TW":"史萊姆",themes:["animals","dragon_quest"]},{id:"v_ryuu",kana:"りゅう",romaji:"ryuu",en:"Dragon","zh-TW":"龍",themes:["animals","dragon_quest"]},{id:"v_mahoutsukai",kana:"まほうつかい",romaji:"mahoutsukai",en:"Wizard / Magician","zh-TW":"魔法師",themes:["people","dragon_quest"]},{id:"v_mahou",kana:"まほう",romaji:"mahou",en:"Magic","zh-TW":"魔法",themes:["fantasy","dragon_quest"]},{id:"v_jumon",kana:"じゅもん",romaji:"jumon",en:"Spell / Incantation","zh-TW":"咒語",themes:["fantasy","dragon_quest"]},{id:"v_senshi",kana:"せんし",romaji:"senshi",en:"Warrior","zh-TW":"戰士",themes:["people","dragon_quest"]},{id:"v_boukensha",kana:"ぼうけんしゃ",romaji:"boukensha",en:"Adventurer","zh-TW":"冒險者",themes:["people","dragon_quest"]},{id:"v_shiro",kana:"しろ",romaji:"shiro",en:"Castle","zh-TW":"城堡",themes:["places","dragon_quest"]},{id:"v_machi",kana:"まち",romaji:"machi",en:"Town","zh-TW":"城鎮",themes:["places","dragon_quest"]},{id:"v_mura",kana:"むら",romaji:"mura",en:"Village","zh-TW":"村莊",themes:["places","dragon_quest"]},{id:"v_mori",kana:"もり",romaji:"mori",en:"Forest","zh-TW":"森林",themes:["nature","dragon_quest"]},{id:"v_dou_kutsu",kana:"どうくつ",romaji:"doukutsu",en:"Cave","zh-TW":"洞穴",themes:["places","dragon_quest"]},{id:"v_ken",kana:"けん",romaji:"ken",en:"Sword","zh-TW":"劍",themes:["objects","dragon_quest"]},{id:"v_tate",kana:"たて",romaji:"tate",en:"Shield","zh-TW":"盾",themes:["objects","dragon_quest"]},{id:"v_yoroi",kana:"よろい",romaji:"yoroi",en:"Armor","zh-TW":"盔甲",themes:["objects","dragon_quest"]},{id:"v_kusuri",kana:"くすり",romaji:"kusuri",en:"Medicine / Potion","zh-TW":"藥水",themes:["objects","dragon_quest"]},{id:"v_kagi",kana:"かぎ",romaji:"kagi",en:"Key","zh-TW":"鑰匙",themes:["objects","dragon_quest"]},{id:"v_takara_bako",kana:"たからばこ",romaji:"takara bako",en:"Treasure chest","zh-TW":"寶箱",themes:["objects","dragon_quest"]},{id:"v_kaibutsu",kana:"かいぶつ",romaji:"kaibutsu",en:"Monster","zh-TW":"怪物",themes:["animals","dragon_quest"]},{id:"v_revel_up",kana:"レベルアップ",romaji:"reberu appu",en:"Level up","zh-TW":"升級",themes:["verbs","dragon_quest"]},{id:"v_keiken",kana:"けいけん",romaji:"keiken",en:"Experience","zh-TW":"經驗",themes:["basic","dragon_quest"]},{id:"v_saikyou",kana:"さいきょう",romaji:"saikyou",en:"Strongest","zh-TW":"最強",themes:["adjectives","dragon_quest"]},{id:"v_gozaru",kana:"ござる",romaji:"gozaru",en:"To be (archaic)","zh-TW":"是 (古語)",themes:["grammar","dragon_quest"]},{id:"v_ousama",kana:"おうさま",romaji:"ousama",en:"King","zh-TW":"國王",themes:["people","dragon_quest"]},{id:"v_ohime_sama",kana:"おひめさま",romaji:"ohime sama",en:"Princess","zh-TW":"公主",themes:["people","dragon_quest"]},{id:"v_meikyuu",kana:"めいきゅう",romaji:"meikyuu",en:"Labyrinth / Maze","zh-TW":"迷宮",themes:["places","dragon_quest"]},{id:"v_seija",kana:"せいじゃ",romaji:"seija",en:"Saint / Sage","zh-TW":"聖者",themes:["people","dragon_quest"]},{id:"v_akuma",kana:"あくま",romaji:"akuma",en:"Devil / Demon","zh-TW":"惡魔",themes:["people","dragon_quest"]},{id:"v_kenshin",kana:"けんしん",romaji:"kenshin",en:"Sword spirit","zh-TW":"劍神",themes:["fantasy","zelda"]},{id:"v_tsurugi",kana:"つるぎ",romaji:"tsurugi",en:"Sword","zh-TW":"劍",themes:["objects","zelda"]},{id:"v_daichi",kana:"だいち",romaji:"daichi",en:"Great land","zh-TW":"大地",themes:["nature","zelda"]},{id:"v_densetsu_no",kana:"でんせつの",romaji:"densetsu no",en:"Legendary","zh-TW":"傳說的",themes:["adjectives","zelda"]},{id:"v_oujo",kana:"おうじょ",romaji:"oujo",en:"Princess","zh-TW":"公主",themes:["people","zelda"]},{id:"v_link",kana:"リンク",romaji:"rinku",en:"Link","zh-TW":"連結",themes:["people","zelda"]},{id:"v_triforce",kana:"トライフォース",romaji:"torai foosu",en:"Triforce","zh-TW":"三角神力",themes:["objects","zelda"]},{id:"v_master_sword",kana:"マスターソード",romaji:"masutaa soodo",en:"Master Sword","zh-TW":"大師之劍",themes:["objects","zelda"]},{id:"v_hyrule",kana:"ハイラル",romaji:"hairaru",en:"Hyrule","zh-TW":"海拉魯",themes:["places","zelda"]},{id:"v_dungeon",kana:"ダンジョン",romaji:"danjon",en:"Dungeon","zh-TW":"地牢",themes:["places","zelda"]},{id:"v_kokiri",kana:"コキリ",romaji:"kokiri",en:"Kokiri (forest people)","zh-TW":"森林之民",themes:["people","zelda"]},{id:"v_bow",kana:"ゆみ",romaji:"yumi",en:"Bow","zh-TW":"弓",themes:["objects","zelda"]},{id:"v_ya",kana:"や",romaji:"ya",en:"Arrow","zh-TW":"箭",themes:["objects","zelda"]},{id:"v_boomerang",kana:"ブーメラン",romaji:"buumeran",en:"Boomerang","zh-TW":"迴力鏢",themes:["objects","zelda"]},{id:"v_shield",kana:"シールド",romaji:"shiirudo",en:"Shield","zh-TW":"盾牌",themes:["objects","zelda"]},{id:"v_bomb",kana:"ばくだん",romaji:"bakudan",en:"Bomb","zh-TW":"炸彈",themes:["objects","zelda"]},{id:"v_heart",kana:"ハート",romaji:"haato",en:"Heart","zh-TW":"心",themes:["objects","zelda"]},{id:"v_rupee",kana:"ルピー",romaji:"rupii",en:"Rupee","zh-TW":"盧比",themes:["objects","zelda"]},{id:"v_fairy",kana:"ようせい",romaji:"yousei",en:"Fairy","zh-TW":"妖精",themes:["people","zelda"]},{id:"v_ganon",kana:"ガノン",romaji:"ganon",en:"Ganon","zh-TW":"加儂",themes:["people","zelda"]},{id:"v_wisdom",kana:"ちえ",romaji:"chie",en:"Wisdom","zh-TW":"智慧",themes:["emotions","zelda"]},{id:"v_courage",kana:"ゆうき",romaji:"yuuki",en:"Courage","zh-TW":"勇氣",themes:["emotions","zelda"]},{id:"v_power",kana:"ちから",romaji:"chikara",en:"Power","zh-TW":"力量",themes:["emotions","zelda"]},{id:"v_ocarina",kana:"オカリナ",romaji:"okarina",en:"Ocarina","zh-TW":"陶笛",themes:["objects","zelda"]},{id:"v_horse",kana:"うま",romaji:"uma",en:"Horse","zh-TW":"馬",themes:["animals","zelda"]},{id:"v_epona",kana:"エポナ",romaji:"epona",en:"Epona","zh-TW":"愛波娜",themes:["animals","zelda"]},{id:"v_temple",kana:"しんでん",romaji:"shinden",en:"Temple","zh-TW":"神殿",themes:["places","zelda"]},{id:"v_goron",kana:"ゴロン",romaji:"goron",en:"Goron (rock people)","zh-TW":"岩石族",themes:["people","zelda"]},{id:"v_zora",kana:"ゾーラ",romaji:"zoora",en:"Zora (fish people)","zh-TW":"魚人族",themes:["people","zelda"]},{id:"v_adventure_time",kana:"ぼうけんのたび",romaji:"bouken no tabi",en:"Adventure journey","zh-TW":"冒險之旅",themes:["travel","zelda"]},{id:"v_treasure_hunter",kana:"たからさがし",romaji:"takara sagashi",en:"Treasure hunting","zh-TW":"尋寶",themes:["verbs","zelda"]},{id:"v_puzzle",kana:"パズル",romaji:"pazuru",en:"Puzzle","zh-TW":"謎題",themes:["basic","zelda"]},{id:"v_switch",kana:"スイッチ",romaji:"suicchi",en:"Switch","zh-TW":"開關",themes:["objects","zelda"]},{id:"v_block",kana:"ブロック",romaji:"burokku",en:"Block","zh-TW":"方塊",themes:["objects","zelda"]},{id:"v_ladder",kana:"はしご",romaji:"hashigo",en:"Ladder","zh-TW":"梯子",themes:["objects","zelda"]},{id:"v_bridge",kana:"はし",romaji:"hashi",en:"Bridge","zh-TW":"橋",themes:["places","zelda"]},{id:"v_explore",kana:"たんけん",romaji:"tanken",en:"Exploration","zh-TW":"探險",themes:["verbs","zelda"]},{id:"v_luffy",kana:"ルフィー",romaji:"rufii",en:"Luffy","zh-TW":"魯夫",themes:["people","one_piece"]},{id:"v_zoro",kana:"ゾロ",romaji:"zoro",en:"Zoro","zh-TW":"索隆",themes:["people","one_piece"]},{id:"v_nami_char",kana:"ナミ",romaji:"nami",en:"Nami (navigator)","zh-TW":"娜美",themes:["people","one_piece"]},{id:"v_usopp",kana:"ウソップ",romaji:"usoppu",en:"Usopp","zh-TW":"騙人布",themes:["people","one_piece"]},{id:"v_sanji",kana:"サンジ",romaji:"sanji",en:"Sanji","zh-TW":"香吉士",themes:["people","one_piece"]},{id:"v_chopper",kana:"チョッパー",romaji:"choppaa",en:"Chopper","zh-TW":"喬巴",themes:["people","one_piece"]},{id:"v_robin",kana:"ロビン",romaji:"robin",en:"Robin","zh-TW":"羅賓",themes:["people","one_piece"]},{id:"v_franky",kana:"フランキー",romaji:"furankii",en:"Franky","zh-TW":"佛朗基",themes:["people","one_piece"]},{id:"v_brook",kana:"ブルック",romaji:"burokku",en:"Brook","zh-TW":"布魯克",themes:["people","one_piece"]},{id:"v_jinbe",kana:"ジンベエ",romaji:"jinbee",en:"Jinbe","zh-TW":"甚平",themes:["people","one_piece"]},{id:"v_shanks",kana:"シャンクス",romaji:"shankusu",en:"Shanks","zh-TW":"香克斯",themes:["people","one_piece"]},{id:"v_ace",kana:"エース",romaji:"eesu",en:"Ace","zh-TW":"艾斯",themes:["people","one_piece"]},{id:"v_sabo",kana:"サボ",romaji:"sabo",en:"Sabo","zh-TW":"薩博",themes:["people","one_piece"]},{id:"v_garp",kana:"ガープ",romaji:"gaapu",en:"Garp","zh-TW":"卡普",themes:["people","one_piece"]},{id:"v_buggy",kana:"バギー",romaji:"bagii",en:"Buggy","zh-TW":"巴基",themes:["people","one_piece"]},{id:"v_crocodile",kana:"クロコダイル",romaji:"kurokodairu",en:"Crocodile","zh-TW":"克洛克達爾",themes:["people","one_piece"]},{id:"v_mihawk",kana:"ミホーク",romaji:"mihooku",en:"Mihawk","zh-TW":"鷹眼",themes:["people","one_piece"]},{id:"v_going_merry",kana:"ゴーイングメリー",romaji:"gooingu merii",en:"Going Merry","zh-TW":"黃金梅利號",themes:["objects","one_piece"]},{id:"v_thousand_sunny",kana:"サウザンドサニー",romaji:"sauzando sanii",en:"Thousand Sunny","zh-TW":"千陽號",themes:["objects","one_piece"]},{id:"v_grand_line",kana:"グランドライン",romaji:"gurando rain",en:"Grand Line","zh-TW":"偉大航路",themes:["places","one_piece"]},{id:"v_new_world",kana:"ニューワールド",romaji:"nyuu waarudo",en:"New World","zh-TW":"新世界",themes:["places","one_piece"]},{id:"v_east_blue",kana:"イーストブルー",romaji:"iisuto buruu",en:"East Blue","zh-TW":"東海",themes:["places","one_piece"]},{id:"v_alabasta",kana:"アラバスタ",romaji:"arabasuta",en:"Alabasta","zh-TW":"阿拉巴斯坦",themes:["places","one_piece"]},{id:"v_skypiea",kana:"スカイピア",romaji:"sukaipia",en:"Skypiea","zh-TW":"空島",themes:["places","one_piece"]},{id:"v_water_seven",kana:"ウォーターセブン",romaji:"wootaa sebun",en:"Water 7","zh-TW":"水之七島",themes:["places","one_piece"]},{id:"v_enies_lobby",kana:"エニエスロビー",romaji:"eniesu robii",en:"Enies Lobby","zh-TW":"司法島",themes:["places","one_piece"]},{id:"v_thriller_bark",kana:"スリラーバーク",romaji:"suriraa baaku",en:"Thriller Bark","zh-TW":"恐怖三桅帆船",themes:["places","one_piece"]},{id:"v_impel_down",kana:"インペルダウン",romaji:"inperu daun",en:"Impel Down","zh-TW":"推進城",themes:["places","one_piece"]},{id:"v_marineford",kana:"マリンフォード",romaji:"marinfoodo",en:"Marineford","zh-TW":"馬林梵多",themes:["places","one_piece"]},{id:"v_fishman_island",kana:"ぎょじんとう",romaji:"gyojin tou",en:"Fish-Man Island","zh-TW":"魚人島",themes:["places","one_piece"]},{id:"v_punk_hazard",kana:"パンクハザード",romaji:"panku hazaado",en:"Punk Hazard","zh-TW":"龐克哈薩德",themes:["places","one_piece"]},{id:"v_dressrosa",kana:"ドレスローザ",romaji:"doresurooza",en:"Dressrosa","zh-TW":"德雷斯羅薩",themes:["places","one_piece"]},{id:"v_zou",kana:"ゾウ",romaji:"zou",en:"Zou","zh-TW":"佐烏",themes:["places","one_piece"]},{id:"v_whole_cake_island",kana:"ホールケーキアイランド",romaji:"hooru keeki airando",en:"Whole Cake Island","zh-TW":"蛋糕島",themes:["places","one_piece"]},{id:"v_wano",kana:"ワノ国",romaji:"wano kuni",en:"Wano Country","zh-TW":"和之國",themes:["places","one_piece"]},{id:"v_laugh_tale",kana:"ラフテル",romaji:"rafuteru",en:"Laugh Tale","zh-TW":"拉夫德魯",themes:["places","one_piece"]},{id:"v_devil_fruit",kana:"あくまのみ",romaji:"akuma no mi",en:"Devil Fruit","zh-TW":"惡魔果實",themes:["objects","one_piece"]},{id:"v_haki",kana:"ハキ",romaji:"haki",en:"Haki","zh-TW":"霸氣",themes:["fantasy","one_piece"]},{id:"v_one_piece_treasure",kana:"ワンピース",romaji:"wan piisu",en:"One Piece (treasure)","zh-TW":"大秘寶",themes:["objects","one_piece"]},{id:"v_hoimi",kana:"ホイミ",romaji:"hoimi",en:"Hoimi (heal spell)","zh-TW":"霍伊咪 (治療咒語)",themes:["fantasy","dragon_quest"]},{id:"v_behoma",kana:"ベホマ",romaji:"behoma",en:"Behoma (full heal)","zh-TW":"貝霍馬 (完全治療)",themes:["fantasy","dragon_quest"]},{id:"v_megante",kana:"メガンテ",romaji:"megante",en:"Megante (sacrifice spell)","zh-TW":"美加安忒 (犧牲咒語)",themes:["fantasy","dragon_quest"]},{id:"v_mera",kana:"メラ",romaji:"mera",en:"Mera (fire spell)","zh-TW":"美拉 (火焰咒語)",themes:["fantasy","dragon_quest"]},{id:"v_merami",kana:"メラミ",romaji:"merami",en:"Merami (fire spell)","zh-TW":"美拉咪 (火焰咒語)",themes:["fantasy","dragon_quest"]},{id:"v_merazoma",kana:"メラゾーマ",romaji:"merazooma",en:"Merazoma (fireball)","zh-TW":"美拉佐馬 (火球術)",themes:["fantasy","dragon_quest"]},{id:"v_gira",kana:"ギラ",romaji:"gira",en:"Gira (flame spell)","zh-TW":"基拉 (火焰咒語)",themes:["fantasy","dragon_quest"]},{id:"v_girami",kana:"ギラミ",romaji:"girami",en:"Girami (flame spell)","zh-TW":"基拉咪 (火焰咒語)",themes:["fantasy","dragon_quest"]},{id:"v_giragunea",kana:"ギラグレイド",romaji:"giraguneido",en:"Giragunea (flame)","zh-TW":"基拉古雷德 (火焰)",themes:["fantasy","dragon_quest"]},{id:"v_hyado",kana:"ヒャド",romaji:"hyado",en:"Hyado (ice spell)","zh-TW":"希亞德 (冰系咒語)",themes:["fantasy","dragon_quest"]},{id:"v_hyadaruko",kana:"ヒャダルコ",romaji:"hyadaruko",en:"Hyadaruko (ice spell)","zh-TW":"希亞達魯克 (冰系咒語)",themes:["fantasy","dragon_quest"]},{id:"v_mahydo",kana:"マヒャド",romaji:"mahyado",en:"Mahydo (blizzard)","zh-TW":"馬希亞德 (暴風雪)",themes:["fantasy","dragon_quest"]},{id:"v_bagi",kana:"バギ",romaji:"bagi",en:"Bagi (wind spell)","zh-TW":"巴基 (風系咒語)",themes:["fantasy","dragon_quest"]},{id:"v_bagikrosu",kana:"バギクロス",romaji:"bagikurosu",en:"Bagikrosu (wind spell)","zh-TW":"巴基克洛斯 (風系咒語)",themes:["fantasy","dragon_quest"]},{id:"v_bagimutou",kana:"バギムーチョ",romaji:"bagimuucho",en:"Bagimutou (tornado)","zh-TW":"巴基姆丘 (龍捲風)",themes:["fantasy","dragon_quest"]},{id:"v_dein",kana:"デイン",romaji:"dein",en:"Dein (lightning)","zh-TW":"戴因 (雷電)",themes:["fantasy","dragon_quest"]},{id:"v_raidein",kana:"ライデイン",romaji:"raidein",en:"Raidein (lightning)","zh-TW":"萊戴因 (雷電)",themes:["fantasy","dragon_quest"]},{id:"v_gigadein",kana:"ギガデイン",romaji:"gigadein",en:"Gigadein (lightning)","zh-TW":"基加戴因 (雷電)",themes:["fantasy","dragon_quest"]},{id:"v_iora",kana:"イオラ",romaji:"iora",en:"Iora (explosion)","zh-TW":"伊歐拉 (爆炸)",themes:["fantasy","dragon_quest"]},{id:"v_ionazun",kana:"イオナズン",romaji:"ionazun",en:"Ionazun (explosion)","zh-TW":"伊歐納順 (爆炸)",themes:["fantasy","dragon_quest"]},{id:"v_zakki",kana:"ザキ",romaji:"zaki",en:"Zaki (death spell)","zh-TW":"札基 (死亡咒語)",themes:["fantasy","dragon_quest"]},{id:"v_zarakki",kana:"ザラキ",romaji:"zaraki",en:"Zarakki (death spell)","zh-TW":"札拉基 (死亡咒語)",themes:["fantasy","dragon_quest"]},{id:"v_zagura_shi",kana:"ザグラシ",romaji:"zagurashi",en:"Zagura shi (death)","zh-TW":"札古拉希 (死亡)",themes:["fantasy","dragon_quest"]},{id:"v_sukaraa",kana:"スカラ",romaji:"sukaraa",en:"Sukara (defense up)","zh-TW":"史卡拉 (防禦提升)",themes:["fantasy","dragon_quest"]},{id:"v_sukuruto",kana:"スクルト",romaji:"sukuruto",en:"Sukuruto (defense up)","zh-TW":"史庫魯特 (防禦提升)",themes:["fantasy","dragon_quest"]},{id:"v_bariki",kana:"バイキルト",romaji:"baikiruto",en:"Baikiru (attack up)","zh-TW":"拜基魯特 (攻擊提升)",themes:["fantasy","dragon_quest"]},{id:"v_piorina",kana:"ピオリナ",romaji:"piorina",en:"Piorina (speed up)","zh-TW":"皮歐利娜 (速度提升)",themes:["fantasy","dragon_quest"]},{id:"v_rukanni",kana:"ルカニ",romaji:"rukani",en:"Rukani (defense down)","zh-TW":"魯卡尼 (防禦下降)",themes:["fantasy","dragon_quest"]},{id:"v_rariho",kana:"ラリホー",romaji:"rarihoo",en:"Rariho (sleep)","zh-TW":"拉利霍 (睡眠)",themes:["fantasy","dragon_quest"]},{id:"v_medarapania",kana:"メダパニ",romaji:"medapani",en:"Medapani (confusion)","zh-TW":"美達帕尼 (混亂)",themes:["fantasy","dragon_quest"]},{id:"v_mahotora",kana:"マホトラ",romaji:"mahotora",en:"Mahotora (MP drain)","zh-TW":"馬霍特拉 (MP吸取)",themes:["fantasy","dragon_quest"]},{id:"v_riremito",kana:"リレミト",romaji:"riremito",en:"Riremito (escape)","zh-TW":"利雷咪特 (逃脫)",themes:["fantasy","dragon_quest"]},{id:"v_toramaana",kana:"トラマナ",romaji:"toramaana",en:"Toramana (no encounters)","zh-TW":"特拉馬納 (不遇敵)",themes:["fantasy","dragon_quest"]},{id:"v_mahokanta",kana:"マホカンタ",romaji:"mahokanta",en:"Mahokanta (reflect)","zh-TW":"馬霍坎塔 (反射)",themes:["fantasy","dragon_quest"]},{id:"v_shinsoku",kana:"しんそく",romaji:"shinsoku",en:"Shinsoku (divine speed)","zh-TW":"神速",themes:["fantasy","dragon_quest"]},{id:"v_benn_beckman",kana:"ベン・ベックマン",romaji:"ben bekkuu man",en:"Benn Beckman","zh-TW":"本・貝克曼",themes:["people","one_piece"]},{id:"v_yasopp",kana:"ヤソップ",romaji:"yasoppu",en:"Yasopp","zh-TW":"耶穌布",themes:["people","one_piece"]},{id:"v_lucky_roux",kana:"ラッキー・ルウ",romaji:"rakkii ruu",en:"Lucky Roux","zh-TW":"拉基・路",themes:["people","one_piece"]},{id:"v_whitebeard",kana:"しろひげ",romaji:"shirohige",en:"Whitebeard","zh-TW":"白鬍子",themes:["people","one_piece"]},{id:"v_marco",kana:"マルコ",romaji:"maruko",en:"Marco","zh-TW":"馬可",themes:["people","one_piece"]},{id:"v_jozu",kana:"ジョズ",romaji:"jozu",en:"Jozu","zh-TW":"喬茲",themes:["people","one_piece"]},{id:"v_big_mom",kana:"ビッグマム",romaji:"biggu mamu",en:"Big Mom","zh-TW":"夏洛特・玲玲",themes:["people","one_piece"]},{id:"v_katakuri",kana:"カタクリ",romaji:"katakuri",en:"Katakuri","zh-TW":"卡塔庫栗",themes:["people","one_piece"]},{id:"v_perospero",kana:"ペロスペロー",romaji:"perosuperoo",en:"Perospero","zh-TW":"佩洛斯佩羅",themes:["people","one_piece"]},{id:"v_kaido",kana:"カイドウ",romaji:"kaidou",en:"Kaido","zh-TW":"凱多",themes:["people","one_piece"]},{id:"v_king",kana:"キング",romaji:"kingu",en:"King","zh-TW":"King",themes:["people","one_piece"]},{id:"v_queen",kana:"クイーン",romaji:"kuiin",en:"Queen","zh-TW":"Queen",themes:["people","one_piece"]},{id:"v_jack",kana:"ジャック",romaji:"jakku",en:"Jack","zh-TW":"Jack",themes:["people","one_piece"]},{id:"v_blackbeard",kana:"ブラックビアード",romaji:"burakku biaado",en:"Blackbeard","zh-TW":"黑鬍子",themes:["people","one_piece"]},{id:"v_shiryu",kana:"シリュウ",romaji:"shiryu",en:"Shiryu","zh-TW":"希留",themes:["people","one_piece"]},{id:"v_lafitte",kana:"ラフィット",romaji:"rafitto",en:"Lafitte","zh-TW":"拉斐特",themes:["people","one_piece"]},{id:"v_law",kana:"トラファルガー・ロー",romaji:"torafarugaa roo",en:"Trafalgar Law","zh-TW":"特拉法爾加・羅",themes:["people","one_piece"]},{id:"v_bepo",kana:"ベポ",romaji:"bepo",en:"Bepo","zh-TW":"貝波",themes:["people","one_piece"]},{id:"v_kid",kana:"ユースタス・キッド",romaji:"yuusutasu kiddo",en:"Eustass Kid","zh-TW":"尤斯塔斯・基德",themes:["people","one_piece"]},{id:"v_killer",kana:"キラー",romaji:"kiraa",en:"Killer","zh-TW":"基拉",themes:["people","one_piece"]},{id:"v_doflamingo",kana:"ドフラミンゴ",romaji:"dofuramingo",en:"Doflamingo","zh-TW":"多佛朗明哥",themes:["people","one_piece"]},{id:"v_vergo",kana:"ヴェルゴ",romaji:"verugo",en:"Vergo","zh-TW":"維爾戈",themes:["people","one_piece"]},{id:"v_pica",kana:"ピーカ",romaji:"piika",en:"Pica","zh-TW":"皮卡",themes:["people","one_piece"]},{id:"v_arlong",kana:"アーロン",romaji:"aaron",en:"Arlong","zh-TW":"阿龍",themes:["people","one_piece"]},{id:"v_hachi",kana:"ハチ",romaji:"hachi",en:"Hachi","zh-TW":"哈奇",themes:["people","one_piece"]},{id:"v_gol_d_roger",kana:"ゴール・D・ロジャー",romaji:"gooru di rojaa",en:"Gol D. Roger","zh-TW":"哥爾・D・羅傑",themes:["people","one_piece"]},{id:"v_rayleigh",kana:"レイリー",romaji:"reirii",en:"Silvers Rayleigh","zh-TW":"希爾巴斯・雷利",themes:["people","one_piece"]},{id:"v_scopper_gaban",kana:"スコッパー・ギャバン",romaji:"sukoppaa gyaban",en:"Scopper Gaban","zh-TW":"斯科伯・加邦",themes:["people","one_piece"]},{id:"v_slime_beth",kana:"スライムベス",romaji:"suraimu besu",en:"She-Slime","zh-TW":"赤色史萊姆",themes:["animals","dragon_quest"]},{id:"v_metal_slime",kana:"メタルスライム",romaji:"metaru suraimu",en:"Metal Slime","zh-TW":"金屬史萊姆",themes:["animals","dragon_quest"]},{id:"v_king_slime",kana:"キングスライム",romaji:"kingu suraimu",en:"King Slime","zh-TW":"史萊姆王",themes:["animals","dragon_quest"]},{id:"v_liquid_metal_slime",kana:"はぐれメタル",romaji:"hagure metaru",en:"Liquid Metal Slime","zh-TW":"流浪金屬史萊姆",themes:["animals","dragon_quest"]},{id:"v_dracky",kana:"ドラキー",romaji:"dorakii",en:"Dracky","zh-TW":"蝙蝠怪",themes:["animals","dragon_quest"]},{id:"v_drackyma",kana:"ドラキーマ",romaji:"dorakiima",en:"Drackyma","zh-TW":"大蝙蝠怪",themes:["animals","dragon_quest"]},{id:"v_golem",kana:"ゴーレム",romaji:"gooremu",en:"Golem","zh-TW":"魔像",themes:["animals","dragon_quest"]},{id:"v_chimera",kana:"キメラ",romaji:"kimera",en:"Chimera","zh-TW":"奇美拉",themes:["animals","dragon_quest"]},{id:"v_slime_knight",kana:"スライムナイト",romaji:"suraimu naito",en:"Slime Knight","zh-TW":"史萊姆騎士",themes:["animals","dragon_quest"]},{id:"v_restless_armor",kana:"さまようよろい",romaji:"samayou yoroi",en:"Restless Armor","zh-TW":"徘徊鎧甲",themes:["animals","dragon_quest"]},{id:"v_heal_slime",kana:"ホイミスライム",romaji:"hoimi suraimu",en:"Healslime","zh-TW":"治療史萊姆",themes:["animals","dragon_quest"]},{id:"v_bubble_slime",kana:"バブルスライム",romaji:"baburu suraimu",en:"Bubble Slime","zh-TW":"毒史萊姆",themes:["animals","dragon_quest"]},{id:"v_ghost",kana:"ゴースト",romaji:"goosuto",en:"Ghost","zh-TW":"幽靈",themes:["animals","dragon_quest"]},{id:"v_skeleton",kana:"がいこつ",romaji:"gaikotsu",en:"Skeleton","zh-TW":"骷髏",themes:["animals","dragon_quest"]},{id:"v_mimic",kana:"ミミック",romaji:"mimikku",en:"Mimic","zh-TW":"寶箱怪",themes:["animals","dragon_quest"]},{id:"v_killer_machine",kana:"キラーマシン",romaji:"kiraa mashin",en:"Killer Machine","zh-TW":"殺人機器",themes:["animals","dragon_quest"]},{id:"v_hammerhood",kana:"おおきづち",romaji:"ookizuchi",en:"Hammerhood","zh-TW":"大木槌",themes:["animals","dragon_quest"]},{id:"v_sabercub",kana:"ベビーパンサー",romaji:"bebii pansa",en:"Sabercub","zh-TW":"幼年劍齒虎",themes:["animals","dragon_quest"]},{id:"v_orc",kana:"オーク",romaji:"ooku",en:"Orc","zh-TW":"半獸人",themes:["animals","dragon_quest"]},{id:"v_cyclops",kana:"サイクロプス",romaji:"saikuropusu",en:"Cyclops","zh-TW":"獨眼巨人",themes:["animals","dragon_quest"]},{id:"v_cmd_tatakau",kana:"たたかう",romaji:"tatakau",en:"Fight","zh-TW":"戰鬥",themes:["dragon_quest","commands"]},{id:"v_cmd_bougyo",kana:"ぼうぎょ",romaji:"bougyo",en:"Defend","zh-TW":"防禦",themes:["dragon_quest","commands"]},{id:"v_cmd_jumon",kana:"じゅもん",romaji:"jumon",en:"Spells","zh-TW":"咒文",themes:["dragon_quest","commands"]},{id:"v_cmd_tokugi",kana:"とくぎ",romaji:"tokugi",en:"Skills","zh-TW":"特技",themes:["dragon_quest","commands"]},{id:"v_cmd_dougu",kana:"どうぐ",romaji:"dougu",en:"Items","zh-TW":"道具",themes:["dragon_quest","commands"]},{id:"v_cmd_nigeru",kana:"にげる",romaji:"nigeru",en:"Run","zh-TW":"逃跑",themes:["dragon_quest","commands"]},{id:"v_cmd_sakusen",kana:"さくせん",romaji:"sakusen",en:"Tactics","zh-TW":"作戰",themes:["dragon_quest","commands"]},{id:"v_cmd_hanasu",kana:"はなす",romaji:"hanasu",en:"Talk","zh-TW":"交談",themes:["dragon_quest","commands"]},{id:"v_cmd_shiraberu",kana:"しらべる",romaji:"shiraberu",en:"Search","zh-TW":"調查",themes:["dragon_quest","commands"]},{id:"v_cmd_tsuyosa",kana:"つよさ",romaji:"tsuyosa",en:"Status","zh-TW":"狀態",themes:["dragon_quest","commands"]},{id:"v_cmd_soubi",kana:"そうび",romaji:"soubi",en:"Equipment","zh-TW":"裝備",themes:["dragon_quest","commands"]},{id:"v_cmd_tsukau",kana:"つかう",romaji:"tsukau",en:"Use","zh-TW":"使用",themes:["dragon_quest","commands"]},{id:"v_cmd_irekae",kana:"いれかえ",romaji:"irekae",en:"Swap","zh-TW":"更換",themes:["dragon_quest","commands"]},{id:"v_cmd_narabikae",kana:"ならびかえ",romaji:"narabikae",en:"Reorder","zh-TW":"重新排列",themes:["dragon_quest","commands"]},{id:"v_cmd_save",kana:"セーブ",romaji:"seebu",en:"Save","zh-TW":"存檔",themes:["dragon_quest","commands"]},{id:"v_cmd_load",kana:"ロード",romaji:"roodo",en:"Load","zh-TW":"讀檔",themes:["dragon_quest","commands"]}];function tr(n,e,t){const i=n.slice();return i[6]=e[t],i}function nr(n){let e,t,i,s,a,o,r,l,c,h=n[1](n[6].meaning)+"",u,d,f,m,p;function _(){return n[3](n[6])}function k(...w){return n[4](n[6],...w)}return{c(){e=j("div"),t=j("div"),t.textContent=`${n[6].kanji}`,i=D(),s=j("div"),a=j("p"),a.textContent=`On: ${n[6].onyomi.join(", ")}`,o=D(),r=j("p"),r.textContent=`Kun: ${n[6].kunyomi.join(", ")}`,l=D(),c=j("div"),u=W(h),d=D(),v(t,"class","kanji-character svelte-p8bisk"),v(s,"class","kanji-readings svelte-p8bisk"),v(c,"class","kanji-meaning svelte-p8bisk"),v(e,"class",f="kanji-item "+(n[0].includes(n[6].id)?"mastered":"")+" svelte-p8bisk"),v(e,"role","button"),v(e,"tabindex","0")},m(w,I){L(w,e,I),g(e,t),g(e,i),g(e,s),g(s,a),g(s,o),g(s,r),g(e,l),g(e,c),g(c,u),g(e,d),m||(p=[te(e,"click",_),te(e,"keydown",k)],m=!0)},p(w,I){n=w,I&2&&h!==(h=n[1](n[6].meaning)+"")&&O(u,h),I&1&&f!==(f="kanji-item "+(n[0].includes(n[6].id)?"mastered":"")+" svelte-p8bisk")&&v(e,"class",f)},d(w){w&&R(e),m=!1,Je(p)}}}function xu(n){let e,t,i=n[1]("kanji_chart")+"",s,a,o,r=ue(Xa),l=[];for(let c=0;c<r.length;c+=1)l[c]=nr(tr(n,r,c));return{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("div");for(let c=0;c<l.length;c+=1)l[c].c();v(o,"class","kanji-grid svelte-p8bisk"),v(e,"class","kanji-chart svelte-p8bisk")},m(c,h){L(c,e,h),g(e,t),g(t,s),g(e,a),g(e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(c,[h]){if(h&2&&i!==(i=c[1]("kanji_chart")+"")&&O(s,i),h&7){r=ue(Xa);let u;for(u=0;u<r.length;u+=1){const d=tr(c,r,u);l[u]?l[u].p(d,h):(l[u]=nr(d),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},i:oe,o:oe,d(c){c&&R(e),st(l,c)}}}function Su(n,e,t){let i;ye(n,Ee,c=>t(1,i=c));let{masteredIds:s=[]}=e;const a=ls();function o(c){a("selectKanji",c),an.update(h=>(h.kanji.includes(c.id)||h.kanji.push(c.id),h))}const r=c=>o(c),l=(c,h)=>{(h.key==="Enter"||h.key===" ")&&o(c)};return n.$$set=c=>{"masteredIds"in c&&t(0,s=c.masteredIds)},[s,i,o,r,l]}class zu extends Ke{constructor(e){super(),Ue(this,e,Su,xu,Ve,{masteredIds:0})}}const ra=[{id:"h_a",kana:"あ",romaji:"a"},{id:"h_i",kana:"い",romaji:"i"},{id:"h_u",kana:"う",romaji:"u"},{id:"h_e",kana:"え",romaji:"e"},{id:"h_o",kana:"お",romaji:"o"},{id:"h_ka",kana:"か",romaji:"ka"},{id:"h_ki",kana:"き",romaji:"ki"},{id:"h_ku",kana:"く",romaji:"ku"},{id:"h_ke",kana:"け",romaji:"ke"},{id:"h_ko",kana:"こ",romaji:"ko"},{id:"h_sa",kana:"さ",romaji:"sa"},{id:"h_shi",kana:"し",romaji:"shi"},{id:"h_su",kana:"す",romaji:"su"},{id:"h_se",kana:"せ",romaji:"se"},{id:"h_so",kana:"そ",romaji:"so"},{id:"h_ta",kana:"た",romaji:"ta"},{id:"h_chi",kana:"ち",romaji:"chi"},{id:"h_tsu",kana:"つ",romaji:"tsu"},{id:"h_te",kana:"て",romaji:"te"},{id:"h_to",kana:"と",romaji:"to"},{id:"h_na",kana:"な",romaji:"na"},{id:"h_ni",kana:"に",romaji:"ni"},{id:"h_nu",kana:"ぬ",romaji:"nu"},{id:"h_ne",kana:"ね",romaji:"ne"},{id:"h_no",kana:"の",romaji:"no"},{id:"h_ha",kana:"は",romaji:"ha"},{id:"h_hi",kana:"ひ",romaji:"hi"},{id:"h_fu",kana:"ふ",romaji:"fu"},{id:"h_he",kana:"へ",romaji:"he"},{id:"h_ho",kana:"ほ",romaji:"ho"},{id:"h_ma",kana:"ま",romaji:"ma"},{id:"h_mi",kana:"み",romaji:"mi"},{id:"h_mu",kana:"む",romaji:"mu"},{id:"h_me",kana:"め",romaji:"me"},{id:"h_mo",kana:"も",romaji:"mo"},{id:"h_ya",kana:"や",romaji:"ya"},{id:"h_yu",kana:"ゆ",romaji:"yu"},{id:"h_yo",kana:"よ",romaji:"yo"},{id:"h_ra",kana:"ら",romaji:"ra"},{id:"h_ri",kana:"り",romaji:"ri"},{id:"h_ru",kana:"る",romaji:"ru"},{id:"h_re",kana:"れ",romaji:"re"},{id:"h_ro",kana:"ろ",romaji:"ro"},{id:"h_wa",kana:"わ",romaji:"wa"},{id:"h_wo",kana:"を",romaji:"wo"},{id:"h_n",kana:"ん",romaji:"n"},{id:"h_ga",kana:"が",romaji:"ga"},{id:"h_gi",kana:"ぎ",romaji:"gi"},{id:"h_gu",kana:"ぐ",romaji:"gu"},{id:"h_ge",kana:"げ",romaji:"ge"},{id:"h_go",kana:"ご",romaji:"go"},{id:"h_za",kana:"ざ",romaji:"za"},{id:"h_ji",kana:"じ",romaji:"ji"},{id:"h_zu",kana:"ず",romaji:"zu"},{id:"h_ze",kana:"ぜ",romaji:"ze"},{id:"h_zo",kana:"ぞ",romaji:"zo"},{id:"h_da",kana:"だ",romaji:"da"},{id:"h_dji",kana:"ぢ",romaji:"ji"},{id:"h_dzu",kana:"づ",romaji:"zu"},{id:"h_de",kana:"で",romaji:"de"},{id:"h_do",kana:"ど",romaji:"do"},{id:"h_ba",kana:"ば",romaji:"ba"},{id:"h_bi",kana:"び",romaji:"bi"},{id:"h_bu",kana:"ぶ",romaji:"bu"},{id:"h_be",kana:"べ",romaji:"be"},{id:"h_bo",kana:"ぼ",romaji:"bo"},{id:"h_pa",kana:"ぱ",romaji:"pa"},{id:"h_pi",kana:"ぴ",romaji:"pi"},{id:"h_pu",kana:"ぷ",romaji:"pu"},{id:"h_pe",kana:"ぺ",romaji:"pe"},{id:"h_po",kana:"ぽ",romaji:"po"},{id:"h_kya",kana:"きゃ",romaji:"kya"},{id:"h_kyu",kana:"きゅ",romaji:"kyu"},{id:"h_kyo",kana:"きょ",romaji:"kyo"},{id:"h_sha",kana:"しゃ",romaji:"sha"},{id:"h_shu",kana:"しゅ",romaji:"shu"},{id:"h_sho",kana:"しょ",romaji:"sho"},{id:"h_cha",kana:"ちゃ",romaji:"cha"},{id:"h_chu",kana:"ちゅ",romaji:"chu"},{id:"h_cho",kana:"ちょ",romaji:"cho"},{id:"h_nya",kana:"にゃ",romaji:"nya"},{id:"h_nyu",kana:"にゅ",romaji:"nyu"},{id:"h_nyo",kana:"にょ",romaji:"nyo"},{id:"h_hya",kana:"ひゃ",romaji:"hya"},{id:"h_hyu",kana:"ひゅ",romaji:"hyu"},{id:"h_hyo",kana:"ひょ",romaji:"hyo"},{id:"h_mya",kana:"みゃ",romaji:"mya"},{id:"h_myu",kana:"みゅ",romaji:"myu"},{id:"h_myo",kana:"みょ",romaji:"myo"},{id:"h_rya",kana:"りゃ",romaji:"rya"},{id:"h_ryu",kana:"りゅ",romaji:"ryu"},{id:"h_ryo",kana:"りょ",romaji:"ryo"},{id:"h_gya",kana:"ぎゃ",romaji:"gya"},{id:"h_gyu",kana:"ぎゅ",romaji:"gyu"},{id:"h_gyo",kana:"ぎょ",romaji:"gyo"},{id:"h_ja",kana:"じゃ",romaji:"ja"},{id:"h_ju",kana:"じゅ",romaji:"ju"},{id:"h_jo",kana:"じょ",romaji:"jo"},{id:"h_bya",kana:"びゃ",romaji:"bya"},{id:"h_byu",kana:"びゅ",romaji:"byu"},{id:"h_byo",kana:"びょ",romaji:"byo"},{id:"h_pya",kana:"ぴゃ",romaji:"pya"},{id:"h_pyu",kana:"ぴゅ",romaji:"pyu"},{id:"h_pyo",kana:"ぴょ",romaji:"pyo"}],la=[{id:"k_a",kana:"ア",romaji:"a"},{id:"k_i",kana:"イ",romaji:"i"},{id:"k_u",kana:"ウ",romaji:"u"},{id:"k_e",kana:"エ",romaji:"e"},{id:"k_o",kana:"オ",romaji:"o"},{id:"k_ka",kana:"カ",romaji:"ka"},{id:"k_ki",kana:"キ",romaji:"ki"},{id:"k_ku",kana:"ク",romaji:"ku"},{id:"k_ke",kana:"ケ",romaji:"ke"},{id:"k_ko",kana:"コ",romaji:"ko"},{id:"k_sa",kana:"サ",romaji:"sa"},{id:"k_shi",kana:"シ",romaji:"shi"},{id:"k_su",kana:"ス",romaji:"su"},{id:"k_se",kana:"セ",romaji:"se"},{id:"k_so",kana:"ソ",romaji:"so"},{id:"k_ta",kana:"タ",romaji:"ta"},{id:"k_chi",kana:"チ",romaji:"chi"},{id:"k_tsu",kana:"ツ",romaji:"tsu"},{id:"k_te",kana:"テ",romaji:"te"},{id:"k_to",kana:"ト",romaji:"to"},{id:"k_na",kana:"ナ",romaji:"na"},{id:"k_ni",kana:"ニ",romaji:"ni"},{id:"k_nu",kana:"ヌ",romaji:"nu"},{id:"k_ne",kana:"ネ",romaji:"ne"},{id:"k_no",kana:"ノ",romaji:"no"},{id:"k_ha",kana:"ハ",romaji:"ha"},{id:"k_hi",kana:"ヒ",romaji:"hi"},{id:"k_fu",kana:"フ",romaji:"fu"},{id:"k_he",kana:"ヘ",romaji:"he"},{id:"k_ho",kana:"ホ",romaji:"ho"},{id:"k_ma",kana:"マ",romaji:"ma"},{id:"k_mi",kana:"ミ",romaji:"mi"},{id:"k_mu",kana:"ム",romaji:"mu"},{id:"k_me",kana:"メ",romaji:"me"},{id:"k_mo",kana:"モ",romaji:"mo"},{id:"k_ya",kana:"ヤ",romaji:"ya"},{id:"k_yu",kana:"ユ",romaji:"yu"},{id:"k_yo",kana:"ヨ",romaji:"yo"},{id:"k_ra",kana:"ラ",romaji:"ra"},{id:"k_ri",kana:"リ",romaji:"ri"},{id:"k_ru",kana:"ル",romaji:"ru"},{id:"k_re",kana:"レ",romaji:"re"},{id:"k_ro",kana:"ロ",romaji:"ro"},{id:"k_wa",kana:"ワ",romaji:"wa"},{id:"k_wo",kana:"ヲ",romaji:"wo"},{id:"k_n",kana:"ン",romaji:"n"},{id:"k_ga",kana:"ガ",romaji:"ga"},{id:"k_gi",kana:"ギ",romaji:"gi"},{id:"k_gu",kana:"グ",romaji:"gu"},{id:"k_ge",kana:"ゲ",romaji:"ge"},{id:"k_go",kana:"ゴ",romaji:"go"},{id:"k_za",kana:"ザ",romaji:"za"},{id:"k_ji",kana:"ジ",romaji:"ji"},{id:"k_zu",kana:"ズ",romaji:"zu"},{id:"k_ze",kana:"ゼ",romaji:"ze"},{id:"k_zo",kana:"ゾ",romaji:"zo"},{id:"k_da",kana:"ダ",romaji:"da"},{id:"k_dji",kana:"ヂ",romaji:"ji"},{id:"k_dzu",kana:"ヅ",romaji:"zu"},{id:"k_de",kana:"デ",romaji:"de"},{id:"k_do",kana:"ド",romaji:"do"},{id:"k_ba",kana:"バ",romaji:"ba"},{id:"k_bi",kana:"ビ",romaji:"bi"},{id:"k_bu",kana:"ブ",romaji:"bu"},{id:"k_be",kana:"ベ",romaji:"be"},{id:"k_bo",kana:"ボ",romaji:"bo"},{id:"k_pa",kana:"パ",romaji:"pa"},{id:"k_pi",kana:"ピ",romaji:"pi"},{id:"k_pu",kana:"プ",romaji:"pu"},{id:"k_pe",kana:"ペ",romaji:"pe"},{id:"k_po",kana:"ポ",romaji:"po"},{id:"k_kya",kana:"キャ",romaji:"kya"},{id:"k_kyu",kana:"キュ",romaji:"kyu"},{id:"k_kyo",kana:"キョ",romaji:"kyo"},{id:"k_sha",kana:"シャ",romaji:"sha"},{id:"k_shu",kana:"シュ",romaji:"shu"},{id:"k_sho",kana:"ショ",romaji:"sho"},{id:"k_cha",kana:"チャ",romaji:"cha"},{id:"k_chu",kana:"チュ",romaji:"chu"},{id:"k_cho",kana:"チョ",romaji:"cho"},{id:"k_nya",kana:"ニャ",romaji:"nya"},{id:"k_nyu",kana:"ニュ",romaji:"nyu"},{id:"k_nyo",kana:"ニョ",romaji:"nyo"},{id:"k_hya",kana:"ヒャ",romaji:"hya"},{id:"k_hyu",kana:"ヒュ",romaji:"hyu"},{id:"k_hyo",kana:"ヒョ",romaji:"hyo"},{id:"k_mya",kana:"ミャ",romaji:"mya"},{id:"k_myu",kana:"ミュ",romaji:"myu"},{id:"k_myo",kana:"ミョ",romaji:"myo"},{id:"k_rya",kana:"リャ",romaji:"rya"},{id:"k_ryu",kana:"リュ",romaji:"ryu"},{id:"k_ryo",kana:"リョ",romaji:"ryo"},{id:"k_gya",kana:"ギャ",romaji:"gya"},{id:"k_gyu",kana:"ギュ",romaji:"gyu"},{id:"k_gyo",kana:"ギョ",romaji:"gyo"},{id:"k_ja",kana:"ジャ",romaji:"ja"},{id:"k_ju",kana:"ジュ",romaji:"ju"},{id:"k_jo",kana:"ジョ",romaji:"jo"},{id:"k_bya",kana:"ビャ",romaji:"bya"},{id:"k_byu",kana:"ビュ",romaji:"byu"},{id:"k_byo",kana:"ビョ",romaji:"byo"},{id:"k_pya",kana:"ピャ",romaji:"pya"},{id:"k_pyu",kana:"ピュ",romaji:"pyu"},{id:"k_pyo",kana:"ピョ",romaji:"pyo"}];function ir(n,e,t){const i=n.slice();return i[5]=e[t],i}function sr(n,e){let t,i,s=e[5].kana+"",a,o,r,l=e[5].romaji+"",c,h,u,d=e[2](e[5])+"",f,m;return{key:n,first:null,c(){t=j("div"),i=j("span"),a=W(s),o=D(),r=j("span"),c=W(l),h=D(),u=j("span"),f=W(d),m=D(),v(i,"class","kana-char svelte-1uxgtae"),v(r,"class","romaji svelte-1uxgtae"),v(u,"class","translation svelte-1uxgtae"),v(t,"class","vocab-item svelte-1uxgtae"),this.first=t},m(p,_){L(p,t,_),g(t,i),g(i,a),g(t,o),g(t,r),g(r,c),g(t,h),g(t,u),g(u,f),g(t,m)},p(p,_){e=p,_&1&&s!==(s=e[5].kana+"")&&O(a,s),_&1&&l!==(l=e[5].romaji+"")&&O(c,l),_&1&&d!==(d=e[2](e[5])+"")&&O(f,d)},d(p){p&&R(t)}}}function Mu(n){let e,t,i=n[1]("vocabulary_list")+"",s,a,o,r=[],l=new Map,c=ue(n[0]);const h=u=>u[5].id;for(let u=0;u<c.length;u+=1){let d=ir(n,c,u),f=h(d);l.set(f,r[u]=sr(f,d))}return{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("div");for(let u=0;u<r.length;u+=1)r[u].c();v(o,"class","grid svelte-1uxgtae"),v(e,"class","vocabulary-list svelte-1uxgtae")},m(u,d){L(u,e,d),g(e,t),g(t,s),g(e,a),g(e,o);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,null)},p(u,[d]){d&2&&i!==(i=u[1]("vocabulary_list")+"")&&O(s,i),d&5&&(c=ue(u[0]),r=hs(r,d,h,1,u,c,l,o,cs,sr,null,ir))},i:oe,o:oe,d(u){u&&R(e);for(let d=0;d<r.length;d+=1)r[d].d()}}}function Iu(n,e,t){let i,s;ye(n,Ee,l=>t(1,s=l));let{filterTheme:a="all"}=e,o=ht(Ht);Ht.subscribe(l=>o=l);function r(l){return l[o]||l.en}return n.$$set=l=>{"filterTheme"in l&&t(3,a=l.filterTheme)},n.$$.update=()=>{n.$$.dirty&8&&t(0,i=a==="all"?fi:fi.filter(l=>l.themes&&l.themes.includes(a)))},[i,s,r,a]}class Wu extends Ke{constructor(e){super(),Ue(this,e,Iu,Mu,Ve,{filterTheme:3})}}function ar(n,e,t){const i=n.slice();return i[6]=e[t],i}function or(n){let e,t=n[2](n[6])+"",i,s;return{c(){e=j("option"),i=W(t),e.__value=s=n[6],Re(e,e.__value)},m(a,o){L(a,e,o),g(e,i)},p(a,o){o&6&&t!==(t=a[2](a[6])+"")&&O(i,t),o&2&&s!==(s=a[6])&&(e.__value=s,Re(e,e.__value))},d(a){a&&R(e)}}}function Pu(n){let e,t,i=n[2]("filter_by_theme")+"",s,a,o,r,l,c=n[2]("all_themes")+"",h,u,d,f=ue(n[1]),m=[];for(let p=0;p<f.length;p+=1)m[p]=or(ar(n,f,p));return{c(){e=j("div"),t=j("label"),s=W(i),a=W(":"),o=D(),r=j("select"),l=j("option"),h=W(c);for(let p=0;p<m.length;p+=1)m[p].c();v(t,"for","theme-select"),v(t,"class","svelte-1grftv8"),l.__value="all",Re(l,l.__value),v(r,"id","theme-select"),v(r,"class","svelte-1grftv8"),n[0]===void 0&&hi(()=>n[4].call(r)),v(e,"class","vocabulary-filter svelte-1grftv8")},m(p,_){L(p,e,_),g(e,t),g(t,s),g(t,a),g(e,o),g(e,r),g(r,l),g(l,h);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(r,null);pn(r,n[0],!0),u||(d=[te(r,"change",n[3]),te(r,"change",n[4])],u=!0)},p(p,[_]){if(_&4&&i!==(i=p[2]("filter_by_theme")+"")&&O(s,i),_&4&&c!==(c=p[2]("all_themes")+"")&&O(h,c),_&6){f=ue(p[1]);let k;for(k=0;k<f.length;k+=1){const w=ar(p,f,k);m[k]?m[k].p(w,_):(m[k]=or(w),m[k].c(),m[k].m(r,null))}for(;k<m.length;k+=1)m[k].d(1);m.length=f.length}_&3&&pn(r,p[0])},i:oe,o:oe,d(p){p&&R(e),st(m,p),u=!1,Je(d)}}}function Au(n,e,t){let i;ye(n,Ee,c=>t(2,i=c));const s=ls();let{themes:a=[]}=e,{selectedTheme:o="all"}=e;function r(c){t(0,o=c.target.value),s("filterChange",o)}function l(){o=yo(this),t(0,o),t(1,a)}return n.$$set=c=>{"themes"in c&&t(1,a=c.themes),"selectedTheme"in c&&t(0,o=c.selectedTheme)},[o,a,i,r,l]}class Cu extends Ke{constructor(e){super(),Ue(this,e,Au,Pu,Ve,{themes:1,selectedTheme:0})}}function Du(){const n={masteryProgress:ht(an),gamificationProgress:ht(rn),language:ht(Ht),theme:ht(ui),selectedInterests:ht(di)},e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(t),s=document.createElement("a");s.href=i,s.download="kanjigo_progress.json",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function Ou(n){try{const e=JSON.parse(n);return e.masteryProgress&&an.set(e.masteryProgress),e.gamificationProgress&&rn.set(e.gamificationProgress),e.language&&Ht.set(e.language),e.theme&&ui.set(e.theme),e.selectedInterests&&di.set(e.selectedInterests),{success:!0}}catch(e){return console.error("Error importing user data:",e),{success:!1,error:e.message}}}function Eu(){an.set({hiragana:[],katakana:[],vocabulary:[],kanji:[]}),rn.set({currentStreak:0,longestStreak:0,lastStudyDate:null,totalPoints:0,totalStudyTime:0,dailyStudyTime:{},sessionStartTime:null}),Ht.set("en"),ui.set("system"),di.set([])}function Za(){rn.update(n=>({...n,sessionStartTime:Date.now()}))}function Gs(){rn.update(n=>{var i;if(!n.sessionStartTime)return n;const e=Math.floor((Date.now()-n.sessionStartTime)/(1e3*60)),t=new Date().toISOString().split("T")[0];return{...n,totalStudyTime:(n.totalStudyTime||0)+e,dailyStudyTime:{...n.dailyStudyTime,[t]:(((i=n.dailyStudyTime)==null?void 0:i[t])||0)+e},sessionStartTime:null}})}function Ru(){const n=ht(rn),e=Object.values(n.dailyStudyTime||{});if(e.length===0)return 0;const t=e.reduce((i,s)=>i+s,0);return Math.round(t/e.length)}function $i(n){if(n<60)return`${n}m`;const e=Math.floor(n/60),t=n%60;return t>0?`${e}h ${t}m`:`${e}h`}function Lu(n){const e=n.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),t=e[0],i=e[e.length-1];function s(a){a.key==="Tab"&&(a.shiftKey?document.activeElement===t&&(a.preventDefault(),i.focus()):document.activeElement===i&&(a.preventDefault(),t.focus())),a.key==="Escape"&&n.dispatchEvent(new CustomEvent("escape"))}return n.addEventListener("keydown",s),()=>{n.removeEventListener("keydown",s)}}function Fu(n){let e,t,i,s,a=n[1].kana+"",o,r,l,c,h=n[1].romaji+"",u,d,f;return{c(){e=j("div"),t=j("div"),i=j("div"),s=j("span"),o=W(a),r=D(),l=j("div"),c=j("span"),u=W(h),v(s,"class","kana-char svelte-19a0nql"),v(i,"class","flashcard-front svelte-19a0nql"),v(c,"class","romaji svelte-19a0nql"),v(l,"class","flashcard-back svelte-19a0nql"),v(t,"class","flashcard-inner svelte-19a0nql"),v(e,"class","flashcard svelte-19a0nql"),v(e,"role","button"),v(e,"tabindex","0"),be(e,"flipped",n[0])},m(m,p){L(m,e,p),g(e,t),g(t,i),g(i,s),g(s,o),g(t,r),g(t,l),g(l,c),g(c,u),d||(f=[te(e,"click",n[2]),te(e,"keydown",n[3])],d=!0)},p(m,[p]){p&2&&a!==(a=m[1].kana+"")&&O(o,a),p&2&&h!==(h=m[1].romaji+"")&&O(u,h),p&1&&be(e,"flipped",m[0])},i:oe,o:oe,d(m){m&&R(e),d=!1,Je(f)}}}function Bu(n,e,t){let{kana:i={}}=e,{flipped:s=!1}=e;const a=ls();function o(){t(0,s=!s),a("flip",{flipped:s})}const r=l=>{(l.key==="Enter"||l.key===" ")&&o()};return n.$$set=l=>{"kana"in l&&t(1,i=l.kana),"flipped"in l&&t(0,s=l.flipped)},[s,i,o,r]}class Nu extends Ke{constructor(e){super(),Ue(this,e,Bu,Fu,Ve,{kana:1,flipped:0})}}function qu(n){let e,t=n[3]("quiz_complete")+"",i,s,a,o=n[3]("start_new_quiz")+"",r,l,c;return{c(){e=j("p"),i=W(t),s=D(),a=j("button"),r=W(o)},m(h,u){L(h,e,u),g(e,i),L(h,s,u),L(h,a,u),g(a,r),l||(c=te(a,"click",n[4]),l=!0)},p(h,u){u&8&&t!==(t=h[3]("quiz_complete")+"")&&O(i,t),u&8&&o!==(o=h[3]("start_new_quiz")+"")&&O(r,o)},i:oe,o:oe,d(h){h&&(R(e),R(s),R(a)),l=!1,c()}}}function Vu(n){let e,t,i,s,a;function o(c){n[12](c)}let r={kana:n[1]};n[2]!==void 0&&(r.flipped=n[2]),e=new Nu({props:r}),_n.push(()=>Bc(e,"flipped",o)),e.$on("flip",n[5]);let l=n[2]&&rr(n);return{c(){$e(e.$$.fragment),i=D(),l&&l.c(),s=on()},m(c,h){Ne(e,c,h),L(c,i,h),l&&l.m(c,h),L(c,s,h),a=!0},p(c,h){const u={};h&2&&(u.kana=c[1]),!t&&h&4&&(t=!0,u.flipped=c[2],Lc(()=>t=!1)),e.$set(u),c[2]?l?l.p(c,h):(l=rr(c),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i(c){a||(le(e.$$.fragment,c),a=!0)},o(c){ce(e.$$.fragment,c),a=!1},d(c){c&&(R(i),R(s)),qe(e,c),l&&l.d(c)}}}function rr(n){let e,t,i=n[3]("i_knew_it")+"",s,a,o,r=n[3]("i_didnt_know")+"",l,c,h;return{c(){e=j("div"),t=j("button"),s=W(i),a=D(),o=j("button"),l=W(r),v(t,"class","svelte-17m1ot2"),v(o,"class","svelte-17m1ot2"),v(e,"class","quiz-controls svelte-17m1ot2")},m(u,d){L(u,e,d),g(e,t),g(t,s),g(e,a),g(e,o),g(o,l),c||(h=[te(t,"click",n[6]),te(o,"click",n[7])],c=!0)},p(u,d){d&8&&i!==(i=u[3]("i_knew_it")+"")&&O(s,i),d&8&&r!==(r=u[3]("i_didnt_know")+"")&&O(l,r)},d(u){u&&R(e),c=!1,Je(h)}}}function Hu(n){let e,t,i=n[3]("quiz")+"",s,a,o,r,l,c,h=n[3]("hiragana_quiz")+"",u,d,f,m,p,_=n[3]("katakana_quiz")+"",k,w,I,S,T,C=n[3]("mixed_quiz")+"",A,E,B,N,U,q,Z,H;const V=[Vu,qu],Y=[];function ee(Q,se){return Q[1]?0:1}return B=ee(n),N=Y[B]=V[B](n),q=hu(n[9][0]),{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("div"),r=j("label"),l=j("input"),c=D(),u=W(h),d=D(),f=j("label"),m=j("input"),p=D(),k=W(_),w=D(),I=j("label"),S=j("input"),T=D(),A=W(C),E=D(),N.c(),v(l,"type","radio"),v(l,"name","quizType"),l.__value="hiragana",Re(l,l.__value),v(l,"class","svelte-17m1ot2"),v(r,"class","svelte-17m1ot2"),v(m,"type","radio"),v(m,"name","quizType"),m.__value="katakana",Re(m,m.__value),v(m,"class","svelte-17m1ot2"),v(f,"class","svelte-17m1ot2"),v(S,"type","radio"),v(S,"name","quizType"),S.__value="mixed",Re(S,S.__value),v(S,"class","svelte-17m1ot2"),v(I,"class","svelte-17m1ot2"),v(o,"class","quiz-type-selection svelte-17m1ot2"),v(e,"class","kana-quiz svelte-17m1ot2"),q.p(l,m,S)},m(Q,se){L(Q,e,se),g(e,t),g(t,s),g(e,a),g(e,o),g(o,r),g(r,l),l.checked=l.__value===n[0],g(r,c),g(r,u),g(o,d),g(o,f),g(f,m),m.checked=m.__value===n[0],g(f,p),g(f,k),g(o,w),g(o,I),g(I,S),S.checked=S.__value===n[0],g(I,T),g(I,A),g(e,E),Y[B].m(e,null),U=!0,Z||(H=[te(l,"change",n[8]),te(m,"change",n[10]),te(S,"change",n[11])],Z=!0)},p(Q,[se]){(!U||se&8)&&i!==(i=Q[3]("quiz")+"")&&O(s,i),se&1&&(l.checked=l.__value===Q[0]),(!U||se&8)&&h!==(h=Q[3]("hiragana_quiz")+"")&&O(u,h),se&1&&(m.checked=m.__value===Q[0]),(!U||se&8)&&_!==(_=Q[3]("katakana_quiz")+"")&&O(k,_),se&1&&(S.checked=S.__value===Q[0]),(!U||se&8)&&C!==(C=Q[3]("mixed_quiz")+"")&&O(A,C);let we=B;B=ee(Q),B===we?Y[B].p(Q,se):(Ct(),ce(Y[we],1,1,()=>{Y[we]=null}),Dt(),N=Y[B],N?N.p(Q,se):(N=Y[B]=V[B](Q),N.c()),le(N,1),N.m(e,null))},i(Q){U||(le(N),U=!0)},o(Q){ce(N),U=!1},d(Q){Q&&R(e),Y[B].d(),q.r(),Z=!1,Je(H)}}}function $u(n){for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n}function Uu(n,e,t){let i;ye(n,Ee,I=>t(3,i=I));let s=[...ra,...la],a=[],o=null,r=!1,l="mixed";gn(()=>{Za(),c()}),jo(()=>{Gs()});function c(){let I=[];l==="hiragana"?I=ra:l==="katakana"?I=la:I=s,a=$u([...I]),h()}function h(){a.length>0?(t(1,o=a.pop()),t(2,r=!1)):(t(1,o=null),alert(i("quiz_finished")))}function u(){t(2,r=!0)}function d(){o&&(an.update(I=>{const S=o.type||(o.id.startsWith("h_")?"hiragana":"katakana");return I[S].includes(o.id)||I[S].push(o.id),I}),rn.update(I=>(I.totalPoints+=10,I))),h()}function f(){h()}const m=[[]];function p(){l=this.__value,t(0,l)}function _(){l=this.__value,t(0,l)}function k(){l=this.__value,t(0,l)}function w(I){r=I,t(2,r)}return n.$$.update=()=>{n.$$.dirty&1&&l&&c()},[l,o,r,i,c,u,d,f,p,m,_,k,w]}class Ku extends Ke{constructor(e){super(),Ue(this,e,Uu,Hu,Ve,{})}}const it=[];for(let n=0;n<256;++n)it.push((n+256).toString(16).slice(1));function Gu(n,e=0){return(it[n[e+0]]+it[n[e+1]]+it[n[e+2]]+it[n[e+3]]+"-"+it[n[e+4]]+it[n[e+5]]+"-"+it[n[e+6]]+it[n[e+7]]+"-"+it[n[e+8]]+it[n[e+9]]+"-"+it[n[e+10]]+it[n[e+11]]+it[n[e+12]]+it[n[e+13]]+it[n[e+14]]+it[n[e+15]]).toLowerCase()}let Aa;const Yu=new Uint8Array(16);function Ju(){if(!Aa){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Aa=crypto.getRandomValues.bind(crypto)}return Aa(Yu)}const Xu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lr={randomUUID:Xu};function Zu(n,e,t){var s;if(lr.randomUUID&&!n)return lr.randomUUID();n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??Ju();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Gu(i)}function cr(n,e,t){const i=n.slice();return i[28]=e[t],i}function hr(n,e,t){const i=n.slice();return i[31]=e[t],i}function ur(n,e,t){const i=n.slice();return i[31]=e[t],i}function Qu(n){let e,t,i=n[11]("new_note")+"",s,a,o,r=n[11]("export_all_notes")+"",l,c,h,u,d,f,m,p,_=n[2].length>0&&dr(n);function k(S,T){if(T[0]&5&&(d=null),S[9].length>0)return id;if(d==null&&(d=!!(S[0].trim()&&S[2].length>0)),d)return nd;if(S[2].length===0)return td}let w=k(n,[-1,-1]),I=w&&w(n);return{c(){e=j("div"),t=j("button"),s=W(i),a=D(),o=j("button"),l=W(r),h=D(),_&&_.c(),u=D(),I&&I.c(),f=on(),o.disabled=c=!n[3].length,v(e,"class","notes-list-header svelte-q3n1sd")},m(S,T){L(S,e,T),g(e,t),g(t,s),g(e,a),g(e,o),g(o,l),L(S,h,T),_&&_.m(S,T),L(S,u,T),I&&I.m(S,T),L(S,f,T),m||(p=[te(t,"click",n[12]),te(o,"click",n[19])],m=!0)},p(S,T){T[0]&2048&&i!==(i=S[11]("new_note")+"")&&O(s,i),T[0]&2048&&r!==(r=S[11]("export_all_notes")+"")&&O(l,r),T[0]&8&&c!==(c=!S[3].length)&&(o.disabled=c),S[2].length>0?_?_.p(S,T):(_=dr(S),_.c(),_.m(u.parentNode,u)):_&&(_.d(1),_=null),w===(w=k(S,T))&&I?I.p(S,T):(I&&I.d(1),I=w&&w(S),I&&(I.c(),I.m(f.parentNode,f)))},d(S){S&&(R(e),R(h),R(u),R(f)),_&&_.d(S),I&&I.d(S),m=!1,Je(p)}}}function ed(n){let e,t,i=(n[5]?n[11]("edit_note"):n[11]("new_note"))+"",s,a,o,r,l,c,h,u,d,f,m,p,_,k=n[11]("save_note")+"",w,I,S,T=n[11]("cancel")+"",C,A,E;return{c(){e=j("div"),t=j("h3"),s=W(i),a=D(),o=j("input"),l=D(),c=j("textarea"),u=D(),d=j("input"),m=D(),p=j("div"),_=j("button"),w=W(k),I=D(),S=j("button"),C=W(T),v(o,"type","text"),v(o,"placeholder",r=n[11]("note_title_placeholder")),v(o,"class","svelte-q3n1sd"),v(c,"placeholder",h=n[11]("note_content_placeholder")),v(c,"class","svelte-q3n1sd"),v(d,"type","text"),v(d,"placeholder",f=n[11]("tags_label")),v(d,"class","tags-input svelte-q3n1sd"),v(S,"class","cancel-button svelte-q3n1sd"),v(p,"class","editor-actions svelte-q3n1sd"),v(e,"class","note-editor svelte-q3n1sd")},m(B,N){L(B,e,N),g(e,t),g(t,s),g(e,a),g(e,o),Re(o,n[6]),g(e,l),g(e,c),Re(c,n[7]),g(e,u),g(e,d),Re(d,n[8]),g(e,m),g(e,p),g(p,_),g(_,w),g(p,I),g(p,S),g(S,C),A||(E=[te(o,"input",n[20]),te(c,"input",n[21]),te(d,"input",n[22]),te(_,"click",n[14]),te(S,"click",n[16])],A=!0)},p(B,N){N[0]&2080&&i!==(i=(B[5]?B[11]("edit_note"):B[11]("new_note"))+"")&&O(s,i),N[0]&2048&&r!==(r=B[11]("note_title_placeholder"))&&v(o,"placeholder",r),N[0]&64&&o.value!==B[6]&&Re(o,B[6]),N[0]&2048&&h!==(h=B[11]("note_content_placeholder"))&&v(c,"placeholder",h),N[0]&128&&Re(c,B[7]),N[0]&2048&&f!==(f=B[11]("tags_label"))&&v(d,"placeholder",f),N[0]&256&&d.value!==B[8]&&Re(d,B[8]),N[0]&2048&&k!==(k=B[11]("save_note")+"")&&O(w,k),N[0]&2048&&T!==(T=B[11]("cancel")+"")&&O(C,T)},d(B){B&&R(e),A=!1,Je(E)}}}function dr(n){let e,t,i,s,a,o,r=n[0].trim(),l,c,h,u=r&&fr(n),d=n[10].length>0&&mr(n);return{c(){e=j("div"),t=j("div"),i=j("input"),o=D(),u&&u.c(),l=D(),d&&d.c(),v(i,"type","text"),v(i,"placeholder",s=n[11]("search_notes")),v(i,"class","search-input svelte-q3n1sd"),v(i,"aria-label",a=n[11]("search_notes")),v(t,"class","search-container svelte-q3n1sd"),v(e,"class","search-filter-container svelte-q3n1sd")},m(f,m){L(f,e,m),g(e,t),g(t,i),Re(i,n[0]),g(t,o),u&&u.m(t,null),g(e,l),d&&d.m(e,null),c||(h=te(i,"input",n[23]),c=!0)},p(f,m){m[0]&2048&&s!==(s=f[11]("search_notes"))&&v(i,"placeholder",s),m[0]&2048&&a!==(a=f[11]("search_notes"))&&v(i,"aria-label",a),m[0]&1&&i.value!==f[0]&&Re(i,f[0]),m[0]&1&&(r=f[0].trim()),r?u?u.p(f,m):(u=fr(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null),f[10].length>0?d?d.p(f,m):(d=mr(f),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(f){f&&R(e),u&&u.d(),d&&d.d(),c=!1,h()}}}function fr(n){let e,t,i,s,a;return{c(){e=j("button"),t=W("×"),v(e,"class","clear-search-button svelte-q3n1sd"),v(e,"aria-label",i=n[11]("clear_search"))},m(o,r){L(o,e,r),g(e,t),s||(a=te(e,"click",n[17]),s=!0)},p(o,r){r[0]&2048&&i!==(i=o[11]("clear_search"))&&v(e,"aria-label",i)},d(o){o&&R(e),s=!1,a()}}}function mr(n){let e,t,i,s=n[11]("all_tags")+"",a,o,r,l,c,h=ue(n[10]),u=[];for(let f=0;f<h.length;f+=1)u[f]=pr(ur(n,h,f));let d=n[1]&&gr(n);return{c(){e=j("div"),t=j("select"),i=j("option"),a=W(s);for(let f=0;f<u.length;f+=1)u[f].c();r=D(),d&&d.c(),i.__value="",Re(i,i.__value),v(t,"class","tag-filter svelte-q3n1sd"),v(t,"aria-label",o=n[11]("filter_by_tag")),n[1]===void 0&&hi(()=>n[24].call(t)),v(e,"class","tag-filter-container svelte-q3n1sd")},m(f,m){L(f,e,m),g(e,t),g(t,i),g(i,a);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);pn(t,n[1],!0),g(e,r),d&&d.m(e,null),l||(c=te(t,"change",n[24]),l=!0)},p(f,m){if(m[0]&2048&&s!==(s=f[11]("all_tags")+"")&&O(a,s),m[0]&1024){h=ue(f[10]);let p;for(p=0;p<h.length;p+=1){const _=ur(f,h,p);u[p]?u[p].p(_,m):(u[p]=pr(_),u[p].c(),u[p].m(t,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=h.length}m[0]&2048&&o!==(o=f[11]("filter_by_tag"))&&v(t,"aria-label",o),m[0]&1026&&pn(t,f[1]),f[1]?d?d.p(f,m):(d=gr(f),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(f){f&&R(e),st(u,f),d&&d.d(),l=!1,c()}}}function pr(n){let e,t=n[31]+"",i,s;return{c(){e=j("option"),i=W(t),e.__value=s=n[31],Re(e,e.__value)},m(a,o){L(a,e,o),g(e,i)},p(a,o){o[0]&1024&&t!==(t=a[31]+"")&&O(i,t),o[0]&1024&&s!==(s=a[31])&&(e.__value=s,Re(e,e.__value))},d(a){a&&R(e)}}}function gr(n){let e,t,i;return{c(){e=j("button"),e.textContent="×",v(e,"class","clear-tag-button svelte-q3n1sd"),v(e,"aria-label","Clear tag filter")},m(s,a){L(s,e,a),t||(i=te(e,"click",n[18]),t=!0)},p:oe,d(s){s&&R(e),t=!1,i()}}}function td(n){let e,t=n[11]("no_notes_yet")+"",i;return{c(){e=j("p"),i=W(t),v(e,"class","no-notes-message svelte-q3n1sd")},m(s,a){L(s,e,a),g(e,i)},p(s,a){a[0]&2048&&t!==(t=s[11]("no_notes_yet")+"")&&O(i,t)},d(s){s&&R(e)}}}function nd(n){let e,t=n[11]("no_search_results")+"",i;return{c(){e=j("p"),i=W(t),v(e,"class","no-results-message svelte-q3n1sd")},m(s,a){L(s,e,a),g(e,i)},p(s,a){a[0]&2048&&t!==(t=s[11]("no_search_results")+"")&&O(i,t)},d(s){s&&R(e)}}}function id(n){let e,t=[],i=new Map,s=ue(n[9]);const a=o=>o[28].id;for(let o=0;o<s.length;o+=1){let r=cr(n,s,o),l=a(r);i.set(l,t[o]=br(l,r))}return{c(){e=j("ul");for(let o=0;o<t.length;o+=1)t[o].c();v(e,"class","notes-list svelte-q3n1sd")},m(o,r){L(o,e,r);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,r){r[0]&43522&&(s=ue(o[9]),t=hs(t,r,a,1,o,s,i,e,cs,br,null,cr))},d(o){o&&R(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function _r(n){let e,t=ue(n[28].tags),i=[];for(let s=0;s<t.length;s+=1)i[s]=kr(hr(n,t,s));return{c(){e=j("div");for(let s=0;s<i.length;s+=1)i[s].c();v(e,"class","note-tags svelte-q3n1sd")},m(s,a){L(s,e,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,a){if(a[0]&514){t=ue(s[28].tags);let o;for(o=0;o<t.length;o+=1){const r=hr(s,t,o);i[o]?i[o].p(r,a):(i[o]=kr(r),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(s){s&&R(e),st(i,s)}}}function kr(n){let e,t=n[31]+"",i,s,a,o,r;function l(){return n[25](n[31])}return{c(){e=j("button"),i=W(t),s=D(),v(e,"class","tag-badge svelte-q3n1sd"),v(e,"aria-label",a="Filter by tag: "+n[31])},m(c,h){L(c,e,h),g(e,i),g(e,s),o||(r=te(e,"click",l),o=!0)},p(c,h){n=c,h[0]&512&&t!==(t=n[31]+"")&&O(i,t),h[0]&512&&a!==(a="Filter by tag: "+n[31])&&v(e,"aria-label",a)},d(c){c&&R(e),o=!1,r()}}}function br(n,e){let t,i,s,a=e[28].title+"",o,r,l,c=new Date(e[28].date).toLocaleDateString()+"",h,u,d,f,m=e[28].content.substring(0,100)+"",p,_=e[28].content.length>100?"...":"",k,w,I,S,T=e[11]("edit")+"",C,A,E,B=e[11]("delete")+"",N,U,q,Z,H=e[28].tags&&e[28].tags.length>0&&_r(e);function V(){return e[26](e[28])}function Y(){return e[27](e[28])}return{key:n,first:null,c(){t=j("li"),i=j("div"),s=j("h4"),o=W(a),r=D(),l=j("p"),h=W(c),u=D(),H&&H.c(),d=D(),f=j("p"),p=W(m),k=W(_),w=D(),I=j("div"),S=j("button"),C=W(T),A=D(),E=j("button"),N=W(B),U=D(),v(s,"class","svelte-q3n1sd"),v(l,"class","note-date svelte-q3n1sd"),v(f,"class","note-snippet svelte-q3n1sd"),v(i,"class","note-info svelte-q3n1sd"),v(S,"class","svelte-q3n1sd"),v(E,"class","delete-button svelte-q3n1sd"),v(I,"class","note-actions svelte-q3n1sd"),v(t,"class","note-item svelte-q3n1sd"),this.first=t},m(ee,Q){L(ee,t,Q),g(t,i),g(i,s),g(s,o),g(i,r),g(i,l),g(l,h),g(i,u),H&&H.m(i,null),g(i,d),g(i,f),g(f,p),g(f,k),g(t,w),g(t,I),g(I,S),g(S,C),g(I,A),g(I,E),g(E,N),g(t,U),q||(Z=[te(S,"click",V),te(E,"click",Y)],q=!0)},p(ee,Q){e=ee,Q[0]&512&&a!==(a=e[28].title+"")&&O(o,a),Q[0]&512&&c!==(c=new Date(e[28].date).toLocaleDateString()+"")&&O(h,c),e[28].tags&&e[28].tags.length>0?H?H.p(e,Q):(H=_r(e),H.c(),H.m(i,d)):H&&(H.d(1),H=null),Q[0]&512&&m!==(m=e[28].content.substring(0,100)+"")&&O(p,m),Q[0]&512&&_!==(_=e[28].content.length>100?"...":"")&&O(k,_),Q[0]&2048&&T!==(T=e[11]("edit")+"")&&O(C,T),Q[0]&2048&&B!==(B=e[11]("delete")+"")&&O(N,B)},d(ee){ee&&R(t),H&&H.d(),q=!1,Je(Z)}}}function sd(n){let e;function t(a,o){return a[4]?ed:Qu}let i=t(n),s=i(n);return{c(){e=j("div"),s.c(),v(e,"class","notes-container svelte-q3n1sd")},m(a,o){L(a,e,o),s.m(e,null)},p(a,o){i===(i=t(a))&&s?s.p(a,o):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},i:oe,o:oe,d(a){a&&R(e),s.d()}}}function ad(n,e,t){let i,s,a,o,r;ye(n,Pa,V=>t(3,o=V)),ye(n,Ee,V=>t(11,r=V));let l=!1,c=null,h="",u="",d="",f="",m="";function p(){t(5,c=null),t(6,h=""),t(7,u=""),t(8,d=""),t(4,l=!0)}function _(V){t(5,c=V),t(6,h=V.title),t(7,u=V.content),t(8,d=V.tags?V.tags.join(", "):""),t(4,l=!0)}function k(){if(!h.trim()||!u.trim()){alert(r("note_empty_warning"));return}const V=new Date,Y=d.split(",").map(Q=>Q.trim()).filter(Q=>Q.length>0),ee={id:c?c.id:Zu(),title:h.trim(),content:u.trim(),tags:Y,date:V.toISOString()};Pa.update(Q=>c?Q.map(se=>se.id===ee.id?ee:se):[...Q,ee]),t(4,l=!1),t(5,c=null),t(6,h=""),t(7,u=""),t(8,d="")}function w(V){confirm(r("confirm_delete_note"))&&Pa.update(Y=>Y.filter(ee=>ee.id!==V))}function I(){t(4,l=!1),t(5,c=null),t(6,h=""),t(7,u=""),t(8,d="")}function S(){t(0,f="")}function T(){t(1,m="")}function C(){const Y=JSON.stringify(o,null,2),ee=new Blob([Y],{type:"application/json"}),Q=URL.createObjectURL(ee),se=document.createElement("a");se.href=Q,se.download="kanjigo_notes.json",document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(Q),alert(Ee("notes_export_started"))}function A(){h=this.value,t(6,h)}function E(){u=this.value,t(7,u)}function B(){d=this.value,t(8,d)}function N(){f=this.value,t(0,f)}function U(){m=yo(this),t(1,m),t(10,s),t(2,i),t(3,o)}const q=V=>t(1,m=V),Z=V=>_(V),H=V=>w(V.id);return n.$$.update=()=>{n.$$.dirty[0]&8&&t(2,i=Array.isArray(o)?o.sort((V,Y)=>new Date(Y.date)-new Date(V.date)):[]),n.$$.dirty[0]&4&&t(10,s=[...new Set(i.flatMap(V=>V.tags||[]))].sort()),n.$$.dirty[0]&7&&t(9,a=i.filter(V=>{const Y=!f.trim()||V.title.toLowerCase().includes(f.toLowerCase())||V.content.toLowerCase().includes(f.toLowerCase())||V.tags&&V.tags.some(Q=>Q.toLowerCase().includes(f.toLowerCase())),ee=!m||V.tags&&V.tags.includes(m);return Y&&ee}))},[f,m,i,o,l,c,h,u,d,a,s,r,p,_,k,w,I,S,T,C,A,E,B,N,U,q,Z,H]}class od extends Ke{constructor(e){super(),Ue(this,e,ad,sd,Ve,{},null,[-1,-1])}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function us(n){return n+.5|0}const hn=(n,e,t)=>Math.max(Math.min(n,t),e);function Li(n){return hn(us(n*2.55),0,255)}function mn(n){return hn(us(n*255),0,255)}function Qt(n){return hn(us(n/2.55)/100,0,1)}function vr(n){return hn(us(n*100),0,100)}const jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qa=[..."0123456789ABCDEF"],rd=n=>Qa[n&15],ld=n=>Qa[(n&240)>>4]+Qa[n&15],Ws=n=>(n&240)>>4===(n&15),cd=n=>Ws(n.r)&&Ws(n.g)&&Ws(n.b)&&Ws(n.a);function hd(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&jt[n[1]]*17,g:255&jt[n[2]]*17,b:255&jt[n[3]]*17,a:e===5?jt[n[4]]*17:255}:(e===7||e===9)&&(t={r:jt[n[1]]<<4|jt[n[2]],g:jt[n[3]]<<4|jt[n[4]],b:jt[n[5]]<<4|jt[n[6]],a:e===9?jt[n[7]]<<4|jt[n[8]]:255})),t}const ud=(n,e)=>n<255?e(n):"";function dd(n){var e=cd(n)?rd:ld;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ud(n.a,e):void 0}const fd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vc(n,e,t){const i=e*Math.min(t,1-t),s=(a,o=(a+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function md(n,e,t){const i=(s,a=(s+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function pd(n,e,t){const i=Vc(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function gd(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function To(n){const t=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(t,i,s),o=Math.min(t,i,s),r=(a+o)/2;let l,c,h;return a!==o&&(h=a-o,c=r>.5?h/(2-a-o):h/(a+o),l=gd(t,i,s,h,a),l=l*60+.5),[l|0,c||0,r]}function xo(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(mn)}function So(n,e,t){return xo(Vc,n,e,t)}function _d(n,e,t){return xo(pd,n,e,t)}function kd(n,e,t){return xo(md,n,e,t)}function Hc(n){return(n%360+360)%360}function bd(n){const e=fd.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Li(+e[5]):mn(+e[5]));const s=Hc(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=_d(s,a,o):e[1]==="hsv"?i=kd(s,a,o):i=So(s,a,o),{r:i[0],g:i[1],b:i[2],a:t}}function vd(n,e){var t=To(n);t[0]=Hc(t[0]+e),t=So(t),n.r=t[0],n.g=t[1],n.b=t[2]}function yd(n){if(!n)return;const e=To(n),t=e[0],i=vr(e[1]),s=vr(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Qt(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const yr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wd(){const n={},e=Object.keys(wr),t=Object.keys(yr);let i,s,a,o,r;for(i=0;i<e.length;i++){for(o=r=e[i],s=0;s<t.length;s++)a=t[s],r=r.replace(a,yr[a]);a=parseInt(wr[o],16),n[r]=[a>>16&255,a>>8&255,a&255]}return n}let Ps;function jd(n){Ps||(Ps=wd(),Ps.transparent=[0,0,0,0]);const e=Ps[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Td=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xd(n){const e=Td.exec(n);let t=255,i,s,a;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Li(o):hn(o*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?Li(i):hn(i,0,255)),s=255&(e[4]?Li(s):hn(s,0,255)),a=255&(e[6]?Li(a):hn(a,0,255)),{r:i,g:s,b:a,a:t}}}function Sd(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Qt(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ca=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,si=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function zd(n,e,t){const i=si(Qt(n.r)),s=si(Qt(n.g)),a=si(Qt(n.b));return{r:mn(Ca(i+t*(si(Qt(e.r))-i))),g:mn(Ca(s+t*(si(Qt(e.g))-s))),b:mn(Ca(a+t*(si(Qt(e.b))-a))),a:n.a+t*(e.a-n.a)}}function As(n,e,t){if(n){let i=To(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=So(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function $c(n,e){return n&&Object.assign(e||{},n)}function jr(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=mn(n[3]))):(e=$c(n,{r:0,g:0,b:0,a:1}),e.a=mn(e.a)),e}function Md(n){return n.charAt(0)==="r"?xd(n):bd(n)}class es{constructor(e){if(e instanceof es)return e;const t=typeof e;let i;t==="object"?i=jr(e):t==="string"&&(i=hd(e)||jd(e)||Md(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=$c(this._rgb);return e&&(e.a=Qt(e.a)),e}set rgb(e){this._rgb=jr(e)}rgbString(){return this._valid?Sd(this._rgb):void 0}hexString(){return this._valid?dd(this._rgb):void 0}hslString(){return this._valid?yd(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let a;const o=t===a?.5:t,r=2*o-1,l=i.a-s.a,c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;a=1-c,i.r=255&c*i.r+a*s.r+.5,i.g=255&c*i.g+a*s.g+.5,i.b=255&c*i.b+a*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=zd(this._rgb,e._rgb,t)),this}clone(){return new es(this.rgb)}alpha(e){return this._rgb.a=mn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=us(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return As(this._rgb,2,e),this}darken(e){return As(this._rgb,2,-e),this}saturate(e){return As(this._rgb,1,e),this}desaturate(e){return As(this._rgb,1,-e),this}rotate(e){return vd(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yt(){}const Id=(()=>{let n=0;return()=>n++})();function ke(n){return n==null}function Le(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ve(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function He(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function _t(n,e){return He(n)?n:e}function he(n,e){return typeof n>"u"?e:n}const Wd=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Uc=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Pe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ze(n,e,t,i){let s,a,o;if(Le(n))for(a=n.length,s=0;s<a;s++)e.call(t,n[s],s);else if(ve(n))for(o=Object.keys(n),a=o.length,s=0;s<a;s++)e.call(t,n[o[s]],o[s])}function ca(n,e){let t,i,s,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],a=e[t],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function ha(n){if(Le(n))return n.map(ha);if(ve(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=ha(n[t[s]]);return e}return n}function Kc(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Pd(n,e,t,i){if(!Kc(n))return;const s=e[n],a=t[n];ve(s)&&ve(a)?ts(s,a,i):e[n]=ha(a)}function ts(n,e,t){const i=Le(e)?e:[e],s=i.length;if(!ve(n))return n;t=t||{};const a=t.merger||Pd;let o;for(let r=0;r<s;++r){if(o=i[r],!ve(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)a(l[c],n,o,t)}return n}function Ui(n,e){return ts(n,e,{merger:Ad})}function Ad(n,e,t){if(!Kc(n))return;const i=e[n],s=t[n];ve(i)&&ve(s)?Ui(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ha(s))}const Tr={"":n=>n,x:n=>n.x,y:n=>n.y};function Cd(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Dd(n){const e=Cd(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function kn(n,e){return(Tr[e]||(Tr[e]=Dd(e)))(n)}function zo(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ns=n=>typeof n<"u",bn=n=>typeof n=="function",xr=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Od(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const je=Math.PI,De=2*je,Ed=De+je,ua=Number.POSITIVE_INFINITY,Rd=je/180,Ye=je/2,Sn=je/4,Sr=je*2/3,un=Math.log10,Vt=Math.sign;function Ki(n,e,t){return Math.abs(n-e)<t}function zr(n){const e=Math.round(n);n=Ki(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(un(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Ld(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,a)=>s-a).pop(),e}function Fd(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function mi(n){return!Fd(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Bd(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Gc(n,e,t){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Wt(n){return n*(je/180)}function Mo(n){return n*(180/je)}function Mr(n){if(!He(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Yc(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*je&&(a+=De),{angle:a,distance:s}}function eo(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Nd(n,e){return(n-e+Ed)%De-je}function ot(n){return(n%De+De)%De}function is(n,e,t,i){const s=ot(n),a=ot(e),o=ot(t),r=ot(a-s),l=ot(o-s),c=ot(s-a),h=ot(s-o);return s===a||s===o||i&&a===o||r>l&&c<h}function et(n,e,t){return Math.max(e,Math.min(t,n))}function qd(n){return et(n,-32768,32767)}function tn(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Io(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,t(a)?s=a:i=a;return{lo:s,hi:i}}const nn=(n,e,t,i)=>Io(n,t,i?s=>{const a=n[s][e];return a<t||a===t&&n[s+1][e]===t}:s=>n[s][e]<t),Vd=(n,e,t)=>Io(n,t,i=>n[i][e]>=t);function Hd(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const Jc=["push","pop","shift","splice","unshift"];function $d(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Jc.forEach(t=>{const i="_onData"+zo(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const o=s.apply(this,a);return n._chartjs.listeners.forEach(r=>{typeof r[i]=="function"&&r[i](...a)}),o}})})}function Ir(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Jc.forEach(a=>{delete n[a]}),delete n._chartjs)}function Xc(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Zc=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Qc(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,Zc.call(window,()=>{i=!1,n.apply(e,t)}))}}function Ud(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Wo=n=>n==="start"?"left":n==="end"?"right":"center",at=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,Kd=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function eh(n,e,t){const i=e.length;let s=0,a=i;if(n._sorted){const{iScale:o,vScale:r,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:u,max:d,minDefined:f,maxDefined:m}=o.getUserBounds();if(f){if(s=Math.min(nn(l,h,u).lo,t?i:nn(e,h,o.getPixelForValue(u)).lo),c){const p=l.slice(0,s+1).reverse().findIndex(_=>!ke(_[r.axis]));s-=Math.max(0,p)}s=et(s,0,i-1)}if(m){let p=Math.max(nn(l,o.axis,d,!0).hi+1,t?0:nn(e,h,o.getPixelForValue(d),!0).hi+1);if(c){const _=l.slice(p-1).findIndex(k=>!ke(k[r.axis]));p+=Math.max(0,_)}a=et(p,s,i)-s}else a=i-s}return{start:s,count:a}}function th(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),a}const Cs=n=>n===0||n===1,Wr=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*De/t)),Pr=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*De/t)+1,Gi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ye)+1,easeOutSine:n=>Math.sin(n*Ye),easeInOutSine:n=>-.5*(Math.cos(je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cs(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cs(n)?n:Wr(n,.075,.3),easeOutElastic:n=>Cs(n)?n:Pr(n,.075,.3),easeInOutElastic(n){return Cs(n)?n:n<.5?.5*Wr(n*2,.1125,.45):.5+.5*Pr(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Gi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gi.easeInBounce(n*2)*.5:Gi.easeOutBounce(n*2-1)*.5+.5};function Po(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ar(n){return Po(n)?n:new es(n)}function Da(n){return Po(n)?n:new es(n).saturate(.5).darken(.1).hexString()}const Gd=["x","y","borderWidth","radius","tension"],Yd=["color","borderColor","backgroundColor"];function Jd(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Yd},numbers:{type:"number",properties:Gd}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Xd(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cr=new Map;function Zd(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Cr.get(t);return i||(i=new Intl.NumberFormat(n,e),Cr.set(t,i)),i}function ds(n,e,t){return Zd(e,t).format(n)}const nh={values(n){return Le(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),a=Qd(n,t)}const o=un(Math.abs(a)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),ds(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(un(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?nh.numeric.call(this,n,e,t):""}};function Qd(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var va={formatters:nh};function ef(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:va.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Rn=Object.create(null),to=Object.create(null);function Yi(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function Oa(n,e,t){return typeof e=="string"?ts(Yi(n,e),t):ts(Yi(n,""),e)}class tf{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Da(s.backgroundColor),this.hoverBorderColor=(i,s)=>Da(s.borderColor),this.hoverColor=(i,s)=>Da(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Oa(this,e,t)}get(e){return Yi(this,e)}describe(e,t){return Oa(to,e,t)}override(e,t){return Oa(Rn,e,t)}route(e,t,i,s){const a=Yi(this,e),o=Yi(this,i),r="_"+t;Object.defineProperties(a,{[r]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[r],c=o[s];return ve(l)?Object.assign({},c,l):he(l,c)},set(l){this[r]=l}}})}apply(e){e.forEach(t=>t(this))}}var Fe=new tf({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jd,Xd,ef]);function nf(n){return!n||ke(n.size)||ke(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function da(n,e,t,i,s){let a=e[s];return a||(a=e[s]=n.measureText(s).width,t.push(s)),a>i&&(i=a),i}function sf(n,e,t,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},a=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const r=t.length;let l,c,h,u,d;for(l=0;l<r;l++)if(u=t[l],u!=null&&!Le(u))o=da(n,s,a,o,u);else if(Le(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!Le(d)&&(o=da(n,s,a,o,d));n.restore();const f=a.length/2;if(f>t.length){for(l=0;l<f;l++)delete s[a[l]];a.splice(0,f)}return o}function zn(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function Dr(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function no(n,e,t,i){ih(n,e,t,i,null)}function ih(n,e,t,i,s){let a,o,r,l,c,h,u,d;const f=e.pointStyle,m=e.rotation,p=e.radius;let _=(m||0)*Rd;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(_),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),f){default:s?n.ellipse(t,i,s/2,p,0,0,De):n.arc(t,i,p,0,De),n.closePath();break;case"triangle":h=s?s/2:p,n.moveTo(t+Math.sin(_)*h,i-Math.cos(_)*p),_+=Sr,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*p),_+=Sr,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(_+Sn)*l,u=Math.cos(_+Sn)*(s?s/2-c:l),r=Math.sin(_+Sn)*l,d=Math.sin(_+Sn)*(s?s/2-c:l),n.arc(t-u,i-r,c,_-je,_-Ye),n.arc(t+d,i-o,c,_-Ye,_),n.arc(t+u,i+r,c,_,_+Ye),n.arc(t-d,i+o,c,_+Ye,_+je),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,h=s?s/2:l,n.rect(t-h,i-l,2*h,2*l);break}_+=Sn;case"rectRot":u=Math.cos(_)*(s?s/2:p),o=Math.cos(_)*p,r=Math.sin(_)*p,d=Math.sin(_)*(s?s/2:p),n.moveTo(t-u,i-r),n.lineTo(t+d,i-o),n.lineTo(t+u,i+r),n.lineTo(t-d,i+o),n.closePath();break;case"crossRot":_+=Sn;case"cross":u=Math.cos(_)*(s?s/2:p),o=Math.cos(_)*p,r=Math.sin(_)*p,d=Math.sin(_)*(s?s/2:p),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+d,i-o),n.lineTo(t-d,i+o);break;case"star":u=Math.cos(_)*(s?s/2:p),o=Math.cos(_)*p,r=Math.sin(_)*p,d=Math.sin(_)*(s?s/2:p),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+d,i-o),n.lineTo(t-d,i+o),_+=Sn,u=Math.cos(_)*(s?s/2:p),o=Math.cos(_)*p,r=Math.sin(_)*p,d=Math.sin(_)*(s?s/2:p),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+d,i-o),n.lineTo(t-d,i+o);break;case"line":o=s?s/2:Math.cos(_)*p,r=Math.sin(_)*p,n.moveTo(t-o,i-r),n.lineTo(t+o,i+r);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(_)*(s?s/2:p),i+Math.sin(_)*p);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function sn(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function ya(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wa(n){n.restore()}function af(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function of(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function rf(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ke(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function lf(n,e,t,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),o=e-a.actualBoundingBoxLeft,r=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,c=t+a.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,h),n.lineTo(r,h),n.stroke()}}function cf(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ln(n,e,t,i,s,a={}){const o=Le(e)?e:[e],r=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(n.save(),n.font=s.string,rf(n,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&cf(n,a.backdrop),r&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ke(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(c,t,i,a.maxWidth)),n.fillText(c,t,i,a.maxWidth),lf(n,t,i,c,a),i+=Number(s.lineHeight);n.restore()}function ss(n,e){const{x:t,y:i,w:s,h:a,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*je,je,!0),n.lineTo(t,i+a-o.bottomLeft),n.arc(t+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,je,Ye,!0),n.lineTo(t+s-o.bottomRight,i+a),n.arc(t+s-o.bottomRight,i+a-o.bottomRight,o.bottomRight,Ye,0,!0),n.lineTo(t+s,i+o.topRight),n.arc(t+s-o.topRight,i+o.topRight,o.topRight,0,-Ye,!0),n.lineTo(t+o.topLeft,i)}const hf=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uf=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function df(n,e){const t=(""+n).match(hf);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const ff=n=>+n||0;function Ao(n,e){const t={},i=ve(e),s=i?Object.keys(e):e,a=ve(n)?i?o=>he(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=ff(a(o));return t}function sh(n){return Ao(n,{top:"y",right:"x",bottom:"y",left:"x"})}function On(n){return Ao(n,["topLeft","topRight","bottomLeft","bottomRight"])}function lt(n){const e=sh(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qe(n,e){n=n||{},e=e||Fe.font;let t=he(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=he(n.style,e.style);i&&!(""+i).match(uf)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:he(n.family,e.family),lineHeight:df(he(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:he(n.weight,e.weight),string:""};return s.string=nf(s),s}function Fi(n,e,t,i){let s,a,o;for(s=0,a=n.length;s<a;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function mf(n,e,t){const{min:i,max:s}=n,a=Uc(e,(s-i)/2),o=(r,l)=>t&&r===0?0:r+l;return{min:o(i,-Math.abs(a)),max:o(s,a)}}function vn(n,e){return Object.assign(Object.create(n),e)}function Co(n,e=[""],t,i,s=()=>n[0]){const a=t||n;typeof i>"u"&&(i=lh("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:r=>Co([r,...n],e,a,i)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete r._keys,delete n[0][l],!0},get(r,l){return oh(r,l,()=>wf(l,e,n,r))},getOwnPropertyDescriptor(r,l){return Reflect.getOwnPropertyDescriptor(r._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,l){return Er(r).includes(l)},ownKeys(r){return Er(r)},set(r,l,c){const h=r._storage||(r._storage=s());return r[l]=h[l]=c,delete r._keys,!0}})}function pi(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:ah(n,i),setContext:a=>pi(n,a,t,i),override:a=>pi(n.override(a),e,t,i)};return new Proxy(s,{deleteProperty(a,o){return delete a[o],delete n[o],!0},get(a,o,r){return oh(a,o,()=>gf(a,o,r))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(a,o,r){return n[o]=r,delete a[o],!0}})}function ah(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:bn(t)?t:()=>t,isIndexable:bn(i)?i:()=>i}}const pf=(n,e)=>n?n+zo(e):e,Do=(n,e)=>ve(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function oh(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function gf(n,e,t){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;let r=i[e];return bn(r)&&o.isScriptable(e)&&(r=_f(e,r,n,t)),Le(r)&&r.length&&(r=kf(e,r,n,o.isIndexable)),Do(e,r)&&(r=pi(r,s,a&&a[e],o)),r}function _f(n,e,t,i){const{_proxy:s,_context:a,_subProxy:o,_stack:r}=t;if(r.has(n))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+n);r.add(n);let l=e(a,o||i);return r.delete(n),Do(n,l)&&(l=Oo(s._scopes,s,n,l)),l}function kf(n,e,t,i){const{_proxy:s,_context:a,_subProxy:o,_descriptors:r}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(ve(e[0])){const l=e,c=s._scopes.filter(h=>h!==l);e=[];for(const h of l){const u=Oo(c,s,n,h);e.push(pi(u,a,o&&o[n],r))}}return e}function rh(n,e,t){return bn(n)?n(e,t):n}const bf=(n,e)=>n===!0?e:typeof n=="string"?kn(e,n):void 0;function vf(n,e,t,i,s){for(const a of e){const o=bf(t,a);if(o){n.add(o);const r=rh(o._fallback,t,s);if(typeof r<"u"&&r!==t&&r!==i)return r}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function Oo(n,e,t,i){const s=e._rootScopes,a=rh(e._fallback,t,i),o=[...n,...s],r=new Set;r.add(i);let l=Or(r,o,t,a||t,i);return l===null||typeof a<"u"&&a!==t&&(l=Or(r,o,a,l,i),l===null)?!1:Co(Array.from(r),[""],s,a,()=>yf(e,t,i))}function Or(n,e,t,i,s){for(;t;)t=vf(n,e,t,i,s);return t}function yf(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Le(s)&&ve(t)?t:s||{}}function wf(n,e,t,i){let s;for(const a of e)if(s=lh(pf(a,n),t),typeof s<"u")return Do(n,s)?Oo(t,i,n,s):s}function lh(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Er(n){let e=n._keys;return e||(e=n._keys=jf(n._scopes)),e}function jf(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function ch(n,e,t,i){const{iScale:s}=n,{key:a="r"}=this._parsing,o=new Array(i);let r,l,c,h;for(r=0,l=i;r<l;++r)c=r+t,h=e[c],o[r]={r:s.parse(kn(h,a),c)};return o}const Tf=Number.EPSILON||1e-14,gi=(n,e)=>e<n.length&&!n[e].skip&&n[e],hh=n=>n==="x"?"y":"x";function xf(n,e,t,i){const s=n.skip?e:n,a=e,o=t.skip?e:t,r=eo(a,s),l=eo(o,a);let c=r/(r+l),h=l/(r+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=i*c,d=i*h;return{previous:{x:a.x-u*(o.x-s.x),y:a.y-u*(o.y-s.y)},next:{x:a.x+d*(o.x-s.x),y:a.y+d*(o.y-s.y)}}}function Sf(n,e,t){const i=n.length;let s,a,o,r,l,c=gi(n,0);for(let h=0;h<i-1;++h)if(l=c,c=gi(n,h+1),!(!l||!c)){if(Ki(e[h],0,Tf)){t[h]=t[h+1]=0;continue}s=t[h]/e[h],a=t[h+1]/e[h],r=Math.pow(s,2)+Math.pow(a,2),!(r<=9)&&(o=3/Math.sqrt(r),t[h]=s*o*e[h],t[h+1]=a*o*e[h])}}function zf(n,e,t="x"){const i=hh(t),s=n.length;let a,o,r,l=gi(n,0);for(let c=0;c<s;++c){if(o=r,r=l,l=gi(n,c+1),!r)continue;const h=r[t],u=r[i];o&&(a=(h-o[t])/3,r[`cp1${t}`]=h-a,r[`cp1${i}`]=u-a*e[c]),l&&(a=(l[t]-h)/3,r[`cp2${t}`]=h+a,r[`cp2${i}`]=u+a*e[c])}}function Mf(n,e="x"){const t=hh(e),i=n.length,s=Array(i).fill(0),a=Array(i);let o,r,l,c=gi(n,0);for(o=0;o<i;++o)if(r=l,l=c,c=gi(n,o+1),!!l){if(c){const h=c[e]-l[e];s[o]=h!==0?(c[t]-l[t])/h:0}a[o]=r?c?Vt(s[o-1])!==Vt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}Sf(n,s,a),zf(n,a,e)}function Ds(n,e,t){return Math.max(Math.min(n,t),e)}function If(n,e){let t,i,s,a,o,r=sn(n[0],e);for(t=0,i=n.length;t<i;++t)o=a,a=r,r=t<i-1&&sn(n[t+1],e),a&&(s=n[t],o&&(s.cp1x=Ds(s.cp1x,e.left,e.right),s.cp1y=Ds(s.cp1y,e.top,e.bottom)),r&&(s.cp2x=Ds(s.cp2x,e.left,e.right),s.cp2y=Ds(s.cp2y,e.top,e.bottom)))}function Wf(n,e,t,i,s){let a,o,r,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Mf(n,s);else{let c=i?n[n.length-1]:n[0];for(a=0,o=n.length;a<o;++a)r=n[a],l=xf(c,r,n[Math.min(a+1,o-(i?0:1))%o],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,c=r}e.capBezierPoints&&If(n,t)}function Eo(){return typeof window<"u"&&typeof document<"u"}function Ro(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function fa(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const ja=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Pf(n,e){return ja(n).getPropertyValue(e)}const Af=["top","right","bottom","left"];function En(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const a=Af[s];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Cf=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Df(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:a}=i;let o=!1,r,l;if(Cf(s,a,n.target))r=s,l=a;else{const c=e.getBoundingClientRect();r=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:r,y:l,box:o}}function Wn(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=ja(t),a=s.boxSizing==="border-box",o=En(s,"padding"),r=En(s,"border","width"),{x:l,y:c,box:h}=Df(n,t),u=o.left+(h&&r.left),d=o.top+(h&&r.top);let{width:f,height:m}=e;return a&&(f-=o.width+r.width,m-=o.height+r.height),{x:Math.round((l-u)/f*t.width/i),y:Math.round((c-d)/m*t.height/i)}}function Of(n,e,t){let i,s;if(e===void 0||t===void 0){const a=n&&Ro(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const o=a.getBoundingClientRect(),r=ja(a),l=En(r,"border","width"),c=En(r,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=fa(r.maxWidth,a,"clientWidth"),s=fa(r.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||ua,maxHeight:s||ua}}const Os=n=>Math.round(n*10)/10;function Ef(n,e,t,i){const s=ja(n),a=En(s,"margin"),o=fa(s.maxWidth,n,"clientWidth")||ua,r=fa(s.maxHeight,n,"clientHeight")||ua,l=Of(n,e,t);let{width:c,height:h}=l;if(s.boxSizing==="content-box"){const d=En(s,"border","width"),f=En(s,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-a.width),h=Math.max(0,i?c/i:h-a.height),c=Os(Math.min(c,o,l.maxWidth)),h=Os(Math.min(h,r,l.maxHeight)),c&&!h&&(h=Os(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Os(Math.floor(h*i))),{width:c,height:h}}function Rr(n,e,t){const i=e||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==s||o.width!==a?(n.currentDevicePixelRatio=i,o.height=s,o.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Rf=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Eo()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Lr(n,e){const t=Pf(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Pn(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Lf(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Ff(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},o=Pn(n,s,t),r=Pn(s,a,t),l=Pn(a,e,t),c=Pn(o,r,t),h=Pn(r,l,t);return Pn(c,h,t)}const Bf=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Nf=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function li(n,e,t){return n?Bf(e,t):Nf()}function uh(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function dh(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function fh(n){return n==="angle"?{between:is,compare:Nd,normalize:ot}:{between:tn,compare:(e,t)=>e-t,normalize:e=>e}}function Fr({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function qf(n,e,t){const{property:i,start:s,end:a}=t,{between:o,normalize:r}=fh(i),l=e.length;let{start:c,end:h,loop:u}=n,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&o(r(e[c%l][i]),s,a);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:n.style}}function mh(n,e,t){if(!t)return[n];const{property:i,start:s,end:a}=t,o=e.length,{compare:r,between:l,normalize:c}=fh(i),{start:h,end:u,loop:d,style:f}=qf(n,e,t),m=[];let p=!1,_=null,k,w,I;const S=()=>l(s,I,k)&&r(s,I)!==0,T=()=>r(a,k)===0||l(a,I,k),C=()=>p||S(),A=()=>!p||T();for(let E=h,B=h;E<=u;++E)w=e[E%o],!w.skip&&(k=c(w[i]),k!==I&&(p=l(k,s,a),_===null&&C()&&(_=r(k,s)===0?E:B),_!==null&&A()&&(m.push(Fr({start:_,end:E,loop:d,count:o,style:f})),_=null),B=E,I=k));return _!==null&&m.push(Fr({start:_,end:u,loop:d,count:o,style:f})),m}function ph(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const a=mh(i[s],n.points,e);a.length&&t.push(...a)}return t}function Vf(n,e,t,i){let s=0,a=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(a+=s);a>s&&n[a%e].skip;)a--;return a%=e,{start:s,end:a}}function Hf(n,e,t,i){const s=n.length,a=[];let o=e,r=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%s];c.skip||c.stop?r.skip||(i=!1,a.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,r.skip&&(e=l)),r=c}return o!==null&&a.push({start:e%s,end:o%s,loop:i}),a}function $f(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const a=!!n._loop,{start:o,end:r}=Vf(t,s,a,i);if(i===!0)return Br(n,[{start:o,end:r,loop:a}],t,e);const l=r<o?r+s:r,c=!!n._fullLoop&&o===0&&r===s-1;return Br(n,Hf(t,o,l,c),t,e)}function Br(n,e,t,i){return!i||!i.setContext||!t?e:Uf(n,e,t,i)}function Uf(n,e,t,i){const s=n._chart.getContext(),a=Nr(n.options),{_datasetIndex:o,options:{spanGaps:r}}=n,l=t.length,c=[];let h=a,u=e[0].start,d=u;function f(m,p,_,k){const w=r?-1:1;if(m!==p){for(m+=l;t[m%l].skip;)m-=w;for(;t[p%l].skip;)p+=w;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:_,style:k}),h=k,u=p%l)}}for(const m of e){u=r?u:m.start;let p=t[u%l],_;for(d=u+1;d<=m.end;d++){const k=t[d%l];_=Nr(i.setContext(vn(s,{type:"segment",p0:p,p1:k,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Kf(_,h)&&f(u,d-1,m.loop,h),p=k,h=_}u<d-1&&f(u,d-1,m.loop,h)}return c}function Nr(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Kf(n,e){if(!e)return!1;const t=[],i=function(s,a){return Po(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Es(n,e,t){return n.options.clip?n[t]:e[t]}function Gf(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Es(t,e,"left"),right:Es(t,e,"right"),top:Es(i,e,"top"),bottom:Es(i,e,"bottom")}:e}function gh(n,e){const t=e._clip;if(t.disabled)return!1;const i=Gf(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Yf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const a=t.listeners[s],o=t.duration;a.forEach(r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Zc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,r=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),r=!0):(a[o]=a[a.length-1],a.pop());r&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xt=new Yf;const qr="transparent",Jf={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=Ar(n||qr),s=i.valid&&Ar(e||qr);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Xf{constructor(e,t,i,s){const a=t[i];s=Fi([e.to,s,a,e.from]);const o=Fi([e.from,a,s]);this._active=!0,this._fn=e.fn||Jf[e.type||typeof o],this._easing=Gi[e.easing]||Gi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Fi([e.to,t,s,e.from]),this._from=Fi([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,a=this._from,o=this._loop,r=this._to;let l;if(this._active=a!==r&&(o||t<i),!this._active){this._target[s]=r,this._notify(!0);return}if(t<0){this._target[s]=a;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,r,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class _h{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ve(e))return;const t=Object.keys(Fe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!ve(a))return;const o={};for(const r of t)o[r]=a[r];(Le(a.properties)&&a.properties||[s]).forEach(r=>{(r===s||!i.has(r))&&i.set(r,o)})})}_animateOptions(e,t){const i=t.options,s=Qf(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&Zf(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),r=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,t));continue}const h=t[c];let u=a[c];const d=i.get(c);if(u)if(d&&u.active()){u.update(d,h,r);continue}else u.cancel();if(!d||!d.duration){e[c]=h;continue}a[c]=u=new Xf(d,e,c,h),s.push(u)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Xt.add(this._chart,i),!0}}function Zf(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Qf(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Vr(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function em(n,e,t){if(t===!1)return!1;const i=Vr(n,t),s=Vr(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function tm(n){let e,t,i,s;return ve(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function kh(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)t.push(i[s].index);return t}function Hr(n,e,t,i={}){const s=n.keys,a=i.mode==="single";let o,r,l,c;if(e===null)return;let h=!1;for(o=0,r=s.length;o<r;++o){if(l=+s[o],l===t){if(h=!0,i.all)continue;break}c=n.values[l],He(c)&&(a||e===0||Vt(e)===Vt(c))&&(e+=c)}return!h&&!i.all?0:e}function nm(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(n),r=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],r[l]={[s]:h,[a]:n[h]};return r}function Ea(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function im(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function sm(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function am(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function $r(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(t&&a>0||!t&&a<0)return s.index}return null}function Ur(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:a,vScale:o,index:r}=i,l=a.axis,c=o.axis,h=im(a,o,i),u=e.length;let d;for(let f=0;f<u;++f){const m=e[f],{[l]:p,[c]:_}=m,k=m._stacks||(m._stacks={});d=k[c]=am(s,h,p),d[r]=_,d._top=$r(d,o,!0,i.type),d._bottom=$r(d,o,!1,i.type);const w=d._visualValues||(d._visualValues={});w[r]=_}}function Ra(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function om(n,e){return vn(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rm(n,e,t){return vn(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ai(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const La=n=>n==="reset"||n==="none",Kr=(n,e)=>e?n:Object.assign({},n),lm=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:kh(t,!0),values:null};class Pt{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ea(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ai(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(u,d,f,m)=>u==="x"?d:u==="r"?m:f,a=t.xAxisID=he(i.xAxisID,Ra(e,"x")),o=t.yAxisID=he(i.yAxisID,Ra(e,"y")),r=t.rAxisID=he(i.rAxisID,Ra(e,"r")),l=t.indexAxis,c=t.iAxisID=s(l,a,o,r),h=t.vAxisID=s(l,o,a,r);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ir(this._data,this),e._stacked&&Ai(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ve(t)){const s=this._cachedMeta;this._data=nm(t,s)}else if(i!==t){if(i){Ir(i,this);const s=this._cachedMeta;Ai(s),s._parsed=[]}t&&Object.isExtensible(t)&&$d(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=Ea(t.vScale,t),t.stack!==i.stack&&(s=!0,Ai(t),t.stack=i.stack),this._resyncElements(e),(s||a!==t._stacked)&&(Ur(this,t._parsed),t._stacked=Ea(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:o}=i,r=a.axis;let l=e===0&&t===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,u,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{Le(s[e])?d=this.parseArrayData(i,s,e,t):ve(s[e])?d=this.parseObjectData(i,s,e,t):d=this.parsePrimitiveData(i,s,e,t);const f=()=>u[r]===null||c&&u[r]<c[r];for(h=0;h<t;++h)i._parsed[h+e]=u=d[h],l&&(f()&&(l=!1),c=u);i._sorted=l}o&&Ur(this,d)}parsePrimitiveData(e,t,i,s){const{iScale:a,vScale:o}=e,r=a.axis,l=o.axis,c=a.getLabels(),h=a===o,u=new Array(s);let d,f,m;for(d=0,f=s;d<f;++d)m=d+i,u[d]={[r]:h||a.parse(c[m],m),[l]:o.parse(t[m],m)};return u}parseArrayData(e,t,i,s){const{xScale:a,yScale:o}=e,r=new Array(s);let l,c,h,u;for(l=0,c=s;l<c;++l)h=l+i,u=t[h],r[l]={x:a.parse(u[0],h),y:o.parse(u[1],h)};return r}parseObjectData(e,t,i,s){const{xScale:a,yScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let h,u,d,f;for(h=0,u=s;h<u;++h)d=h+i,f=t[d],c[h]={x:a.parse(kn(f,r),d),y:o.parse(kn(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,a=this._cachedMeta,o=t[e.axis],r={keys:kh(s,!0),values:t._stacks[e.axis]._visualValues};return Hr(r,o,a.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const a=i[t.axis];let o=a===null?NaN:a;const r=s&&i._stacks[t.axis];s&&r&&(s.values=r,o=Hr(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,o=s.length,r=this._getOtherScale(e),l=lm(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=sm(r);let d,f;function m(){f=s[d];const p=f[r.axis];return!He(f[e.axis])||h>p||u<p}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),a));++d);if(a){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,a,o;for(s=0,a=t.length;s<a;++s)o=t[s][e.axis],He(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=tm(he(this.options.clip,em(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],a=t.chartArea,o=[],r=this._drawStart||0,l=this._drawCount||s.length-r,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,a,r,l),h=r;h<r+l;++h){const u=s[h];u.hidden||(u.active&&c?o.push(u):u.draw(e,a))}for(h=0;h<o.length;++h)o[h].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=rm(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=om(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",a=this._cachedDataOpts,o=e+"-"+t,r=a[o],l=this.enableOptionSharing&&ns(i);if(r)return Kr(r,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),u=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(Fe.elements[e]),m=()=>this.getContext(i,s,t),p=c.resolveNamedOptions(d,f,m,u);return p.$shared&&(p.$shared=l,a[o]=Object.freeze(Kr(p,l))),p}_resolveAnimations(e,t,i){const s=this.chart,a=this._cachedDataOpts,o=`animation-${t}`,r=a[o];if(r)return r;let l;if(s.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,t),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(e,i,t))}const c=new _h(s,l&&l.animations);return l&&l._cacheable&&(a[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||La(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:o}}updateElement(e,t,i,s){La(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!La(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[r,l,c]of this._syncList)this[r](l,c);this._syncList=[];const s=i.length,a=t.length,o=Math.min(a,s);o&&this.parse(0,o),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t,i=!0){const s=this._cachedMeta,a=s.data,o=e+t;let r;const l=c=>{for(c.length+=t,r=c.length-1;r>=o;r--)c[r]=c[r-t]};for(l(a),r=e;r<o;++r)a[r]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Ai(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(Pt,"defaults",{}),$(Pt,"datasetElementType",null),$(Pt,"dataElementType",null);function cm(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=t.length;s<a;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=Xc(i.sort((s,a)=>s-a))}return n._cache.$bar}function hm(n){const e=n.iScale,t=cm(e,n.type);let i=e._length,s,a,o,r;const l=()=>{o===32767||o===-32768||(ns(r)&&(i=Math.min(i,Math.abs(o-r)||i)),r=o)};for(s=0,a=t.length;s<a;++s)o=e.getPixelForValue(t[s]),l();for(r=void 0,s=0,a=e.ticks.length;s<a;++s)o=e.getPixelForTick(s),l();return i}function um(n,e,t,i){const s=t.barThickness;let a,o;return ke(s)?(a=e.min*t.categoryPercentage,o=t.barPercentage):(a=s*i,o=1),{chunk:a/i,ratio:o,start:e.pixels[n]-a/2}}function dm(n,e,t,i){const s=e.pixels,a=s[n];let o=n>0?s[n-1]:null,r=n<s.length-1?s[n+1]:null;const l=t.categoryPercentage;o===null&&(o=a-(r===null?e.end-e.start:r-a)),r===null&&(r=a+a-o);const c=a-(a-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/i,ratio:t.barPercentage,start:c}}function fm(n,e,t,i){const s=t.parse(n[0],i),a=t.parse(n[1],i),o=Math.min(s,a),r=Math.max(s,a);let l=o,c=r;Math.abs(o)>Math.abs(r)&&(l=r,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:a,min:o,max:r}}function bh(n,e,t,i){return Le(n)?fm(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Gr(n,e,t,i){const s=n.iScale,a=n.vScale,o=s.getLabels(),r=s===a,l=[];let c,h,u,d;for(c=t,h=t+i;c<h;++c)d=e[c],u={},u[s.axis]=r||s.parse(o[c],c),l.push(bh(d,u,a,c));return l}function Fa(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function mm(n,e,t){return n!==0?Vt(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function pm(n){let e,t,i,s,a;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:t,end:i,reverse:e,top:s,bottom:a}}function gm(n,e,t,i){let s=e.borderSkipped;const a={};if(!s){n.borderSkipped=a;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:r,reverse:l,top:c,bottom:h}=pm(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=c:(t._bottom||0)===i?s=h:(a[Yr(h,o,r,l)]=!0,s=c)),a[Yr(s,o,r,l)]=!0,n.borderSkipped=a}function Yr(n,e,t,i){return i?(n=_m(n,e,t),n=Jr(n,t,e)):n=Jr(n,e,t),n}function _m(n,e,t){return n===e?t:n===t?e:n}function Jr(n,e,t){return n==="start"?e:n==="end"?t:n}function km(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Ys extends Pt{parsePrimitiveData(e,t,i,s){return Gr(e,t,i,s)}parseArrayData(e,t,i,s){return Gr(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:a,vScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?r:l,h=o.axis==="x"?r:l,u=[];let d,f,m,p;for(d=i,f=i+s;d<f;++d)p=t[d],m={},m[a.axis]=a.parse(kn(p,c),d),u.push(bh(kn(p,h),m,o,d));return u}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const a=i._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,a=this.getParsed(e),o=a._custom,r=Fa(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const a=s==="reset",{index:o,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),c=r.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,s);for(let f=t;f<t+i;f++){const m=this.getParsed(f),p=a||ke(m[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,h),k=(m._stacks||{})[r.axis],w={horizontal:c,base:p.base,enableBorderRadius:!k||Fa(m._custom)||o===k._top||o===k._bottom,x:c?p.head:_.center,y:c?_.center:p.head,height:c?_.size:Math.abs(p.size),width:c?Math.abs(p.size):_.size};d&&(w.options=u||this.resolveDataElementOptions(f,e[f].active?"active":s));const I=w.options||e[f].options;gm(w,I,k,o),km(w,I,h.ratio),this.updateElement(e[f],f,w,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=i.options.stacked,o=[],r=this._cachedMeta.controller.getParsed(t),l=r&&r[i.axis],c=h=>{const u=h._parsed.find(f=>f[i.axis]===l),d=u&&u[h.vScale.axis];if(ke(d)||isNaN(d))return!0};for(const h of s)if(!(t!==void 0&&c(h))&&((a===!1||o.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[he(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const s=this._getStacks(e,i),a=t!==void 0?s.indexOf(t):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let a,o;for(a=0,o=t.data.length;a<o;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const r=e.barThickness;return{min:r||hm(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:a,minBarLength:o}}=this,r=a||0,l=this.getParsed(e),c=l._custom,h=Fa(c);let u=l[t.axis],d=0,f=i?this.applyStack(t,l,i):u,m,p;f!==u&&(d=f-u,f=u),h&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&Vt(u)!==Vt(c.barEnd)&&(d=0),d+=u);const _=!ke(a)&&!h?a:d;let k=t.getPixelForValue(_);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(d+f):m=k,p=m-k,Math.abs(p)<o){p=mm(p,t,r)*o,u===r&&(k-=p/2);const w=t.getPixelForDecimal(0),I=t.getPixelForDecimal(1),S=Math.min(w,I),T=Math.max(w,I);k=Math.max(Math.min(k,T),S),m=k+p,i&&!h&&(l._stacks[t.axis]._visualValues[s]=t.getValueForPixel(m)-t.getValueForPixel(k))}if(k===t.getPixelForValue(r)){const w=Vt(p)*t.getLineWidthForValue(r)/2;k+=w,p-=w}return{size:p,base:k,head:m,center:m+p/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,a=s.skipNull,o=he(s.maxBarThickness,1/0);let r,l;const c=this._getAxisCount();if(t.grouped){const h=a?this._getStackCount(e):t.stackCount,u=s.barThickness==="flex"?dm(e,t,s,h*c):um(e,t,s,h*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(he(d,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+f;r=u.start+u.chunk*m+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else r=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,t.min*t.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[t.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}$(Ys,"id","bar"),$(Ys,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(Ys,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Js extends Pt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const a=super.parsePrimitiveData(e,t,i,s);for(let o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+i).radius;return a}parseArrayData(e,t,i,s){const a=super.parseArrayData(e,t,i,s);for(let o=0;o<a.length;o++){const r=t[i+o];a[o]._custom=he(r[2],this.resolveDataElementOptions(o+i).radius)}return a}parseObjectData(e,t,i,s){const a=super.parseObjectData(e,t,i,s);for(let o=0;o<a.length;o++){const r=t[i+o];a[o]._custom=he(r&&r.r&&+r.r,this.resolveDataElementOptions(o+i).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=t,o=this.getParsed(e),r=s.getLabelForValue(o.x),l=a.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+r+", "+l+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const a=s==="reset",{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(t,s),h=o.axis,u=r.axis;for(let d=t;d<t+i;d++){const f=e[d],m=!a&&this.getParsed(d),p={},_=p[h]=a?o.getPixelForDecimal(.5):o.getPixelForValue(m[h]),k=p[u]=a?r.getBasePixel():r.getPixelForValue(m[u]);p.skip=isNaN(_)||isNaN(k),c&&(p.options=l||this.resolveDataElementOptions(d,f.active?"active":s),a&&(p.options.radius=0)),this.updateElement(f,d,p,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return t!=="active"&&(s.radius=0),s.radius+=he(i&&i._custom,a),s}}$(Js,"id","bubble"),$(Js,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(Js,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function bm(n,e,t){let i=1,s=1,a=0,o=0;if(e<De){const r=n,l=r+e,c=Math.cos(r),h=Math.sin(r),u=Math.cos(l),d=Math.sin(l),f=(I,S,T)=>is(I,r,l,!0)?1:Math.max(S,S*t,T,T*t),m=(I,S,T)=>is(I,r,l,!0)?-1:Math.min(S,S*t,T,T*t),p=f(0,c,u),_=f(Ye,h,d),k=m(je,c,u),w=m(je+Ye,h,d);i=(p-k)/2,s=(_-w)/2,a=-(p+k)/2,o=-(_+w)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:o}}class Cn extends Pt{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=l=>+i[l];if(ve(i[e])){const{key:l="value"}=this._parsing;a=c=>+kn(i[c],l)}let o,r;for(o=e,r=e+t;o<r;++o)s._parsed[o]=a(o)}}_getRotation(){return Wt(this.options.rotation-90)}_getCircumference(){return Wt(this.options.circumference)}_getRotationExtents(){let e=De,t=-De;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),o=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,a=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,r=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Wd(this.options.cutout,r),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:m,offsetY:p}=bm(u,h,l),_=(i.width-o)/d,k=(i.height-o)/f,w=Math.max(Math.min(_,k)/2,0),I=Uc(this.options.radius,w),S=Math.max(I*l,0),T=(I-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*I,this.offsetY=p*I,s.total=this.calculateTotal(),this.outerRadius=I-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/De)}updateElements(e,t,i,s){const a=s==="reset",o=this.chart,r=o.chartArea,c=o.options.animation,h=(r.left+r.right)/2,u=(r.top+r.bottom)/2,d=a&&c.animateScale,f=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(t,s);let k=this._getRotation(),w;for(w=0;w<t;++w)k+=this._circumference(w,a);for(w=t;w<t+i;++w){const I=this._circumference(w,a),S=e[w],T={x:h+this.offsetX,y:u+this.offsetY,startAngle:k,endAngle:k+I,circumference:I,outerRadius:m,innerRadius:f};_&&(T.options=p||this.resolveDataElementOptions(w,S.active?"active":s)),k+=I,this.updateElement(S,w,T,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?De*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=ds(t._parsed[e],i.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,a,o,r,l;if(!e){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,r=o.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)l=r.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const a=this.resolveDataElementOptions(i);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(he(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(Cn,"id","doughnut"),$(Cn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(Cn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(Cn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((a,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class Xs extends Pt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=t,o=this.chart._animationsDisabled;let{start:r,count:l}=eh(t,s,o);this._drawStart=r,this._drawCount=l,th(t)&&(r=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,r,l,e)}updateElements(e,t,i,s){const a=s==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(t,s),d=o.axis,f=r.axis,{spanGaps:m,segment:p}=this.options,_=mi(m)?m:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||s==="none",w=t+i,I=e.length;let S=t>0&&this.getParsed(t-1);for(let T=0;T<I;++T){const C=e[T],A=k?C:{};if(T<t||T>=w){A.skip=!0;continue}const E=this.getParsed(T),B=ke(E[f]),N=A[d]=o.getPixelForValue(E[d],T),U=A[f]=a||B?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,E,l):E[f],T);A.skip=isNaN(N)||isNaN(U)||B,A.stop=T>0&&Math.abs(E[d]-S[d])>_,p&&(A.parsed=E,A.raw=c.data[T]),u&&(A.options=h||this.resolveDataElementOptions(T,C.active?"active":s)),k||this.updateElement(C,T,A,s),S=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$(Xs,"id","line"),$(Xs,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(Xs,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ji extends Pt{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=ds(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:a}}parseObjectData(e,t,i,s){return ch.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),r=(a-o)/e.getVisibleDatasetCount();this.outerRadius=a-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,i,s){const a=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*je;let f=d,m;const p=360/this.countVisibleElements();for(m=0;m<t;++m)f+=this._computeAngle(m,s,p);for(m=t;m<t+i;m++){const _=e[m];let k=f,w=f+this._computeAngle(m,s,p),I=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;f=w,a&&(l.animateScale&&(I=0),l.animateRotate&&(k=w=d));const S={x:h,y:u,innerRadius:0,outerRadius:I,startAngle:k,endAngle:w,options:this.resolveDataElementOptions(m,_.active?"active":s)};this.updateElement(_,m,S,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Wt(this.resolveDataElementOptions(e,t).angle||i):0}}$(Ji,"id","polarArea"),$(Ji,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(Ji,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((a,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class io extends Cn{}$(io,"id","pie"),$(io,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Zs extends Pt{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return ch.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],a=t.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const r={_loop:!0,_fullLoop:a.length===s.length,options:o};this.updateElement(i,void 0,r,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const a=this._cachedMeta.rScale,o=s==="reset";for(let r=t;r<t+i;r++){const l=e[r],c=this.resolveDataElementOptions(r,l.active?"active":s),h=a.getPointPositionForValue(r,this.getParsed(r).r),u=o?a.xCenter:h.x,d=o?a.yCenter:h.y,f={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,r,f,s)}}}$(Zs,"id","radar"),$(Zs,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(Zs,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Qs extends Pt{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=t,o=this.getParsed(e),r=s.getLabelForValue(o.x),l=a.getLabelForValue(o.y);return{label:i[e]||"",value:"("+r+", "+l+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=eh(t,i,s);if(this._drawStart=a,this._drawCount=o,th(t)&&(a=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:l}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,a,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const a=s==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(t,s),u=this.getSharedOptions(h),d=this.includeOptions(s,u),f=o.axis,m=r.axis,{spanGaps:p,segment:_}=this.options,k=mi(p)?p:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||a||s==="none";let I=t>0&&this.getParsed(t-1);for(let S=t;S<t+i;++S){const T=e[S],C=this.getParsed(S),A=w?T:{},E=ke(C[m]),B=A[f]=o.getPixelForValue(C[f],S),N=A[m]=a||E?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,C,l):C[m],S);A.skip=isNaN(B)||isNaN(N)||E,A.stop=S>0&&Math.abs(C[f]-I[f])>k,_&&(A.parsed=C,A.raw=c.data[S]),d&&(A.options=u||this.resolveDataElementOptions(S,T.active?"active":s)),w||this.updateElement(T,S,A,s),I=C}this.updateSharedOptions(u,s,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let r=0;for(let l=t.length-1;l>=0;--l)r=Math.max(r,t[l].size(this.resolveDataElementOptions(l))/2);return r>0&&r}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const a=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,a,o)/2}}$(Qs,"id","scatter"),$(Qs,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(Qs,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var vm=Object.freeze({__proto__:null,BarController:Ys,BubbleController:Js,DoughnutController:Cn,LineController:Xs,PieController:io,PolarAreaController:Ji,RadarController:Zs,ScatterController:Qs});function Mn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lo{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(Lo.prototype,e)}init(){}formats(){return Mn()}parse(){return Mn()}format(){return Mn()}add(){return Mn()}diff(){return Mn()}startOf(){return Mn()}endOf(){return Mn()}}var ym={_date:Lo};function wm(n,e,t,i){const{controller:s,data:a,_sorted:o}=n,r=s._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(r&&e===r.axis&&e!=="r"&&o&&a.length){const c=r._reversePixels?Vd:nn;if(i){if(s._sharedOptions){const h=a[0],u=typeof h.getRange=="function"&&h.getRange(e);if(u){const d=c(a,e,t-u),f=c(a,e,t+u);return{lo:d.lo,hi:f.hi}}}}else{const h=c(a,e,t);if(l){const{vScale:u}=s._cachedMeta,{_parsed:d}=n,f=d.slice(0,h.lo+1).reverse().findIndex(p=>!ke(p[u.axis]));h.lo-=Math.max(0,f);const m=d.slice(h.hi).findIndex(p=>!ke(p[u.axis]));h.hi+=Math.max(0,m)}return h}}return{lo:0,hi:a.length-1}}function Ta(n,e,t,i,s){const a=n.getSortedVisibleDatasetMetas(),o=t[e];for(let r=0,l=a.length;r<l;++r){const{index:c,data:h}=a[r],{lo:u,hi:d}=wm(a[r],e,o,s);for(let f=u;f<=d;++f){const m=h[f];m.skip||i(m,c,f)}}}function jm(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,o=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function Ba(n,e,t,i,s){const a=[];return!s&&!n.isPointInArea(e)||Ta(n,t,e,function(r,l,c){!s&&!sn(r,n.chartArea,0)||r.inRange(e.x,e.y,i)&&a.push({element:r,datasetIndex:l,index:c})},!0),a}function Tm(n,e,t,i){let s=[];function a(o,r,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:u}=Yc(o,{x:e.x,y:e.y});is(u,c,h)&&s.push({element:o,datasetIndex:r,index:l})}return Ta(n,t,e,a),s}function xm(n,e,t,i,s,a){let o=[];const r=jm(t);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(e.x,e.y,s);if(i&&!f)return;const m=h.getCenterPoint(s);if(!(!!a||n.isPointInArea(m))&&!f)return;const _=r(e,m);_<l?(o=[{element:h,datasetIndex:u,index:d}],l=_):_===l&&o.push({element:h,datasetIndex:u,index:d})}return Ta(n,t,e,c),o}function Na(n,e,t,i,s,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?Tm(n,e,t,s):xm(n,e,t,i,s,a)}function Xr(n,e,t,i,s){const a=[],o=t==="x"?"inXRange":"inYRange";let r=!1;return Ta(n,t,e,(l,c,h)=>{l[o]&&l[o](e[t],s)&&(a.push({element:l,datasetIndex:c,index:h}),r=r||l.inRange(e.x,e.y,s))}),i&&!r?[]:a}var Sm={modes:{index(n,e,t,i){const s=Wn(e,n),a=t.axis||"x",o=t.includeInvisible||!1,r=t.intersect?Ba(n,s,a,i,o):Na(n,s,a,!1,i,o),l=[];return r.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const h=r[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(n,e,t,i){const s=Wn(e,n),a=t.axis||"xy",o=t.includeInvisible||!1;let r=t.intersect?Ba(n,s,a,i,o):Na(n,s,a,!1,i,o);if(r.length>0){const l=r[0].datasetIndex,c=n.getDatasetMeta(l).data;r=[];for(let h=0;h<c.length;++h)r.push({element:c[h],datasetIndex:l,index:h})}return r},point(n,e,t,i){const s=Wn(e,n),a=t.axis||"xy",o=t.includeInvisible||!1;return Ba(n,s,a,i,o)},nearest(n,e,t,i){const s=Wn(e,n),a=t.axis||"xy",o=t.includeInvisible||!1;return Na(n,s,a,t.intersect,i,o)},x(n,e,t,i){const s=Wn(e,n);return Xr(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=Wn(e,n);return Xr(n,s,"y",t.intersect,i)}}};const vh=["left","top","right","bottom"];function Ci(n,e){return n.filter(t=>t.pos===e)}function Zr(n,e){return n.filter(t=>vh.indexOf(t.pos)===-1&&t.box.axis===e)}function Di(n,e){return n.sort((t,i)=>{const s=e?i:t,a=e?t:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function zm(n){const e=[];let t,i,s,a,o,r;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:a,options:{stack:o,stackWeight:r=1}}=s,e.push({index:t,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&a+o,stackWeight:r});return e}function Mm(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:a}=t;if(!i||!vh.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function Im(n,e){const t=Mm(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,o,r;for(a=0,o=n.length;a<o;++a){r=n[a];const{fullSize:l}=r.box,c=t[r.stack],h=c&&r.stackWeight/c.weight;r.horizontal?(r.width=h?h*i:l&&e.availableWidth,r.height=s):(r.width=i,r.height=h?h*s:l&&e.availableHeight)}return t}function Wm(n){const e=zm(n),t=Di(e.filter(c=>c.box.fullSize),!0),i=Di(Ci(e,"left"),!0),s=Di(Ci(e,"right")),a=Di(Ci(e,"top"),!0),o=Di(Ci(e,"bottom")),r=Zr(e,"x"),l=Zr(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:s.concat(l).concat(o).concat(r),chartArea:Ci(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:a.concat(o).concat(r)}}function Qr(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function yh(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Pm(n,e,t,i){const{pos:s,box:a}=t,o=n.maxPadding;if(!ve(s)){t.size&&(n[s]-=t.size);const u=i[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?a.height:a.width),t.size=u.size/u.count,n[s]+=t.size}a.getPadding&&yh(o,a.getPadding());const r=Math.max(0,e.outerWidth-Qr(o,n,"left","right")),l=Math.max(0,e.outerHeight-Qr(o,n,"top","bottom")),c=r!==n.w,h=l!==n.h;return n.w=r,n.h=l,t.horizontal?{same:c,other:h}:{same:h,other:c}}function Am(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Cm(n,e){const t=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{a[o]=Math.max(e[o],t[o])}),a}return i(n?["left","right"]:["top","bottom"])}function Bi(n,e,t,i){const s=[];let a,o,r,l,c,h;for(a=0,o=n.length,c=0;a<o;++a){r=n[a],l=r.box,l.update(r.width||e.w,r.height||e.h,Cm(r.horizontal,e));const{same:u,other:d}=Pm(e,t,r,i);c|=u&&s.length,h=h||d,l.fullSize||s.push(r)}return c&&Bi(s,e,t,i)||h}function Rs(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function el(n,e,t,i){const s=t.padding;let{x:a,y:o}=e;for(const r of n){const l=r.box,c=i[r.stack]||{placed:0,weight:1},h=r.stackWeight/c.weight||1;if(r.horizontal){const u=e.w*h,d=c.size||l.height;ns(c.start)&&(o=c.start),l.fullSize?Rs(l,s.left,o,t.outerWidth-s.right-s.left,d):Rs(l,e.left+c.placed,o,u,d),c.start=o,c.placed+=u,o=l.bottom}else{const u=e.h*h,d=c.size||l.width;ns(c.start)&&(a=c.start),l.fullSize?Rs(l,a,s.top,d,t.outerHeight-s.bottom-s.top):Rs(l,a,e.top+c.placed,d,u),c.start=a,c.placed+=u,a=l.right}}e.x=a,e.y=o}var rt={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=lt(n.options.layout.padding),a=Math.max(e-s.width,0),o=Math.max(t-s.height,0),r=Wm(n.boxes),l=r.vertical,c=r.horizontal;ze(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const h=l.reduce((p,_)=>_.box.options&&_.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},s);yh(d,lt(i));const f=Object.assign({maxPadding:d,w:a,h:o,x:s.left,y:s.top},s),m=Im(l.concat(c),u);Bi(r.fullSize,f,u,m),Bi(l,f,u,m),Bi(c,f,u,m)&&Bi(l,f,u,m),Am(f),el(r.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,el(r.rightAndBottom,f,u,m),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ze(r.chartArea,p=>{const _=p.box;Object.assign(_,n.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class wh{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Dm extends wh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ea="$chartjs",Om={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tl=n=>n===null||n==="";function Em(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[ea]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",tl(s)){const a=Lr(n,"width");a!==void 0&&(n.width=a)}if(tl(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Lr(n,"height");a!==void 0&&(n.height=a)}return n}const jh=Rf?{passive:!0}:!1;function Rm(n,e,t){n&&n.addEventListener(e,t,jh)}function Lm(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,jh)}function Fm(n,e){const t=Om[n.type]||n.type,{x:i,y:s}=Wn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ma(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Bm(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let o=!1;for(const r of a)o=o||ma(r.addedNodes,i),o=o&&!ma(r.removedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function Nm(n,e,t){const i=n.canvas,s=new MutationObserver(a=>{let o=!1;for(const r of a)o=o||ma(r.removedNodes,i),o=o&&!ma(r.addedNodes,i);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const as=new Map;let nl=0;function Th(){const n=window.devicePixelRatio;n!==nl&&(nl=n,as.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function qm(n,e){as.size||window.addEventListener("resize",Th),as.set(n,e)}function Vm(n){as.delete(n),as.size||window.removeEventListener("resize",Th)}function Hm(n,e,t){const i=n.canvas,s=i&&Ro(i);if(!s)return;const a=Qc((r,l)=>{const c=s.clientWidth;t(r,l),c<s.clientWidth&&t()},window),o=new ResizeObserver(r=>{const l=r[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||a(c,h)});return o.observe(s),qm(n,a),o}function qa(n,e,t){t&&t.disconnect(),e==="resize"&&Vm(n)}function $m(n,e,t){const i=n.canvas,s=Qc(a=>{n.ctx!==null&&t(Fm(a,n))},n);return Rm(i,e,s),s}class Um extends wh{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Em(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[ea])return!1;const i=t[ea].initial;["height","width"].forEach(a=>{const o=i[a];ke(o)?t.removeAttribute(a):t.setAttribute(a,o)});const s=i.style||{};return Object.keys(s).forEach(a=>{t.style[a]=s[a]}),t.width=t.width,delete t[ea],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:Bm,detach:Nm,resize:Hm}[t]||$m;s[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:qa,detach:qa,resize:qa}[t]||Lm)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return Ef(e,t,i,s)}isAttached(e){const t=e&&Ro(e);return!!(t&&t.isConnected)}}function Km(n){return!Eo()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Dm:Um}class At{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return mi(this.x)&&mi(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}$(At,"defaults",{}),$(At,"defaultRoutes");function Gm(n,e){const t=n.options.ticks,i=Ym(n),s=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?Xm(e):[],o=a.length,r=a[0],l=a[o-1],c=[];if(o>s)return Zm(e,c,a,o/s),c;const h=Jm(a,e,s);if(o>0){let u,d;const f=o>1?Math.round((l-r)/(o-1)):null;for(Ls(e,c,h,ke(f)?0:r-f,r),u=0,d=o-1;u<d;u++)Ls(e,c,h,a[u],a[u+1]);return Ls(e,c,h,l,ke(f)?e.length:l+f),c}return Ls(e,c,h),c}function Ym(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function Jm(n,e,t){const i=Qm(n),s=e.length/t;if(!i)return Math.max(s,1);const a=Ld(i);for(let o=0,r=a.length-1;o<r;o++){const l=a[o];if(l>s)return l}return Math.max(s,1)}function Xm(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Zm(n,e,t,i){let s=0,a=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===a&&(e.push(n[o]),s++,a=t[s*i])}function Ls(n,e,t,i,s){const a=he(i,0),o=Math.min(he(s,n.length),n.length);let r=0,l,c,h;for(t=Math.ceil(t),s&&(l=s-i,t=l/Math.floor(l/t)),h=a;h<0;)r++,h=Math.round(a+r*t);for(c=Math.max(a,0);c<o;c++)c===h&&(e.push(n[c]),r++,h=Math.round(a+r*t))}function Qm(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const ep=n=>n==="left"?"right":n==="right"?"left":n,il=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,sl=(n,e)=>Math.min(e||n,n);function al(n,e){const t=[],i=n.length/e,s=n.length;let a=0;for(;a<s;a+=i)t.push(n[Math.floor(a)]);return t}function tp(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),a=n._startPixel,o=n._endPixel,r=1e-6;let l=n.getPixelForTick(s),c;if(!(t&&(i===1?c=Math.max(l-a,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<a-r||l>o+r)))return l}function np(n,e){ze(n,t=>{const i=t.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete t.data[i[a]];i.splice(0,s)}})}function Oi(n){return n.drawTicks?n.tickLength:0}function ol(n,e){if(!n.display)return 0;const t=Qe(n.font,e),i=lt(n.padding);return(Le(n.text)?n.text.length:1)*t.lineHeight+i.height}function ip(n,e){return vn(n,{scale:e,type:"scale"})}function sp(n,e,t){return vn(n,{tick:t,index:e,type:"tick"})}function ap(n,e,t){let i=Wo(n);return(t&&e!=="right"||!t&&e==="right")&&(i=ep(i)),i}function op(n,e,t,i){const{top:s,left:a,bottom:o,right:r,chart:l}=n,{chartArea:c,scales:h}=l;let u=0,d,f,m;const p=o-s,_=r-a;if(n.isHorizontal()){if(f=at(i,a,r),ve(t)){const k=Object.keys(t)[0],w=t[k];m=h[k].getPixelForValue(w)+p-e}else t==="center"?m=(c.bottom+c.top)/2+p-e:m=il(n,t,e);d=r-a}else{if(ve(t)){const k=Object.keys(t)[0],w=t[k];f=h[k].getPixelForValue(w)-_+e}else t==="center"?f=(c.left+c.right)/2-_+e:f=il(n,t,e);m=at(i,o,s),u=t==="left"?-Ye:Ye}return{titleX:f,titleY:m,maxWidth:d,rotation:u}}class qn extends At{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=_t(e,Number.POSITIVE_INFINITY),t=_t(t,Number.NEGATIVE_INFINITY),i=_t(i,Number.POSITIVE_INFINITY),s=_t(s,Number.NEGATIVE_INFINITY),{min:_t(e,i),max:_t(t,s),minDefined:He(e),maxDefined:He(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),o;if(s&&a)return{min:t,max:i};const r=this.getMatchingVisibleMetas();for(let l=0,c=r.length;l<c;++l)o=r[l].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),a||(i=Math.max(i,o.max));return t=a&&t>i?i:t,i=s&&t>i?t:i,{min:_t(t,_t(i,t)),max:_t(i,_t(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pe(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:a,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mf(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?al(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Gm(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pe(this.options.afterUpdate,[this])}beforeSetDimensions(){Pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=Pe(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=sl(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let o=s,r,l,c;if(!this._isVisible()||!t.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=et(this.chart.width-u,0,this.maxWidth);r=e.offset?this.maxWidth/i:f/(i-1),u+6>r&&(r=f/(i-(e.offset?.5:1)),l=this.maxHeight-Oi(e.grid)-t.padding-ol(e.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),o=Mo(Math.min(Math.asin(et((h.highest.height+6)/r,-1,1)),Math.asin(et(l/c,-1,1))-Math.asin(et(d/c,-1,1)))),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:a}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){const l=ol(s,t.options.font);if(r?(e.width=this.maxWidth,e.height=Oi(a)+l):(e.height=this.maxHeight,e.width=Oi(a)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=i.padding*2,m=Wt(this.labelRotation),p=Math.cos(m),_=Math.sin(m);if(r){const k=i.mirror?0:_*u.width+p*d.height;e.height=Math.min(this.maxHeight,e.height+k+f)}else{const k=i.mirror?0:p*u.width+_*d.height;e.width=Math.min(this.maxWidth,e.width+k+f)}this._calculatePadding(c,h,_,p)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:a,padding:o},position:r}=this.options,l=this.labelRotation!==0,c=r!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=i*t.height):(d=i*e.height,f=s*t.width):a==="start"?f=t.width:a==="end"?d=e.width:a!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let h=t.height/2,u=e.height/2;a==="start"?(h=0,u=e.height):a==="end"&&(h=t.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ke(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=al(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:a}=this,o=[],r=[],l=Math.floor(t/sl(t,i));let c=0,h=0,u,d,f,m,p,_,k,w,I,S,T;for(u=0;u<t;u+=l){if(m=e[u].label,p=this._resolveTickFontOptions(u),s.font=_=p.string,k=a[_]=a[_]||{data:{},gc:[]},w=p.lineHeight,I=S=0,!ke(m)&&!Le(m))I=da(s,k.data,k.gc,I,m),S=w;else if(Le(m))for(d=0,f=m.length;d<f;++d)T=m[d],!ke(T)&&!Le(T)&&(I=da(s,k.data,k.gc,I,T),S+=w);o.push(I),r.push(S),c=Math.max(I,c),h=Math.max(S,h)}np(a,t);const C=o.indexOf(c),A=r.indexOf(h),E=B=>({width:o[B]||0,height:r[B]||0});return{first:E(0),last:E(t-1),widest:E(C),highest:E(A),widths:o,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return qd(this._alignToPixels?zn(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=sp(this.getContext(),e,i))}return this.$context||(this.$context=ip(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Wt(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,r=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*i>r*s?r/i:l/s:l*s<r*i?l/i:r/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:a,position:o,border:r}=s,l=a.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=Oi(a),f=[],m=r.setContext(this.getContext()),p=m.display?m.width:0,_=p/2,k=function(Y){return zn(i,Y,p)};let w,I,S,T,C,A,E,B,N,U,q,Z;if(o==="top")w=k(this.bottom),A=this.bottom-d,B=w-_,U=k(e.top)+_,Z=e.bottom;else if(o==="bottom")w=k(this.top),U=e.top,Z=k(e.bottom)-_,A=w+_,B=this.top+d;else if(o==="left")w=k(this.right),C=this.right-d,E=w-_,N=k(e.left)+_,q=e.right;else if(o==="right")w=k(this.left),N=e.left,q=k(e.right)-_,C=w+_,E=this.left+d;else if(t==="x"){if(o==="center")w=k((e.top+e.bottom)/2+.5);else if(ve(o)){const Y=Object.keys(o)[0],ee=o[Y];w=k(this.chart.scales[Y].getPixelForValue(ee))}U=e.top,Z=e.bottom,A=w+_,B=A+d}else if(t==="y"){if(o==="center")w=k((e.left+e.right)/2);else if(ve(o)){const Y=Object.keys(o)[0],ee=o[Y];w=k(this.chart.scales[Y].getPixelForValue(ee))}C=w-_,E=C-d,N=e.left,q=e.right}const H=he(s.ticks.maxTicksLimit,u),V=Math.max(1,Math.ceil(u/H));for(I=0;I<u;I+=V){const Y=this.getContext(I),ee=a.setContext(Y),Q=r.setContext(Y),se=ee.lineWidth,we=ee.color,fe=Q.dash||[],de=Q.dashOffset,_e=ee.tickWidth,re=ee.tickColor,ae=ee.tickBorderDash||[],Ae=ee.tickBorderDashOffset;S=tp(this,I,l),S!==void 0&&(T=zn(i,S,se),c?C=E=N=q=T:A=B=U=Z=T,f.push({tx1:C,ty1:A,tx2:E,ty2:B,x1:N,y1:U,x2:q,y2:Z,width:se,color:we,borderDash:fe,borderDashOffset:de,tickWidth:_e,tickColor:re,tickBorderDash:ae,tickBorderDashOffset:Ae}))}return this._ticksLength=u,this._borderValue=w,f}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:a}=i,o=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=a,d=Oi(i.grid),f=d+h,m=u?-h:f,p=-Wt(this.labelRotation),_=[];let k,w,I,S,T,C,A,E,B,N,U,q,Z="middle";if(s==="top")C=this.bottom-m,A=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+m,A=this._getXAxisLabelAlignment();else if(s==="left"){const V=this._getYAxisLabelAlignment(d);A=V.textAlign,T=V.x}else if(s==="right"){const V=this._getYAxisLabelAlignment(d);A=V.textAlign,T=V.x}else if(t==="x"){if(s==="center")C=(e.top+e.bottom)/2+f;else if(ve(s)){const V=Object.keys(s)[0],Y=s[V];C=this.chart.scales[V].getPixelForValue(Y)+f}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")T=(e.left+e.right)/2-f;else if(ve(s)){const V=Object.keys(s)[0],Y=s[V];T=this.chart.scales[V].getPixelForValue(Y)}A=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?Z="top":l==="end"&&(Z="bottom"));const H=this._getLabelSizes();for(k=0,w=r.length;k<w;++k){I=r[k],S=I.label;const V=a.setContext(this.getContext(k));E=this.getPixelForTick(k)+a.labelOffset,B=this._resolveTickFontOptions(k),N=B.lineHeight,U=Le(S)?S.length:1;const Y=U/2,ee=V.color,Q=V.textStrokeColor,se=V.textStrokeWidth;let we=A;o?(T=E,A==="inner"&&(k===w-1?we=this.options.reverse?"left":"right":k===0?we=this.options.reverse?"right":"left":we="center"),s==="top"?c==="near"||p!==0?q=-U*N+N/2:c==="center"?q=-H.highest.height/2-Y*N+N:q=-H.highest.height+N/2:c==="near"||p!==0?q=N/2:c==="center"?q=H.highest.height/2-Y*N:q=H.highest.height-U*N,u&&(q*=-1),p!==0&&!V.showLabelBackdrop&&(T+=N/2*Math.sin(p))):(C=E,q=(1-U)*N/2);let fe;if(V.showLabelBackdrop){const de=lt(V.backdropPadding),_e=H.heights[k],re=H.widths[k];let ae=q-de.top,Ae=0-de.left;switch(Z){case"middle":ae-=_e/2;break;case"bottom":ae-=_e;break}switch(A){case"center":Ae-=re/2;break;case"right":Ae-=re;break;case"inner":k===w-1?Ae-=re:k>0&&(Ae-=re/2);break}fe={left:Ae,top:ae,width:re+de.width,height:_e+de.height,color:V.backdropColor}}_.push({label:S,font:B,textOffset:q,options:{rotation:p,color:ee,strokeColor:Q,strokeWidth:se,textAlign:we,textBaseline:Z,translation:[T,C],backdrop:fe}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Wt(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,o=this._getLabelSizes(),r=e+a,l=o.widest.width;let c,h;return t==="left"?s?(h=this.right+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):t==="right"?s?(h=this.left+a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:a,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,a,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const r=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(a=0,o=s.length;a<o;++a){const l=s[a];t.drawOnChartArea&&r({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&r({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const r=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=zn(e,this.left,o)-o/2,h=zn(e,this.right,r)+r/2,u=d=l):(u=zn(e,this.top,o)-o/2,d=zn(e,this.bottom,r)+r/2,c=h=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(c,u),t.lineTo(h,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&ya(i,s);const a=this.getLabelItems(e);for(const o of a){const r=o.options,l=o.font,c=o.label,h=o.textOffset;Ln(i,c,0,h,l,r)}s&&wa(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const a=Qe(i.font),o=lt(i.padding),r=i.align;let l=a.lineHeight/2;t==="bottom"||t==="center"||ve(t)?(l+=o.bottom,Le(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=op(this,l,t,r);Ln(e,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:d,textAlign:ap(r,t,s),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=he(e.grid&&e.grid.z,-1),s=he(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==qn.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,o;for(a=0,o=t.length;a<o;++a){const r=t[a];r[i]===this.id&&(!e||r.type===e)&&s.push(r)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Qe(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fs{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;cp(t)&&(i=this.register(t));const s=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,rp(e,o,i),this.override&&Fe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Fe[s]&&(delete Fe[s][i],this.override&&delete Rn[i])}}function rp(n,e,t){const i=ts(Object.create(null),[t?Fe.get(t):{},Fe.get(e),n.defaults]);Fe.set(e,i),n.defaultRoutes&&lp(e,n.defaultRoutes),n.descriptors&&Fe.describe(e,n.descriptors)}function lp(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),a=[n].concat(i).join("."),o=e[t].split("."),r=o.pop(),l=o.join(".");Fe.route(a,s,l,r)})}function cp(n){return"id"in n&&"defaults"in n}class hp{constructor(){this.controllers=new Fs(Pt,"datasets",!0),this.elements=new Fs(At,"elements"),this.plugins=new Fs(Object,"plugins"),this.scales=new Fs(qn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):ze(s,o=>{const r=i||this._getRegistryForType(o);this._exec(e,r,o)})})}_exec(e,t,i){const s=zo(e);Pe(i["before"+s],[],i),t[e](i),Pe(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Bt=new hp;class up{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,s){s=s||{};for(const a of e){const o=a.plugin,r=o[i],l=[t,s,a.options];if(Pe(r,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=he(i.options&&i.options.plugins,{}),a=dp(i);return s===!1&&!t?[]:mp(e,a,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(a,o)=>a.filter(r=>!o.some(l=>r.plugin.id===l.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function dp(n){const e={},t=[],i=Object.keys(Bt.plugins.items);for(let a=0;a<i.length;a++)t.push(Bt.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const o=s[a];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function fp(n,e){return!e&&n===!1?null:n===!0?{}:n}function mp(n,{plugins:e,localIds:t},i,s){const a=[],o=n.getContext();for(const r of e){const l=r.id,c=fp(i[l],s);c!==null&&a.push({plugin:r,options:pp(n.config,{plugin:r,local:t[l]},c,o)})}return a}function pp(n,{plugin:e,local:t},i,s){const a=n.pluginScopeKeys(e),o=n.getOptionScopes(i,a);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function so(n,e){const t=Fe.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function gp(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function _p(n,e){return n===e?"_index_":"_value_"}function rl(n){if(n==="x"||n==="y"||n==="r")return n}function kp(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ao(n,...e){if(rl(n))return n;for(const t of e){const i=t.axis||kp(t.position)||n.length>1&&rl(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ll(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function bp(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return ll(n,"x",t[0])||ll(n,"y",t[0])}return{}}function vp(n,e){const t=Rn[n.type]||{scales:{}},i=e.scales||{},s=so(n.type,e),a=Object.create(null);return Object.keys(i).forEach(o=>{const r=i[o];if(!ve(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ao(o,r,bp(o,n),Fe.scales[r.type]),c=_p(l,s),h=t.scales||{};a[o]=Ui(Object.create(null),[{axis:l},r,h[l],h[c]])}),n.data.datasets.forEach(o=>{const r=o.type||n.type,l=o.indexAxis||so(r,e),h=(Rn[r]||{}).scales||{};Object.keys(h).forEach(u=>{const d=gp(u,l),f=o[d+"AxisID"]||d;a[f]=a[f]||Object.create(null),Ui(a[f],[{axis:d},i[f],h[u]])})}),Object.keys(a).forEach(o=>{const r=a[o];Ui(r,[Fe.scales[r.type],Fe.scale])}),a}function xh(n){const e=n.options||(n.options={});e.plugins=he(e.plugins,{}),e.scales=vp(n,e)}function Sh(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yp(n){return n=n||{},n.data=Sh(n.data),xh(n),n}const cl=new Map,zh=new Set;function Bs(n,e){let t=cl.get(n);return t||(t=e(),cl.set(n,t),zh.add(t)),t}const Ei=(n,e,t)=>{const i=kn(e,t);i!==void 0&&n.add(i)};class wp{constructor(e){this._config=yp(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Sh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bs(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Bs(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Bs(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return Bs(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:a}=this,o=this._cachedScopes(e,i),r=o.get(t);if(r)return r;const l=new Set;t.forEach(h=>{e&&(l.add(e),h.forEach(u=>Ei(l,e,u))),h.forEach(u=>Ei(l,s,u)),h.forEach(u=>Ei(l,Rn[a]||{},u)),h.forEach(u=>Ei(l,Fe,u)),h.forEach(u=>Ei(l,to,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),zh.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Rn[t]||{},Fe.datasets[t]||{},{type:t},Fe,to]}resolveNamedOptions(e,t,i,s=[""]){const a={$shared:!0},{resolver:o,subPrefixes:r}=hl(this._resolverCache,e,s);let l=o;if(Tp(o,t)){a.$shared=!1,i=bn(i)?i():i;const c=this.createResolver(e,i,r);l=pi(o,i,c)}for(const c of t)a[c]=l[c];return a}createResolver(e,t,i=[""],s){const{resolver:a}=hl(this._resolverCache,e,i);return ve(t)?pi(a,t,void 0,s):a}}function hl(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let a=i.get(s);return a||(a={resolver:Co(e,t),subPrefixes:t.filter(r=>!r.toLowerCase().includes("hover"))},i.set(s,a)),a}const jp=n=>ve(n)&&Object.getOwnPropertyNames(n).some(e=>bn(n[e]));function Tp(n,e){const{isScriptable:t,isIndexable:i}=ah(n);for(const s of e){const a=t(s),o=i(s),r=(o||a)&&n[s];if(a&&(bn(r)||jp(r))||o&&Le(r))return!0}return!1}var xp="4.5.0";const Sp=["top","bottom","left","right","chartArea"];function ul(n,e){return n==="top"||n==="bottom"||Sp.indexOf(n)===-1&&e==="x"}function dl(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function fl(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Pe(t&&t.onComplete,[n],e)}function zp(n){const e=n.chart,t=e.options.animation;Pe(t&&t.onProgress,[n],e)}function Mh(n){return Eo()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ta={},ml=n=>{const e=Mh(n);return Object.values(ta).filter(t=>t.canvas===e).pop()};function Mp(n,e,t){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=e){const o=n[s];delete n[s],(t>0||a>e)&&(n[a+t]=o)}}}function Ip(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class en{static register(...e){Bt.add(...e),pl()}static unregister(...e){Bt.remove(...e),pl()}constructor(e,t){const i=this.config=new wp(t),s=Mh(e),a=ml(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Km(s)),this.platform.updateConfig(i);const r=this.platform.acquireContext(s,o.aspectRatio),l=r&&r.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Id(),this.ctx=r,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new up,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ud(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],ta[this.id]=this,!r||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Xt.listen(this,"complete",fl),Xt.listen(this,"progress",zp),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:a}=this;return ke(e)?t&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dr(this.canvas,this.ctx),this}stop(){return Xt.stop(this),this}resize(e,t){Xt.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,a),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Rr(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),Pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ze(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((o,r)=>(o[r]=!1,o),{});let a=[];t&&(a=a.concat(Object.keys(t).map(o=>{const r=t[o],l=ao(o,r),c=l==="r",h=l==="x";return{options:r,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),ze(a,o=>{const r=o.options,l=r.id,c=ao(l,r),h=he(r.type,o.dtype);(r.position===void 0||ul(r.position,c)!==ul(o.dposition))&&(r.position=o.dposition),s[l]=!0;let u=null;if(l in i&&i[l].type===h)u=i[l];else{const d=Bt.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(r,e)}),ze(s,(o,r)=>{o||delete i[r]}),ze(i,o=>{rt.configure(this,o,o.options),rt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(dl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const a=t[i];let o=this.getDatasetMeta(i);const r=a.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=r,o.indexAxis=a.indexAxis||so(r,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Bt.getController(r),{datasetElementType:c,dataElementType:h}=Fe.datasets[r];Object.assign(l,{dataElementType:Bt.getElement(h),datasetElementType:c&&Bt.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ze(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!s&&a.indexOf(u)===-1;u.buildOrUpdateElements(d),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ze(a,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dl("z","_idx"));const{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){ze(this.scales,e=>{rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!xr(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of t){const o=i==="_removeElements"?-a:a;Mp(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(o=>o[0]===a).map((o,r)=>r+","+o.splice(1).join(","))),s=i(0);for(let a=1;a<t;a++)if(!xr(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rt.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ze(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,bn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xt.has(this)?this.attached&&!Xt.running(this)&&Xt.start(this):(this.draw(),fl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,a;for(s=0,a=t.length;s<a;++s){const o=t[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=gh(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&ya(t,s),e.controller.draw(),s&&wa(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return sn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const a=Sm.modes[t];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=vn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,s);ns(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(a,{visible:i}),this.update(r=>r.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Xt.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dr(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ta[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,o)=>{t.addEventListener(this,a,o),e[a]=o},s=(a,o,r)=>{a.offsetX=o,a.offsetY=r,this._eventHandler(a)};ze(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const r=()=>{s("attach",r),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",r)},t.isAttached(this.canvas)?r():o()}unbindEvents(){ze(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ze(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let a,o,r,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),r=0,l=e.length;r<l;++r){o=e[r];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:o})=>{const r=this.getDatasetMeta(a);if(!r)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:r.data[o],index:o}});!ca(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,a=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=a(t,e),r=i?e:a(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),r.length&&s.mode&&this.updateHoverStyle(r,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:a}=this,o=t,r=this._getActiveElements(e,s,i,o),l=Od(e),c=Ip(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Pe(a.onHover,[e,r,this],this),l&&Pe(a.onClick,[e,r,this],this));const h=!ca(r,s);return(h||t)&&(this._active=r,this._updateHoverStyles(r,s,t)),this._lastEvent=c,h}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}}$(en,"defaults",Fe),$(en,"instances",ta),$(en,"overrides",Rn),$(en,"registry",Bt),$(en,"version",xp),$(en,"getChart",ml);function pl(){return ze(en.instances,n=>n._plugins.invalidate())}function Wp(n,e,t){const{startAngle:i,x:s,y:a,outerRadius:o,innerRadius:r,options:l}=e,{borderWidth:c,borderJoinStyle:h}=l,u=Math.min(c/o,ot(i-t));if(n.beginPath(),n.arc(s,a,o-c/2,i+u/2,t-u/2),r>0){const d=Math.min(c/r,ot(i-t));n.arc(s,a,r+c/2,t-d/2,i+d/2,!0)}else{const d=Math.min(c/2,o*ot(i-t));if(h==="round")n.arc(s,a,d,t-je/2,i+je/2,!0);else if(h==="bevel"){const f=2*d*d,m=-f*Math.cos(t+je/2)+s,p=-f*Math.sin(t+je/2)+a,_=f*Math.cos(i+je/2)+s,k=f*Math.sin(i+je/2)+a;n.lineTo(m,p),n.lineTo(_,k)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Pp(n,e,t){const{startAngle:i,pixelMargin:s,x:a,y:o,outerRadius:r,innerRadius:l}=e;let c=s/r;n.beginPath(),n.arc(a,o,r,i-c,t+c),l>s?(c=s/l,n.arc(a,o,l,t+c,i-c,!0)):n.arc(a,o,s,t+Ye,i-Ye),n.closePath(),n.clip()}function Ap(n){return Ao(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Cp(n,e,t,i){const s=Ap(n.options.borderRadius),a=(t-e)/2,o=Math.min(a,i*e/2),r=l=>{const c=(t-Math.min(a,l))*i/2;return et(l,0,Math.min(a,c))};return{outerStart:r(s.outerStart),outerEnd:r(s.outerEnd),innerStart:et(s.innerStart,0,o),innerEnd:et(s.innerEnd,0,o)}}function ai(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function pa(n,e,t,i,s,a){const{x:o,y:r,startAngle:l,pixelMargin:c,innerRadius:h}=e,u=Math.max(e.outerRadius+i+t-c,0),d=h>0?h+i+t+c:0;let f=0;const m=s-l;if(i){const V=h>0?h-i:0,Y=u>0?u-i:0,ee=(V+Y)/2,Q=ee!==0?m*ee/(ee+i):m;f=(m-Q)/2}const p=Math.max(.001,m*u-t/je)/u,_=(m-p)/2,k=l+_+f,w=s-_-f,{outerStart:I,outerEnd:S,innerStart:T,innerEnd:C}=Cp(e,d,u,w-k),A=u-I,E=u-S,B=k+I/A,N=w-S/E,U=d+T,q=d+C,Z=k+T/U,H=w-C/q;if(n.beginPath(),a){const V=(B+N)/2;if(n.arc(o,r,u,B,V),n.arc(o,r,u,V,N),S>0){const se=ai(E,N,o,r);n.arc(se.x,se.y,S,N,w+Ye)}const Y=ai(q,w,o,r);if(n.lineTo(Y.x,Y.y),C>0){const se=ai(q,H,o,r);n.arc(se.x,se.y,C,w+Ye,H+Math.PI)}const ee=(w-C/d+(k+T/d))/2;if(n.arc(o,r,d,w-C/d,ee,!0),n.arc(o,r,d,ee,k+T/d,!0),T>0){const se=ai(U,Z,o,r);n.arc(se.x,se.y,T,Z+Math.PI,k-Ye)}const Q=ai(A,k,o,r);if(n.lineTo(Q.x,Q.y),I>0){const se=ai(A,B,o,r);n.arc(se.x,se.y,I,k-Ye,B)}}else{n.moveTo(o,r);const V=Math.cos(B)*u+o,Y=Math.sin(B)*u+r;n.lineTo(V,Y);const ee=Math.cos(N)*u+o,Q=Math.sin(N)*u+r;n.lineTo(ee,Q)}n.closePath()}function Dp(n,e,t,i,s){const{fullCircles:a,startAngle:o,circumference:r}=e;let l=e.endAngle;if(a){pa(n,e,t,i,l,s);for(let c=0;c<a;++c)n.fill();isNaN(r)||(l=o+(r%De||De))}return pa(n,e,t,i,l,s),n.fill(),l}function Op(n,e,t,i,s){const{fullCircles:a,startAngle:o,circumference:r,options:l}=e,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d,borderRadius:f}=l,m=l.borderAlign==="inner";if(!c)return;n.setLineDash(u||[]),n.lineDashOffset=d,m?(n.lineWidth=c*2,n.lineJoin=h||"round"):(n.lineWidth=c,n.lineJoin=h||"bevel");let p=e.endAngle;if(a){pa(n,e,t,i,p,s);for(let _=0;_<a;++_)n.stroke();isNaN(r)||(p=o+(r%De||De))}m&&Pp(n,e,p),l.selfJoin&&p-o>=je&&f===0&&h!=="miter"&&Wp(n,e,p),a||(pa(n,e,t,i,p,s),n.stroke())}class Ni extends At{constructor(t){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,s){const a=this.getProps(["x","y"],s),{angle:o,distance:r}=Yc(a,{x:t,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,m=he(d,c-l),p=is(o,l,c)&&l!==c,_=m>=De||p,k=tn(r,h+f,u+f);return _&&k}getCenterPoint(t){const{x:i,y:s,startAngle:a,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:h}=this.options,u=(a+o)/2,d=(r+l+h+c)/2;return{x:i+Math.cos(u)*d,y:s+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:s}=this,a=(i.offset||0)/4,o=(i.spacing||0)/2,r=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>De?Math.floor(s/De):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(je,s||0)),h=a*c;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,Dp(t,this,h,o,r),Op(t,this,h,o,r),t.restore()}}$(Ni,"id","arc"),$(Ni,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),$(Ni,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(Ni,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Ih(n,e,t=e){n.lineCap=he(t.borderCapStyle,e.borderCapStyle),n.setLineDash(he(t.borderDash,e.borderDash)),n.lineDashOffset=he(t.borderDashOffset,e.borderDashOffset),n.lineJoin=he(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=he(t.borderWidth,e.borderWidth),n.strokeStyle=he(t.borderColor,e.borderColor)}function Ep(n,e,t){n.lineTo(t.x,t.y)}function Rp(n){return n.stepped?af:n.tension||n.cubicInterpolationMode==="monotone"?of:Ep}function Wh(n,e,t={}){const i=n.length,{start:s=0,end:a=i-1}=t,{start:o,end:r}=e,l=Math.max(s,o),c=Math.min(a,r),h=s<o&&a<o||s>r&&a>r;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function Lp(n,e,t,i){const{points:s,options:a}=e,{count:o,start:r,loop:l,ilen:c}=Wh(s,t,i),h=Rp(a);let{move:u=!0,reverse:d}=i||{},f,m,p;for(f=0;f<=c;++f)m=s[(r+(d?c-f:f))%o],!m.skip&&(u?(n.moveTo(m.x,m.y),u=!1):h(n,p,m,d,a.stepped),p=m);return l&&(m=s[(r+(d?c:0))%o],h(n,p,m,d,a.stepped)),!!l}function Fp(n,e,t,i){const s=e.points,{count:a,start:o,ilen:r}=Wh(s,t,i),{move:l=!0,reverse:c}=i||{};let h=0,u=0,d,f,m,p,_,k;const w=S=>(o+(c?r-S:S))%a,I=()=>{p!==_&&(n.lineTo(h,_),n.lineTo(h,p),n.lineTo(h,k))};for(l&&(f=s[w(0)],n.moveTo(f.x,f.y)),d=0;d<=r;++d){if(f=s[w(d)],f.skip)continue;const S=f.x,T=f.y,C=S|0;C===m?(T<p?p=T:T>_&&(_=T),h=(u*h+S)/++u):(I(),n.lineTo(S,T),m=C,u=0,p=_=T),k=T}I()}function oo(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Fp:Lp}function Bp(n){return n.stepped?Lf:n.tension||n.cubicInterpolationMode==="monotone"?Ff:Pn}function Np(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),Ih(n,e.options),n.stroke(s)}function qp(n,e,t,i){const{segments:s,options:a}=e,o=oo(e);for(const r of s)Ih(n,a,r.style),n.beginPath(),o(n,e,r,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const Vp=typeof Path2D=="function";function Hp(n,e,t,i){Vp&&!e.options.segment?Np(n,e,t,i):qp(n,e,t,i)}class dn extends At{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Wf(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$f(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],a=this.points,o=ph(this,{property:t,start:s,end:s});if(!o.length)return;const r=[],l=Bp(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:d}=o[c],f=a[u],m=a[d];if(f===m){r.push(f);continue}const p=Math.abs((s-f[t])/(m[t]-f[t])),_=l(f,m,p,i.stepped);_[t]=e[t],r.push(_)}return r.length===1?r[0]:r}pathSegment(e,t,i){return oo(this)(e,this,t,i)}path(e,t,i){const s=this.segments,a=oo(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const r of s)o&=a(e,this,r,{start:t,end:t+i-1});return!!o}draw(e,t,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Hp(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(dn,"id","line"),$(dn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(dn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(dn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function gl(n,e,t,i){const s=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<s.radius+s.hitRadius}class na extends At{constructor(t){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const a=this.options,{x:o,y:r}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(i-r,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return gl(this,t,"x",i)}inYRange(t,i){return gl(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!sn(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,no(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}$(na,"id","point"),$(na,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(na,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Ph(n,e){const{x:t,y:i,base:s,width:a,height:o}=n.getProps(["x","y","base","width","height"],e);let r,l,c,h,u;return n.horizontal?(u=o/2,r=Math.min(t,s),l=Math.max(t,s),c=i-u,h=i+u):(u=a/2,r=t-u,l=t+u,c=Math.min(i,s),h=Math.max(i,s)),{left:r,top:c,right:l,bottom:h}}function fn(n,e,t,i){return n?0:et(e,t,i)}function $p(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,a=sh(i);return{t:fn(s.top,a.top,0,t),r:fn(s.right,a.right,0,e),b:fn(s.bottom,a.bottom,0,t),l:fn(s.left,a.left,0,e)}}function Up(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,a=On(s),o=Math.min(e,t),r=n.borderSkipped,l=i||ve(s);return{topLeft:fn(!l||r.top||r.left,a.topLeft,0,o),topRight:fn(!l||r.top||r.right,a.topRight,0,o),bottomLeft:fn(!l||r.bottom||r.left,a.bottomLeft,0,o),bottomRight:fn(!l||r.bottom||r.right,a.bottomRight,0,o)}}function Kp(n){const e=Ph(n),t=e.right-e.left,i=e.bottom-e.top,s=$p(n,t/2,i/2),a=Up(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Va(n,e,t,i){const s=e===null,a=t===null,r=n&&!(s&&a)&&Ph(n,i);return r&&(s||tn(e,r.left,r.right))&&(a||tn(t,r.top,r.bottom))}function Gp(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Yp(n,e){n.rect(e.x,e.y,e.w,e.h)}function Ha(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+a,h:n.h+o,radius:n.radius}}class ia extends At{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:o}=Kp(this),r=Gp(o.radius)?ss:Yp;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),r(e,Ha(o,t,a)),e.clip(),r(e,Ha(a,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),r(e,Ha(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return Va(this,e,t,i)}inXRange(e,t){return Va(this,e,null,t)}inYRange(e,t){return Va(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(ia,"id","bar"),$(ia,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(ia,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Jp=Object.freeze({__proto__:null,ArcElement:Ni,BarElement:ia,LineElement:dn,PointElement:na});const ro=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_l=ro.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ah(n){return ro[n%ro.length]}function Ch(n){return _l[n%_l.length]}function Xp(n,e){return n.borderColor=Ah(e),n.backgroundColor=Ch(e),++e}function Zp(n,e){return n.backgroundColor=n.data.map(()=>Ah(e++)),e}function Qp(n,e){return n.backgroundColor=n.data.map(()=>Ch(e++)),e}function eg(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Cn?e=Zp(t,e):s instanceof Ji?e=Qp(t,e):s&&(e=Xp(t,e))}}function kl(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function tg(n){return n&&(n.borderColor||n.backgroundColor)}function ng(){return Fe.borderColor!=="rgba(0,0,0,0.1)"||Fe.backgroundColor!=="rgba(0,0,0,0.1)"}var ig={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:a}=s,o=kl(i)||tg(s)||a&&kl(a)||ng();if(!t.forceOverride&&o)return;const r=eg(n);i.forEach(r)}};function sg(n,e,t,i,s){const a=s.samples||i;if(a>=t)return n.slice(e,e+t);const o=[],r=(t-2)/(a-2);let l=0;const c=e+t-1;let h=e,u,d,f,m,p;for(o[l++]=n[h],u=0;u<a-2;u++){let _=0,k=0,w;const I=Math.floor((u+1)*r)+1+e,S=Math.min(Math.floor((u+2)*r)+1,t)+e,T=S-I;for(w=I;w<S;w++)_+=n[w].x,k+=n[w].y;_/=T,k/=T;const C=Math.floor(u*r)+1+e,A=Math.min(Math.floor((u+1)*r)+1,t)+e,{x:E,y:B}=n[h];for(f=m=-1,w=C;w<A;w++)m=.5*Math.abs((E-_)*(n[w].y-B)-(E-n[w].x)*(k-B)),m>f&&(f=m,d=n[w],p=w);o[l++]=d,h=p}return o[l++]=n[c],o}function ag(n,e,t,i){let s=0,a=0,o,r,l,c,h,u,d,f,m,p;const _=[],k=e+t-1,w=n[e].x,S=n[k].x-w;for(o=e;o<e+t;++o){r=n[o],l=(r.x-w)/S*i,c=r.y;const T=l|0;if(T===h)c<m?(m=c,u=o):c>p&&(p=c,d=o),s=(a*s+r.x)/++a;else{const C=o-1;if(!ke(u)&&!ke(d)){const A=Math.min(u,d),E=Math.max(u,d);A!==f&&A!==C&&_.push({...n[A],x:s}),E!==f&&E!==C&&_.push({...n[E],x:s})}o>0&&C!==f&&_.push(n[C]),_.push(r),h=T,a=0,m=p=c,u=d=f=o}}return _}function Dh(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function bl(n){n.data.datasets.forEach(e=>{Dh(e)})}function og(n,e){const t=e.length;let i=0,s;const{iScale:a}=n,{min:o,max:r,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=et(nn(e,a.axis,o).lo,0,t-1)),c?s=et(nn(e,a.axis,r).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var rg={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){bl(n);return}const i=n.width;n.data.datasets.forEach((s,a)=>{const{_data:o,indexAxis:r}=s,l=n.getDatasetMeta(a),c=o||s.data;if(Fi([r,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=n.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||n.options.parsing)return;let{start:u,count:d}=og(l,c);const f=t.threshold||4*i;if(d<=f){Dh(s);return}ke(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let m;switch(t.algorithm){case"lttb":m=sg(c,u,d,i,t);break;case"min-max":m=ag(c,u,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=m})},destroy(n){bl(n)}};function lg(n,e,t){const i=n.segments,s=n.points,a=e.points,o=[];for(const r of i){let{start:l,end:c}=r;c=xa(l,c,s);const h=lo(t,s[l],s[c],r.loop);if(!e.segments){o.push({source:r,target:h,start:s[l],end:s[c]});continue}const u=ph(e,h);for(const d of u){const f=lo(t,a[d.start],a[d.end],d.loop),m=mh(r,s,f);for(const p of m)o.push({source:p,target:d,start:{[t]:vl(h,f,"start",Math.max)},end:{[t]:vl(h,f,"end",Math.min)}})}}return o}function lo(n,e,t,i){if(i)return;let s=e[n],a=t[n];return n==="angle"&&(s=ot(s),a=ot(a)),{property:n,start:s,end:a}}function cg(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,a=[];return e.segments.forEach(({start:o,end:r})=>{r=xa(o,r,s);const l=s[o],c=s[r];i!==null?(a.push({x:l.x,y:i}),a.push({x:c.x,y:i})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:c.y}))}),a}function xa(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function vl(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Oh(n,e){let t=[],i=!1;return Le(n)?(i=!0,t=n):t=cg(n,e),t.length?new dn({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function yl(n){return n&&n.fill!==!1}function hg(n,e,t){let s=n[e].fill;const a=[e];let o;if(!t)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!He(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;a.push(s),s=o.fill}return!1}function ug(n,e,t){const i=pg(n);if(ve(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return He(s)&&Math.floor(s)===s?dg(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function dg(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function fg(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:ve(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function mg(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:ve(n)?i=n.value:i=e.getBaseValue(),i}function pg(n){const e=n.options,t=e.fill;let i=he(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function gg(n){const{scale:e,index:t,line:i}=n,s=[],a=i.segments,o=i.points,r=_g(e,t);r.push(Oh({x:null,y:e.bottom},i));for(let l=0;l<a.length;l++){const c=a[l];for(let h=c.start;h<=c.end;h++)kg(s,o[h],r)}return new dn({points:s,options:{}})}function _g(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function kg(n,e,t){const i=[];for(let s=0;s<t.length;s++){const a=t[s],{first:o,last:r,point:l}=bg(a,e,"x");if(!(!l||o&&r)){if(o)i.unshift(l);else if(n.push(l),!r)break}}n.push(...i)}function bg(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],a=n.segments,o=n.points;let r=!1,l=!1;for(let c=0;c<a.length;c++){const h=a[c],u=o[h.start][t],d=o[h.end][t];if(tn(s,u,d)){r=s===u,l=s===d;break}}return{first:r,last:l,point:i}}class Eh{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:a,radius:o}=this;return t=t||{start:0,end:De},e.arc(s,a,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,a=e.angle;return{x:t+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function vg(n){const{chart:e,fill:t,line:i}=n;if(He(t))return yg(e,t);if(t==="stack")return gg(n);if(t==="shape")return!0;const s=wg(n);return s instanceof Eh?s:Oh(s,i)}function yg(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function wg(n){return(n.scale||{}).getPointPositionForValue?Tg(n):jg(n)}function jg(n){const{scale:e={},fill:t}=n,i=fg(t,e);if(He(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function Tg(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,a=i.reverse?e.max:e.min,o=mg(t,e,a),r=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,a);return new Eh({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)r.push(e.getPointPositionForValue(l,o));return r}function $a(n,e,t){const i=vg(e),{chart:s,index:a,line:o,scale:r,axis:l}=e,c=o.options,h=c.fill,u=c.backgroundColor,{above:d=u,below:f=u}=h||{},m=s.getDatasetMeta(a),p=gh(s,m);i&&o.points.length&&(ya(n,t),xg(n,{line:o,target:i,above:d,below:f,area:t,scale:r,axis:l,clip:p}),wa(n))}function xg(n,e){const{line:t,target:i,above:s,below:a,area:o,scale:r,clip:l}=e,c=t._loop?"angle":e.axis;n.save();let h=a;a!==s&&(c==="x"?(wl(n,i,o.top),Ua(n,{line:t,target:i,color:s,scale:r,property:c,clip:l}),n.restore(),n.save(),wl(n,i,o.bottom)):c==="y"&&(jl(n,i,o.left),Ua(n,{line:t,target:i,color:a,scale:r,property:c,clip:l}),n.restore(),n.save(),jl(n,i,o.right),h=s)),Ua(n,{line:t,target:i,color:h,scale:r,property:c,clip:l}),n.restore()}function wl(n,e,t){const{segments:i,points:s}=e;let a=!0,o=!1;n.beginPath();for(const r of i){const{start:l,end:c}=r,h=s[l],u=s[xa(l,c,s)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,r,{move:o}),o?n.closePath():n.lineTo(u.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function jl(n,e,t){const{segments:i,points:s}=e;let a=!0,o=!1;n.beginPath();for(const r of i){const{start:l,end:c}=r,h=s[l],u=s[xa(l,c,s)];a?(n.moveTo(h.x,h.y),a=!1):(n.lineTo(t,h.y),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,r,{move:o}),o?n.closePath():n.lineTo(t,u.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Ua(n,e){const{line:t,target:i,property:s,color:a,scale:o,clip:r}=e,l=lg(t,i,s);for(const{source:c,target:h,start:u,end:d}of l){const{style:{backgroundColor:f=a}={}}=c,m=i!==!0;n.save(),n.fillStyle=f,Sg(n,o,r,m&&lo(s,u,d)),n.beginPath();const p=!!t.pathSegment(n,c);let _;if(m){p?n.closePath():Tl(n,i,d,s);const k=!!i.pathSegment(n,h,{move:p,reverse:!0});_=p&&k,_||Tl(n,i,u,s)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function Sg(n,e,t,i){const s=e.chart.chartArea,{property:a,start:o,end:r}=i||{};if(a==="x"||a==="y"){let l,c,h,u;a==="x"?(l=o,c=s.top,h=r,u=s.bottom):(l=s.left,c=o,h=s.right,u=r),n.beginPath(),t&&(l=Math.max(l,t.left),h=Math.min(h,t.right),c=Math.max(c,t.top),u=Math.min(u,t.bottom)),n.rect(l,c,h-l,u-c),n.clip()}}function Tl(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var zg={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let a,o,r,l;for(o=0;o<i;++o)a=n.getDatasetMeta(o),r=a.dataset,l=null,r&&r.options&&r instanceof dn&&(l={visible:n.isDatasetVisible(o),index:o,fill:ug(r,o,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:r}),a.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=hg(s,o,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let o=s.length-1;o>=0;--o){const r=s[o].$filler;r&&(r.line.updateControlPoints(a,r.axis),i&&r.fill&&$a(n.ctx,r,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;yl(a)&&$a(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!yl(i)||t.drawTime!=="beforeDatasetDraw"||$a(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const xl=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},Mg=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Sl extends At{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Pe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Qe(i.font),a=s.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=xl(i,a);let c,h;t.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,a,r,l)+10):(h=this.maxHeight,c=this._fitCols(o,s,r,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:a,maxWidth:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+r;let u=e;a.textAlign="left",a.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((m,p)=>{const _=i+t/2+a.measureText(m.text).width;(p===0||c[c.length-1]+_+2*r>o)&&(u+=h,c[c.length-(p>0?0:1)]=0,f+=h,d++),l[p]={left:0,top:f,row:d,width:_,height:s},c[c.length-1]+=_+r}),u}_fitCols(e,t,i,s){const{ctx:a,maxHeight:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let u=r,d=0,f=0,m=0,p=0;return this.legendItems.forEach((_,k)=>{const{itemWidth:w,itemHeight:I}=Ig(i,t,a,_,s);k>0&&f+I+2*r>h&&(u+=d+r,c.push({width:d,height:f}),m+=d+r,p++,d=f=0),l[k]={left:m,top:f,col:p,width:w,height:I},d=Math.max(d,w),f+=I+r}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:a}}=this,o=li(a,this.left,this.width);if(this.isHorizontal()){let r=0,l=at(i,this.left+s,this.right-this.lineWidths[r]);for(const c of t)r!==c.row&&(r=c.row,l=at(i,this.left+s,this.right-this.lineWidths[r])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let r=0,l=at(i,this.top+e+s,this.bottom-this.columnSizes[r].height);for(const c of t)c.col!==r&&(r=c.col,l=at(i,this.top+e+s,this.bottom-this.columnSizes[r].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ya(e,this),this._draw(),wa(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:a,labels:o}=e,r=Fe.color,l=li(e.rtl,this.left,this.width),c=Qe(o.font),{padding:h}=o,u=c.size,d=u/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:_}=xl(o,u),k=function(C,A,E){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;s.save();const B=he(E.lineWidth,1);if(s.fillStyle=he(E.fillStyle,r),s.lineCap=he(E.lineCap,"butt"),s.lineDashOffset=he(E.lineDashOffset,0),s.lineJoin=he(E.lineJoin,"miter"),s.lineWidth=B,s.strokeStyle=he(E.strokeStyle,r),s.setLineDash(he(E.lineDash,[])),o.usePointStyle){const N={radius:p*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:B},U=l.xPlus(C,m/2),q=A+d;ih(s,N,U,q,o.pointStyleWidth&&m)}else{const N=A+Math.max((u-p)/2,0),U=l.leftForLtr(C,m),q=On(E.borderRadius);s.beginPath(),Object.values(q).some(Z=>Z!==0)?ss(s,{x:U,y:N,w:m,h:p,radius:q}):s.rect(U,N,m,p),s.fill(),B!==0&&s.stroke()}s.restore()},w=function(C,A,E){Ln(s,E.text,C,A+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},I=this.isHorizontal(),S=this._computeTitleHeight();I?f={x:at(a,this.left+h,this.right-i[0]),y:this.top+h+S,line:0}:f={x:this.left+h,y:at(a,this.top+S+h,this.bottom-t[0].height),line:0},uh(this.ctx,e.textDirection);const T=_+h;this.legendItems.forEach((C,A)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const E=s.measureText(C.text).width,B=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),N=m+d+E;let U=f.x,q=f.y;l.setWidth(this.width),I?A>0&&U+N+h>this.right&&(q=f.y+=T,f.line++,U=f.x=at(a,this.left+h,this.right-i[f.line])):A>0&&q+T>this.bottom&&(U=f.x=U+t[f.line].width+h,f.line++,q=f.y=at(a,this.top+S+h,this.bottom-t[f.line].height));const Z=l.x(U);if(k(Z,q,C),U=Kd(B,U+m+d,I?U+N:this.right,e.rtl),w(l.x(U),q,C),I)f.x+=N+h;else if(typeof C.text!="string"){const H=c.lineHeight;f.y+=Rh(C,H)+h}else f.y+=T}),dh(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Qe(t.font),s=lt(t.padding);if(!t.display)return;const a=li(e.rtl,this.left,this.width),o=this.ctx,r=t.position,l=i.size/2,c=s.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=at(e.align,u,this.right-d);else{const m=this.columnSizes.reduce((p,_)=>Math.max(p,_.height),0);h=c+at(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=at(r,u,u+d);o.textAlign=a.textAlign(Wo(r)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ln(o,t.text,f,h,i)}_computeTitleHeight(){const e=this.options.title,t=Qe(e.font),i=lt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,a;if(tn(e,this.left,this.right)&&tn(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],tn(e,s.left,s.left+s.width)&&tn(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!Ag(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=Mg(s,i);s&&!a&&Pe(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&Pe(t.onHover,[e,i,this],this)}else i&&Pe(t.onClick,[e,i,this],this)}}function Ig(n,e,t,i,s){const a=Wg(i,n,e,t),o=Pg(s,i,e.lineHeight);return{itemWidth:a,itemHeight:o}}function Wg(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,o)=>a.length>o.length?a:o)),e+t.size/2+i.measureText(s).width}function Pg(n,e,t){let i=n;return typeof e.text!="string"&&(i=Rh(e,t)),i}function Rh(n,e){const t=n.text?n.text.length:0;return e*t}function Ag(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Cg={id:"legend",_element:Sl,start(n,e,t){const i=n.legend=new Sl({ctx:n.ctx,options:t,chart:n});rt.configure(n,i,t),rt.addBox(n,i)},stop(n){rt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;rt.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:a,useBorderRadius:o,borderRadius:r}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),h=lt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(r||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Fo extends At{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Le(i.text)?i.text.length:1;this._padding=lt(i.padding);const a=s*Qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:a,options:o}=this,r=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=at(r,i,a),u=t+e,c=a-i):(o.position==="left"?(h=i+e,u=at(r,s,t),l=je*-.5):(h=a-e,u=at(r,t,s),l=je*.5),c=s-t),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Qe(t.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:l,rotation:c}=this._drawArgs(a);Ln(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:Wo(t.align),textBaseline:"middle",translation:[o,r]})}}function Dg(n,e){const t=new Fo({ctx:n.ctx,options:e,chart:n});rt.configure(n,t,e),rt.addBox(n,t),n.titleBlock=t}var Og={id:"title",_element:Fo,start(n,e,t){Dg(n,t)},stop(n){const e=n.titleBlock;rt.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;rt.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ns=new WeakMap;var Eg={id:"subtitle",start(n,e,t){const i=new Fo({ctx:n.ctx,options:t,chart:n});rt.configure(n,i,t),rt.addBox(n,i),Ns.set(n,i)},stop(n){rt.removeBox(n,Ns.get(n)),Ns.delete(n)},beforeUpdate(n,e,t){const i=Ns.get(n);rt.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qi={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,a=0;for(e=0,t=n.length;e<t;++e){const r=n[e].element;if(r&&r.hasValue()){const l=r.tooltipPosition();i.add(l.x),s+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((r,l)=>r+l)/i.size,y:s/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,o,r;for(a=0,o=n.length;a<o;++a){const l=n[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=eo(e,c);h<s&&(s=h,r=l)}}if(r){const l=r.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Ft(n,e){return e&&(Le(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Zt(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Rg(n,e){const{element:t,datasetIndex:i,index:s}=e,a=n.getDatasetMeta(i).controller,{label:o,value:r}=a.getLabelAndValue(s);return{chart:n,label:o,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:r,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function zl(n,e){const t=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:o,boxHeight:r}=e,l=Qe(e.bodyFont),c=Qe(e.titleFont),h=Qe(e.footerFont),u=a.length,d=s.length,f=i.length,m=lt(e.padding);let p=m.height,_=0,k=i.reduce((S,T)=>S+T.before.length+T.lines.length+T.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),k){const S=e.displayColors?Math.max(r,l.lineHeight):l.lineHeight;p+=f*S+(k-f)*l.lineHeight+(k-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*h.lineHeight+(d-1)*e.footerSpacing);let w=0;const I=function(S){_=Math.max(_,t.measureText(S).width+w)};return t.save(),t.font=c.string,ze(n.title,I),t.font=l.string,ze(n.beforeBody.concat(n.afterBody),I),w=e.displayColors?o+2+e.boxPadding:0,ze(i,S=>{ze(S.before,I),ze(S.lines,I),ze(S.after,I)}),w=0,t.font=h.string,ze(n.footer,I),t.restore(),_+=m.width,{width:_,height:p}}function Lg(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Fg(n,e,t,i){const{x:s,width:a}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&s+a+o>e.width||n==="right"&&s-a-o<0)return!0}function Bg(n,e,t,i){const{x:s,width:a}=t,{width:o,chartArea:{left:r,right:l}}=n;let c="center";return i==="center"?c=s<=(r+l)/2?"left":"right":s<=a/2?c="left":s>=o-a/2&&(c="right"),Fg(c,n,e,t)&&(c="center"),c}function Ml(n,e,t){const i=t.yAlign||e.yAlign||Lg(n,t);return{xAlign:t.xAlign||e.xAlign||Bg(n,e,t,i),yAlign:i}}function Ng(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function qg(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function Il(n,e,t,i){const{caretSize:s,caretPadding:a,cornerRadius:o}=n,{xAlign:r,yAlign:l}=t,c=s+a,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=On(o);let m=Ng(e,r);const p=qg(e,l,c);return l==="center"?r==="left"?m+=c:r==="right"&&(m-=c):r==="left"?m-=Math.max(h,d)+s:r==="right"&&(m+=Math.max(u,f)+s),{x:et(m,0,i.width-e.width),y:et(p,0,i.height-e.height)}}function qs(n,e,t){const i=lt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Wl(n){return Ft([],Zt(n))}function Vg(n,e,t){return vn(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Pl(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Lh={beforeTitle:Yt,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Yt,beforeBody:Yt,beforeLabel:Yt,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ke(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Yt,afterBody:Yt,beforeFooter:Yt,footer:Yt,afterFooter:Yt};function dt(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?Lh[e].call(t,i):s}class co extends At{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,a=new _h(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Vg(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=dt(i,"beforeTitle",this,e),a=dt(i,"title",this,e),o=dt(i,"afterTitle",this,e);let r=[];return r=Ft(r,Zt(s)),r=Ft(r,Zt(a)),r=Ft(r,Zt(o)),r}getBeforeBody(e,t){return Wl(dt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return ze(e,a=>{const o={before:[],lines:[],after:[]},r=Pl(i,a);Ft(o.before,Zt(dt(r,"beforeLabel",this,a))),Ft(o.lines,dt(r,"label",this,a)),Ft(o.after,Zt(dt(r,"afterLabel",this,a))),s.push(o)}),s}getAfterBody(e,t){return Wl(dt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=dt(i,"beforeFooter",this,e),a=dt(i,"footer",this,e),o=dt(i,"afterFooter",this,e);let r=[];return r=Ft(r,Zt(s)),r=Ft(r,Zt(a)),r=Ft(r,Zt(o)),r}_createItems(e){const t=this._active,i=this.chart.data,s=[],a=[],o=[];let r=[],l,c;for(l=0,c=t.length;l<c;++l)r.push(Rg(this.chart,t[l]));return e.filter&&(r=r.filter((h,u,d)=>e.filter(h,u,d,i))),e.itemSort&&(r=r.sort((h,u)=>e.itemSort(h,u,i))),ze(r,h=>{const u=Pl(e.callbacks,h);s.push(dt(u,"labelColor",this,h)),a.push(dt(u,"labelPointStyle",this,h)),o.push(dt(u,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=r,r}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let a,o=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const r=qi[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=zl(this,i),c=Object.assign({},r,l),h=Ml(this.chart,i,c),u=Il(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:r.x,caretY:r.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const a=this.getCaretPosition(e,i,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:a}=this,{caretSize:o,cornerRadius:r}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=On(r),{x:d,y:f}=e,{width:m,height:p}=t;let _,k,w,I,S,T;return a==="center"?(S=f+p/2,s==="left"?(_=d,k=_-o,I=S+o,T=S-o):(_=d+m,k=_+o,I=S-o,T=S+o),w=_):(s==="left"?k=d+Math.max(l,h)+o:s==="right"?k=d+m-Math.max(c,u)-o:k=this.caretX,a==="top"?(I=f,S=I-o,_=k-o,w=k+o):(I=f+p,S=I+o,_=k+o,w=k-o),T=I),{x1:_,x2:k,x3:w,y1:I,y2:S,y3:T}}drawTitle(e,t,i){const s=this.title,a=s.length;let o,r,l;if(a){const c=li(i.rtl,this.x,this.width);for(e.x=qs(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",o=Qe(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,l=0;l<a;++l)t.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r,l+1===a&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,s,a){const o=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=a,h=Qe(a.bodyFont),u=qs(this,"left",a),d=s.x(u),f=l<h.lineHeight?(h.lineHeight-l)/2:0,m=t.y+f;if(a.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},_=s.leftForLtr(d,c)+c/2,k=m+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,no(e,p,_,k),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,no(e,p,_,k)}else{e.lineWidth=ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=s.leftForLtr(d,c),_=s.leftForLtr(s.xPlus(d,1),c-2),k=On(o.borderRadius);Object.values(k).some(w=>w!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,ss(e,{x:p,y:m,w:c,h:l,radius:k}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ss(e,{x:_,y:m+1,w:c-2,h:l-2,radius:k}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(p,m,c,l),e.strokeRect(p,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:a,bodyAlign:o,displayColors:r,boxHeight:l,boxWidth:c,boxPadding:h}=i,u=Qe(i.bodyFont);let d=u.lineHeight,f=0;const m=li(i.rtl,this.x,this.width),p=function(E){t.fillText(E,m.x(e.x+f),e.y+d/2),e.y+=d+a},_=m.textAlign(o);let k,w,I,S,T,C,A;for(t.textAlign=o,t.textBaseline="middle",t.font=u.string,e.x=qs(this,_,i),t.fillStyle=i.bodyColor,ze(this.beforeBody,p),f=r&&_!=="right"?o==="center"?c/2+h:c+2+h:0,S=0,C=s.length;S<C;++S){for(k=s[S],w=this.labelTextColors[S],t.fillStyle=w,ze(k.before,p),I=k.lines,r&&I.length&&(this._drawColorBox(t,e,S,m,i),d=Math.max(u.lineHeight,l)),T=0,A=I.length;T<A;++T)p(I[T]),d=u.lineHeight;ze(k.after,p)}f=0,d=u.lineHeight,ze(this.afterBody,p),e.y-=a}drawFooter(e,t,i){const s=this.footer,a=s.length;let o,r;if(a){const l=li(i.rtl,this.x,this.width);for(e.x=qs(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",o=Qe(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,r=0;r<a;++r)t.fillText(s[r],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:a,yAlign:o}=this,{x:r,y:l}=e,{width:c,height:h}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=On(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(r+u,l),o==="top"&&this.drawCaret(e,t,i,s),t.lineTo(r+c-d,l),t.quadraticCurveTo(r+c,l,r+c,l+d),o==="center"&&a==="right"&&this.drawCaret(e,t,i,s),t.lineTo(r+c,l+h-m),t.quadraticCurveTo(r+c,l+h,r+c-m,l+h),o==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(r+f,l+h),t.quadraticCurveTo(r,l+h,r,l+h-f),o==="center"&&a==="left"&&this.drawCaret(e,t,i,s),t.lineTo(r,l+u),t.quadraticCurveTo(r,l,r+u,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const o=qi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const r=this._size=zl(this,e),l=Object.assign({},o,this._size),c=Ml(t,e,l),h=Il(e,l,c,t);(s._to!==h.x||a._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=lt(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,t),uh(e,t.textDirection),a.y+=o.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),dh(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:r,index:l})=>{const c=this.chart.getDatasetMeta(r);if(!c)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:c.data[l],index:l}}),a=!ca(i,s),o=this._positionChanged(s,t);(a||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],o=this._getActiveElements(e,a,t,i),r=this._positionChanged(o,e),l=t||!ca(o,a)||r;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(r=>this.chart.data.datasets[r.datasetIndex]&&this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:s,options:a}=this,o=qi[a.position].call(this,e,t);return o!==!1&&(i!==o.x||s!==o.y)}}$(co,"positioners",qi);var Hg={id:"tooltip",_element:co,positioners:qi,afterInit(n,e,t){t&&(n.tooltip=new co({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$g=Object.freeze({__proto__:null,Colors:ig,Decimation:rg,Filler:zg,Legend:Cg,SubTitle:Eg,Title:Og,Tooltip:Hg});const Ug=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Kg(n,e,t,i){const s=n.indexOf(e);if(s===-1)return Ug(n,e,t,i);const a=n.lastIndexOf(e);return s!==a?t:s}const Gg=(n,e)=>n===null?null:et(Math.round(n),0,e);function Al(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class ho extends qn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:a}of t)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ke(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Kg(i,e,he(t,e),this._addedLabels),Gg(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return Al.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(ho,"id","category"),$(ho,"defaults",{ticks:{callback:Al}});function Yg(n,e){const t=[],{bounds:s,step:a,min:o,max:r,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=n,f=a||1,m=h-1,{min:p,max:_}=e,k=!ke(o),w=!ke(r),I=!ke(c),S=(_-p)/(u+1);let T=zr((_-p)/m/f)*f,C,A,E,B;if(T<1e-14&&!k&&!w)return[{value:p},{value:_}];B=Math.ceil(_/T)-Math.floor(p/T),B>m&&(T=zr(B*T/m/f)*f),ke(l)||(C=Math.pow(10,l),T=Math.ceil(T*C)/C),s==="ticks"?(A=Math.floor(p/T)*T,E=Math.ceil(_/T)*T):(A=p,E=_),k&&w&&a&&Bd((r-o)/a,T/1e3)?(B=Math.round(Math.min((r-o)/T,h)),T=(r-o)/B,A=o,E=r):I?(A=k?o:A,E=w?r:E,B=c-1,T=(E-A)/B):(B=(E-A)/T,Ki(B,Math.round(B),T/1e3)?B=Math.round(B):B=Math.ceil(B));const N=Math.max(Mr(T),Mr(A));C=Math.pow(10,ke(l)?N:l),A=Math.round(A*C)/C,E=Math.round(E*C)/C;let U=0;for(k&&(d&&A!==o?(t.push({value:o}),A<o&&U++,Ki(Math.round((A+U*T)*C)/C,o,Cl(o,S,n))&&U++):A<o&&U++);U<B;++U){const q=Math.round((A+U*T)*C)/C;if(w&&q>r)break;t.push({value:q})}return w&&d&&E!==r?t.length&&Ki(t[t.length-1].value,r,Cl(r,S,n))?t[t.length-1].value=r:t.push({value:r}):(!w||E===r)&&t.push({value:E}),t}function Cl(n,e,{horizontal:t,minRotation:i}){const s=Wt(i),a=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/a,o)}class ga extends qn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ke(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const o=l=>s=t?s:l,r=l=>a=i?a:l;if(e){const l=Vt(s),c=Vt(a);l<0&&c<0?r(0):l>0&&c>0&&o(0)}if(s===a){let l=a===0?1:Math.abs(a*.05);r(a+l),e||o(s-l)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,o=Yg(s,a);return e.bounds==="ticks"&&Gc(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return ds(e,this.chart.options.locale,this.options.ticks.format)}}class uo extends ga{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=He(e)?e:0,this.max=He(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Wt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(uo,"id","linear"),$(uo,"defaults",{ticks:{callback:va.formatters.numeric}});const os=n=>Math.floor(un(n)),In=(n,e)=>Math.pow(10,os(n)+e);function Dl(n){return n/Math.pow(10,os(n))===1}function Ol(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function Jg(n,e){const t=e-n;let i=os(t);for(;Ol(n,e,i)>10;)i++;for(;Ol(n,e,i)<10;)i--;return Math.min(i,os(n))}function Xg(n,{min:e,max:t}){e=_t(n.min,e);const i=[],s=os(e);let a=Jg(e,t),o=a<0?Math.pow(10,Math.abs(a)):1;const r=Math.pow(10,a),l=s>a?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/r/10)*r*10;let u=Math.floor((c-h)/Math.pow(10,a)),d=_t(n.min,Math.round((l+h+u*Math.pow(10,a))*o)/o);for(;d<t;)i.push({value:d,major:Dl(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(a++,u=2,o=a>=0?1:o),d=Math.round((l+h+u*Math.pow(10,a))*o)/o;const f=_t(n.max,d);return i.push({value:f,major:Dl(f),significand:u}),i}class fo extends qn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=ga.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return He(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=He(e)?Math.max(0,e):null,this.max=He(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!He(this._userMin)&&(this.min=e===In(this.min,0)?In(this.min,-1):In(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const a=r=>i=e?i:r,o=r=>s=t?s:r;i===s&&(i<=0?(a(1),o(10)):(a(In(i,-1)),o(In(s,1)))),i<=0&&a(In(s,-1)),s<=0&&o(In(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=Xg(t,this);return e.bounds==="ticks"&&Gc(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ds(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=un(e),this._valueRange=un(this.max)-un(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(un(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}$(fo,"id","logarithmic"),$(fo,"defaults",{ticks:{callback:va.formatters.logarithmic,major:{enabled:!0}}});function mo(n){const e=n.ticks;if(e.display&&n.display){const t=lt(e.backdropPadding);return he(e.font&&e.font.size,Fe.font.size)+t.height}return 0}function Zg(n,e,t){return t=Le(t)?t:[t],{w:sf(n,e.string,t),h:t.length*e.lineHeight}}function El(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function Qg(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],a=n._pointLabels.length,o=n.options.pointLabels,r=o.centerPointLabels?je/a:0;for(let l=0;l<a;l++){const c=o.setContext(n.getPointLabelContext(l));s[l]=c.padding;const h=n.getPointPosition(l,n.drawingArea+s[l],r),u=Qe(c.font),d=Zg(n.ctx,u,n._pointLabels[l]);i[l]=d;const f=ot(n.getIndexAngle(l)+r),m=Math.round(Mo(f)),p=El(m,h.x,d.w,0,180),_=El(m,h.y,d.h,90,270);e_(t,e,f,p,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=i_(n,i,s)}function e_(n,e,t,i,s){const a=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let r=0,l=0;i.start<e.l?(r=(e.l-i.start)/a,n.l=Math.min(n.l,e.l-r)):i.end>e.r&&(r=(i.end-e.r)/a,n.r=Math.max(n.r,e.r+r)),s.start<e.t?(l=(e.t-s.start)/o,n.t=Math.min(n.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function t_(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:a,padding:o,size:r}=t,l=n.getPointPosition(e,i+s+o,a),c=Math.round(Mo(ot(l.angle+Ye))),h=o_(l.y,r.h,c),u=s_(c),d=a_(l.x,r.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+r.w,bottom:h+r.h}}function n_(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:a}=n;return!(sn({x:t,y:i},e)||sn({x:t,y:a},e)||sn({x:s,y:i},e)||sn({x:s,y:a},e))}function i_(n,e,t){const i=[],s=n._pointLabels.length,a=n.options,{centerPointLabels:o,display:r}=a.pointLabels,l={extra:mo(a)/2,additionalAngle:o?je/s:0};let c;for(let h=0;h<s;h++){l.padding=t[h],l.size=e[h];const u=t_(n,h,l);i.push(u),r==="auto"&&(u.visible=n_(u,c),u.visible&&(c=u))}return i}function s_(n){return n===0||n===180?"center":n<180?"left":"right"}function a_(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function o_(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function r_(n,e,t){const{left:i,top:s,right:a,bottom:o}=t,{backdropColor:r}=e;if(!ke(r)){const l=On(e.borderRadius),c=lt(e.backdropPadding);n.fillStyle=r;const h=i-c.left,u=s-c.top,d=a-i+c.width,f=o-s+c.height;Object.values(l).some(m=>m!==0)?(n.beginPath(),ss(n,{x:h,y:u,w:d,h:f,radius:l}),n.fill()):n.fillRect(h,u,d,f)}}function l_(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const a=n._pointLabelItems[s];if(!a.visible)continue;const o=i.setContext(n.getPointLabelContext(s));r_(t,o,a);const r=Qe(o.font),{x:l,y:c,textAlign:h}=a;Ln(t,n._pointLabels[s],l,c+r.lineHeight/2,r,{color:o.color,textAlign:h,textBaseline:"middle"})}}function Fh(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,De);else{let a=n.getPointPosition(0,e);s.moveTo(a.x,a.y);for(let o=1;o<i;o++)a=n.getPointPosition(o,e),s.lineTo(a.x,a.y)}}function c_(n,e,t,i,s){const a=n.ctx,o=e.circular,{color:r,lineWidth:l}=e;!o&&!i||!r||!l||t<0||(a.save(),a.strokeStyle=r,a.lineWidth=l,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),Fh(n,t,o,i),a.closePath(),a.stroke(),a.restore())}function h_(n,e,t){return vn(n,{label:t,index:e,type:"pointLabel"})}class Vi extends ga{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=lt(mo(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=He(e)&&!isNaN(e)?e:0,this.max=He(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mo(this.options))}generateTickLabels(e){ga.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=Pe(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Qg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=De/(this._pointLabels.length||1),i=this.options.startAngle||0;return ot(e*t+Wt(i))}getDistanceFromCenterForValue(e){if(ke(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ke(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return h_(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-Ye+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:a}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Fh(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:a}=t,o=this._pointLabels.length;let r,l,c;if(t.pointLabels.display&&l_(this,o),s.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=s.setContext(d),m=a.setContext(d);c_(this,f,l,o,m)}}),i.display){for(e.save(),r=o-1;r>=0;r--){const h=i.setContext(this.getPointLabelContext(r)),{color:u,lineWidth:d}=h;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const c=i.setContext(this.getContext(l)),h=Qe(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(r.label).width,e.fillStyle=c.backdropColor;const u=lt(c.backdropPadding);e.fillRect(-o/2-u.left,-a-h.size/2-u.top,o+u.width,h.size+u.height)}Ln(e,r.label,0,-a,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}$(Vi,"id","radialLinear"),$(Vi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:va.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),$(Vi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(Vi,"descriptors",{angleLines:{_fallback:"grid"}});const Sa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ft=Object.keys(Sa);function Rl(n,e){return n-e}function Ll(n,e){if(ke(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),He(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(mi(a)||a===!0)?t.startOf(o,"isoWeek",a):t.startOf(o,s)),+o)}function Fl(n,e,t,i){const s=ft.length;for(let a=ft.indexOf(n);a<s-1;++a){const o=Sa[ft[a]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(r*o.size))<=i)return ft[a]}return ft[s-1]}function u_(n,e,t,i,s){for(let a=ft.length-1;a>=ft.indexOf(t);a--){const o=ft[a];if(Sa[o].common&&n._adapter.diff(s,i,o)>=e-1)return o}return ft[t?ft.indexOf(t):0]}function d_(n){for(let e=ft.indexOf(n)+1,t=ft.length;e<t;++e)if(Sa[ft[e]].common)return ft[e]}function Bl(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=Io(t,e),a=t[i]>=e?t[i]:t[s];n[a]=!0}}function f_(n,e,t,i){const s=n._adapter,a=+s.startOf(e[0].value,i),o=e[e.length-1].value;let r,l;for(r=a;r<=o;r=+s.add(r,1,i))l=t[r],l>=0&&(e[l].major=!0);return e}function Nl(n,e,t){const i=[],s={},a=e.length;let o,r;for(o=0;o<a;++o)r=e[o],s[r]=o,i.push({value:r,major:!1});return a===0||!t?i:f_(n,i,s,t)}class rs extends qn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new ym._date(e.adapters.date);s.init(t),Ui(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Ll(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:o,maxDefined:r}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!r&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!o||!r)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=He(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),a=He(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,o=this.max,r=Hd(s,a,o);return this._unit=t.unit||(i.autoSkip?Fl(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):u_(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:d_(this._unit),this.initOffsets(s),e.reverse&&r.reverse(),Nl(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=et(t,0,o),i=et(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,a=s.time,o=a.unit||Fl(a.minUnit,t,i,this._getLabelCapacity(t)),r=he(s.ticks.stepSize,1),l=o==="week"?a.isoWeekday:!1,c=mi(l)||l===!0,h={};let u=t,d,f;if(c&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,c?"day":o),e.diff(i,t,o)>1e5*r)throw new Error(t+" and "+i+" are too far apart with stepSize of "+r+" "+o);const m=s.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<i;d=+e.add(d,r,o),f++)Bl(h,d,m);return(d===i||s.bounds==="ticks"||f===1)&&Bl(h,d,m),Object.keys(h).sort(Rl).map(p=>+p)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,o=t||s[a];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,s){const a=this.options,o=a.ticks.callback;if(o)return Pe(o,[e,t,i],this);const r=a.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&r[l],u=c&&r[c],d=i[t],f=c&&u&&d&&d.major;return this._adapter.format(e,s||(f?u:h))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=Wt(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),o=Math.sin(s),r=this._resolveTickFontOptions(0).size;return{w:i*a+r*o,h:i*o+r*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,Nl(this,[e],this._majorUnit),s),o=this._getLabelSize(a),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Ll(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Xc(e.sort(Rl))}}$(rs,"id","time"),$(rs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vs(n,e,t){let i=0,s=n.length-1,a,o,r,l;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=nn(n,"pos",e)),{pos:a,time:r}=n[i],{pos:o,time:l}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=nn(n,"time",e)),{time:a,pos:r}=n[i],{time:o,pos:l}=n[s]);const c=o-a;return c?r+(l-r)*(e-a)/c:r}class po extends rs{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Vs(t,this.min),this._tableRange=Vs(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],a=[];let o,r,l,c,h;for(o=0,r=e.length;o<r;++o)c=e[o],c>=t&&c<=i&&s.push(c);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,r=s.length;o<r;++o)h=s[o+1],l=s[o-1],c=s[o],Math.round((h+l)/2)!==c&&a.push({time:c,pos:o/(r-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Vs(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Vs(this._table,i*this._tableRange+this._minPos,!0)}}$(po,"id","timeseries"),$(po,"defaults",rs.defaults);var m_=Object.freeze({__proto__:null,CategoryScale:ho,LinearScale:uo,LogarithmicScale:fo,RadialLinearScale:Vi,TimeScale:rs,TimeSeriesScale:po});const p_=[vm,Jp,$g,m_];function Ka(n){const e=n.slice(),t=new Date().toISOString().split("T")[0];e[12]=t;const i=e[6].dailyStudyTime[e[12]]||0;return e[13]=i,e}function ql(n){let e,t=n[5]("study_time_today")+"",i,s,a=$i(n[13])+"",o;return{c(){e=j("p"),i=W(t),s=W(": 🕒 "),o=W(a)},m(r,l){L(r,e,l),g(e,i),g(e,s),g(e,o)},p(r,l){l&32&&t!==(t=r[5]("study_time_today")+"")&&O(i,t),l&64&&a!==(a=$i(r[13])+"")&&O(o,a)},d(r){r&&R(e)}}}function g_(n){let e,t,i=n[5]("progress_tracking")+"",s,a,o,r=n[5]("progress_description")+"",l,c,h,u,d=n[5]("your_mastery")+"",f,m,p,_,k,w,I=n[5]("hiragana_mastery")+"",S,T,C=n[3].toFixed(1)+"",A,E,B,N,U,q,Z,H,V=n[5]("katakana_mastery")+"",Y,ee,Q=n[2].toFixed(1)+"",se,we,fe,de,_e,re,ae,Ae,Ie=n[5]("kanji_mastery")+"",ct,mt,pt=n[1].toFixed(1)+"",me,pe,$t,Ot,tt,bt,vt,nt,gt=n[5]("vocabulary_mastery")+"",Tt,Ut,xt=n[0].toFixed(1)+"",St,Et,Kt,Be,yt,ln,ut,Oe,Xe,ie,Ce,We=n[5]("gamification_stats")+"",cn,ps,zt,yn=n[5]("current_streak")+"",bi,Mt,Hn=n[6].currentStreak+"",vi,yi,$n=n[5]("days")+"",wi,gs,Gt,Un=n[5]("longest_streak")+"",ji,_s,Kn=n[6].longestStreak+"",Ti,ks,wn=n[5]("days")+"",xi,bs,jn,Gn=n[5]("total_points")+"",Si,vs,Yn=n[6].totalPoints+"",zi,ys,Tn,Jn=n[5]("total_study_time")+"",Mi,ws,Xn=$i(n[6].totalStudyTime||0)+"",Ii,Wi,It,xn=n[5]("average_daily_study")+"",Rt,js,Zn=$i(Ru())+"",Qn,Ts,xs,Lt,ei,ti=n[5]("personal_notes")+"",b,M,y,z,P=n[6].dailyStudyTime&&ql(Ka(n));return y=new od({}),{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("p"),l=W(r),c=D(),h=j("section"),u=j("h3"),f=W(d),m=D(),p=j("div"),_=j("div"),k=j("div"),w=j("p"),S=W(I),T=W(": "),A=W(C),E=W("%"),B=D(),N=j("div"),U=j("div"),q=D(),Z=j("div"),H=j("p"),Y=W(V),ee=W(": "),se=W(Q),we=W("%"),fe=D(),de=j("div"),_e=j("div"),re=D(),ae=j("div"),Ae=j("p"),ct=W(Ie),mt=W(": "),me=W(pt),pe=W("%"),$t=D(),Ot=j("div"),tt=j("div"),bt=D(),vt=j("div"),nt=j("p"),Tt=W(gt),Ut=W(": "),St=W(xt),Et=W("%"),Kt=D(),Be=j("div"),yt=j("div"),ln=D(),ut=j("div"),Oe=j("canvas"),Xe=D(),ie=j("section"),Ce=j("h3"),cn=W(We),ps=D(),zt=j("p"),bi=W(yn),Mt=W(": 🔥 "),vi=W(Hn),yi=D(),wi=W($n),gs=D(),Gt=j("p"),ji=W(Un),_s=W(": 🏆 "),Ti=W(Kn),ks=D(),xi=W(wn),bs=D(),jn=j("p"),Si=W(Gn),vs=W(": ⭐ "),zi=W(Yn),ys=D(),Tn=j("p"),Mi=W(Jn),ws=W(": 📚 "),Ii=W(Xn),Wi=D(),It=j("p"),Rt=W(xn),js=W(": ⏱️ "),Qn=W(Zn),Ts=D(),P&&P.c(),xs=D(),Lt=j("section"),ei=j("h3"),b=W(ti),M=D(),$e(y.$$.fragment),v(u,"class","svelte-16oqjhn"),v(w,"class","svelte-16oqjhn"),v(U,"class","progress-bar svelte-16oqjhn"),Jt(U,"width",n[3]+"%"),v(N,"class","progress-bar-container svelte-16oqjhn"),v(k,"class","progress-item svelte-16oqjhn"),v(H,"class","svelte-16oqjhn"),v(_e,"class","progress-bar svelte-16oqjhn"),Jt(_e,"width",n[2]+"%"),v(de,"class","progress-bar-container svelte-16oqjhn"),v(Z,"class","progress-item svelte-16oqjhn"),v(Ae,"class","svelte-16oqjhn"),v(tt,"class","progress-bar svelte-16oqjhn"),Jt(tt,"width",n[1]+"%"),v(Ot,"class","progress-bar-container svelte-16oqjhn"),v(ae,"class","progress-item svelte-16oqjhn"),v(nt,"class","svelte-16oqjhn"),v(yt,"class","progress-bar svelte-16oqjhn"),Jt(yt,"width",n[0]+"%"),v(Be,"class","progress-bar-container svelte-16oqjhn"),v(vt,"class","progress-item svelte-16oqjhn"),v(_,"class","progress-bars svelte-16oqjhn"),v(Oe,"width","300"),v(Oe,"height","300"),v(ut,"class","chart-container svelte-16oqjhn"),v(p,"class","mastery-overview svelte-16oqjhn"),v(h,"class","progress-section svelte-16oqjhn"),v(Ce,"class","svelte-16oqjhn"),v(ie,"class","progress-section svelte-16oqjhn"),v(ei,"class","svelte-16oqjhn"),v(Lt,"class","progress-section svelte-16oqjhn"),v(e,"class","progress-container svelte-16oqjhn")},m(x,F){L(x,e,F),g(e,t),g(t,s),g(e,a),g(e,o),g(o,l),g(e,c),g(e,h),g(h,u),g(u,f),g(h,m),g(h,p),g(p,_),g(_,k),g(k,w),g(w,S),g(w,T),g(w,A),g(w,E),g(k,B),g(k,N),g(N,U),g(_,q),g(_,Z),g(Z,H),g(H,Y),g(H,ee),g(H,se),g(H,we),g(Z,fe),g(Z,de),g(de,_e),g(_,re),g(_,ae),g(ae,Ae),g(Ae,ct),g(Ae,mt),g(Ae,me),g(Ae,pe),g(ae,$t),g(ae,Ot),g(Ot,tt),g(_,bt),g(_,vt),g(vt,nt),g(nt,Tt),g(nt,Ut),g(nt,St),g(nt,Et),g(vt,Kt),g(vt,Be),g(Be,yt),g(p,ln),g(p,ut),g(ut,Oe),n[10](Oe),g(e,Xe),g(e,ie),g(ie,Ce),g(Ce,cn),g(ie,ps),g(ie,zt),g(zt,bi),g(zt,Mt),g(zt,vi),g(zt,yi),g(zt,wi),g(ie,gs),g(ie,Gt),g(Gt,ji),g(Gt,_s),g(Gt,Ti),g(Gt,ks),g(Gt,xi),g(ie,bs),g(ie,jn),g(jn,Si),g(jn,vs),g(jn,zi),g(ie,ys),g(ie,Tn),g(Tn,Mi),g(Tn,ws),g(Tn,Ii),g(ie,Wi),g(ie,It),g(It,Rt),g(It,js),g(It,Qn),g(ie,Ts),P&&P.m(ie,null),g(e,xs),g(e,Lt),g(Lt,ei),g(ei,b),g(Lt,M),Ne(y,Lt,null),z=!0},p(x,[F]){(!z||F&32)&&i!==(i=x[5]("progress_tracking")+"")&&O(s,i),(!z||F&32)&&r!==(r=x[5]("progress_description")+"")&&O(l,r),(!z||F&32)&&d!==(d=x[5]("your_mastery")+"")&&O(f,d),(!z||F&32)&&I!==(I=x[5]("hiragana_mastery")+"")&&O(S,I),(!z||F&8)&&C!==(C=x[3].toFixed(1)+"")&&O(A,C),(!z||F&8)&&Jt(U,"width",x[3]+"%"),(!z||F&32)&&V!==(V=x[5]("katakana_mastery")+"")&&O(Y,V),(!z||F&4)&&Q!==(Q=x[2].toFixed(1)+"")&&O(se,Q),(!z||F&4)&&Jt(_e,"width",x[2]+"%"),(!z||F&32)&&Ie!==(Ie=x[5]("kanji_mastery")+"")&&O(ct,Ie),(!z||F&2)&&pt!==(pt=x[1].toFixed(1)+"")&&O(me,pt),(!z||F&2)&&Jt(tt,"width",x[1]+"%"),(!z||F&32)&&gt!==(gt=x[5]("vocabulary_mastery")+"")&&O(Tt,gt),(!z||F&1)&&xt!==(xt=x[0].toFixed(1)+"")&&O(St,xt),(!z||F&1)&&Jt(yt,"width",x[0]+"%"),(!z||F&32)&&We!==(We=x[5]("gamification_stats")+"")&&O(cn,We),(!z||F&32)&&yn!==(yn=x[5]("current_streak")+"")&&O(bi,yn),(!z||F&64)&&Hn!==(Hn=x[6].currentStreak+"")&&O(vi,Hn),(!z||F&32)&&$n!==($n=x[5]("days")+"")&&O(wi,$n),(!z||F&32)&&Un!==(Un=x[5]("longest_streak")+"")&&O(ji,Un),(!z||F&64)&&Kn!==(Kn=x[6].longestStreak+"")&&O(Ti,Kn),(!z||F&32)&&wn!==(wn=x[5]("days")+"")&&O(xi,wn),(!z||F&32)&&Gn!==(Gn=x[5]("total_points")+"")&&O(Si,Gn),(!z||F&64)&&Yn!==(Yn=x[6].totalPoints+"")&&O(zi,Yn),(!z||F&32)&&Jn!==(Jn=x[5]("total_study_time")+"")&&O(Mi,Jn),(!z||F&64)&&Xn!==(Xn=$i(x[6].totalStudyTime||0)+"")&&O(Ii,Xn),(!z||F&32)&&xn!==(xn=x[5]("average_daily_study")+"")&&O(Rt,xn),x[6].dailyStudyTime?P?P.p(Ka(x),F):(P=ql(Ka(x)),P.c(),P.m(ie,null)):P&&(P.d(1),P=null),(!z||F&32)&&ti!==(ti=x[5]("personal_notes")+"")&&O(b,ti)},i(x){z||(le(y.$$.fragment,x),z=!0)},o(x){ce(y.$$.fragment,x),z=!1},d(x){x&&R(e),n[10](null),P&&P.d(),qe(y)}}}function __(n,e,t){let i,s,a,o,r,l,c,h;ye(n,an,p=>t(9,l=p)),ye(n,Ee,p=>t(5,c=p)),ye(n,rn,p=>t(6,h=p)),en.register(...p_);let u,d;gn(()=>{u&&f()});function f(){const p=u.getContext("2d");t(7,d=new en(p,{type:"doughnut",data:{labels:["Hiragana","Katakana","Kanji","Vocabulary"],datasets:[{data:r,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"var(--text-color-primary)",font:{size:12}}},tooltip:{callbacks:{label(_){return _.label+": "+_.parsed.toFixed(1)+"%"}}}}}}))}function m(p){_n[p?"unshift":"push"](()=>{u=p,t(4,u)})}return n.$$.update=()=>{n.$$.dirty&512&&t(3,i=l.hiragana.length/ra.length*100),n.$$.dirty&512&&t(2,s=l.katakana.length/la.length*100),n.$$.dirty&512&&t(1,a=l.kanji.length/Xa.length*100),n.$$.dirty&512&&t(0,o=l.vocabulary.length/fi.length*100),n.$$.dirty&15&&t(8,r=[i,s,a,o]),n.$$.dirty&384&&d&&r&&(t(7,d.data.datasets[0].data=r,d),d.update())},[o,a,s,i,u,c,h,d,r,l,m]}class k_ extends Ke{constructor(e){super(),Ue(this,e,__,g_,Ve,{})}}function b_(n){let e,t,i,s,a,o,r,l,c,h,u,d,f,m,p,_,k,w,I,S;return{c(){e=j("div"),t=j("label"),i=W(n[0]),s=W(":"),a=D(),o=j("select"),r=j("option"),l=W(n[6]),c=j("option"),h=W(n[5]),u=j("option"),d=W(n[4]),f=j("option"),m=W(n[3]),p=j("option"),_=W(n[2]),k=j("option"),w=W(n[1]),v(t,"for","theme-select"),v(t,"class","svelte-m3ax6x"),r.__value="system",Re(r,r.__value),c.__value="light",Re(c,c.__value),u.__value="dark",Re(u,u.__value),f.__value="ocean-blue",Re(f,f.__value),p.__value="forest-green",Re(p,p.__value),k.__value="high-contrast",Re(k,k.__value),v(o,"id","theme-select"),v(o,"class","svelte-m3ax6x"),n[7]===void 0&&hi(()=>n[9].call(o)),v(e,"class","theme-switcher svelte-m3ax6x")},m(T,C){L(T,e,C),g(e,t),g(t,i),g(t,s),g(e,a),g(e,o),g(o,r),g(r,l),g(o,c),g(c,h),g(o,u),g(u,d),g(o,f),g(f,m),g(o,p),g(p,_),g(o,k),g(k,w),pn(o,n[7],!0),I||(S=te(o,"change",n[9]),I=!0)},p(T,[C]){C&1&&O(i,T[0]),C&64&&O(l,T[6]),C&32&&O(h,T[5]),C&16&&O(d,T[4]),C&8&&O(m,T[3]),C&4&&O(_,T[2]),C&2&&O(w,T[1]),C&128&&pn(o,T[7])},i:oe,o:oe,d(T){T&&R(e),I=!1,S()}}}function v_(n,e,t){let i,s,a,o,r,l,c,h,u;ye(n,Ee,f=>t(8,h=f)),ye(n,ui,f=>t(7,u=f));function d(){u=yo(this),ui.set(u)}return n.$$.update=()=>{n.$$.dirty&256&&t(0,i=h("theme")),n.$$.dirty&256&&t(6,s=h("theme_system")),n.$$.dirty&256&&t(5,a=h("theme_light")),n.$$.dirty&256&&t(4,o=h("theme_dark")),n.$$.dirty&256&&t(3,r=h("theme_ocean_blue")),n.$$.dirty&256&&t(2,l=h("theme_forest_green")),n.$$.dirty&256&&t(1,c=h("theme_high_contrast")),n.$$.dirty&1&&console.log("ThemeSwitcher: themeLabel",i)},[i,c,l,r,o,a,s,u,h,d]}class y_ extends Ke{constructor(e){super(),Ue(this,e,v_,b_,Ve,{})}}function Vl(n,e,t){const i=n.slice();return i[4]=e[t],i}function Hl(n){let e,t=n[4].name+"",i;return{c(){e=j("option"),i=W(t),e.__value=n[4].code,Re(e,e.__value)},m(s,a){L(s,e,a),g(e,i)},p:oe,d(s){s&&R(e)}}}function w_(n){let e,t,i=n[0]("language")+"",s,a,o,r,l,c,h=ue(n[2]),u=[];for(let d=0;d<h.length;d+=1)u[d]=Hl(Vl(n,h,d));return{c(){e=j("div"),t=j("label"),s=W(i),a=W(":"),o=D(),r=j("select");for(let d=0;d<u.length;d+=1)u[d].c();v(t,"for","language-select"),v(t,"class","svelte-1pqq92x"),v(r,"id","language-select"),v(r,"class","svelte-1pqq92x"),v(e,"class","language-switcher svelte-1pqq92x")},m(d,f){L(d,e,f),g(e,t),g(t,s),g(t,a),g(e,o),g(e,r);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(r,null);pn(r,n[1]),l||(c=te(r,"change",n[3]),l=!0)},p(d,[f]){if(f&1&&i!==(i=d[0]("language")+"")&&O(s,i),f&4){h=ue(d[2]);let m;for(m=0;m<h.length;m+=1){const p=Vl(d,h,m);u[m]?u[m].p(p,f):(u[m]=Hl(p),u[m].c(),u[m].m(r,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=h.length}f&6&&pn(r,d[1])},i:oe,o:oe,d(d){d&&R(e),st(u,d),l=!1,c()}}}function j_(n,e,t){let i,s;ye(n,Ee,r=>t(0,i=r)),ye(n,Ht,r=>t(1,s=r));const a=[{code:"en",name:"English"},{code:"zh-TW",name:"繁體中文"}];function o(r){Ht.set(r.target.value)}return[i,s,a,o]}class T_ extends Ke{constructor(e){super(),Ue(this,e,j_,w_,Ve,{})}}function $l(n,e,t){const i=n.slice();return i[17]=e[t],i}function Ul(n){let e,t,i,s,a,o=n[2](n[17].labelKey)+"",r,l,c,h;function u(){return n[13](n[17])}return{c(){e=j("label"),t=j("input"),s=D(),a=j("span"),r=W(o),l=D(),v(t,"type","checkbox"),t.checked=i=n[4].includes(n[17].key),v(e,"class","interest-item svelte-10b11qo")},m(d,f){L(d,e,f),g(e,t),g(e,s),g(e,a),g(a,r),g(e,l),c||(h=te(t,"change",u),c=!0)},p(d,f){n=d,f&16&&i!==(i=n[4].includes(n[17].key))&&(t.checked=i),f&4&&o!==(o=n[2](n[17].labelKey)+"")&&O(r,o)},d(d){d&&R(e),c=!1,h()}}}function Kl(n){let e,t=n[2]("confirm_overwrite")+"",i,s,a,o=n[2]("yes_overwrite")+"",r,l,c,h=n[2]("cancel")+"",u,d,f;return{c(){e=j("p"),i=W(t),s=D(),a=j("button"),r=W(o),l=D(),c=j("button"),u=W(h)},m(m,p){L(m,e,p),g(e,i),L(m,s,p),L(m,a,p),g(a,r),L(m,l,p),L(m,c,p),g(c,u),d||(f=[te(a,"click",n[7]),te(c,"click",n[8])],d=!0)},p(m,p){p&4&&t!==(t=m[2]("confirm_overwrite")+"")&&O(i,t),p&4&&o!==(o=m[2]("yes_overwrite")+"")&&O(r,o),p&4&&h!==(h=m[2]("cancel")+"")&&O(u,h)},d(m){m&&(R(e),R(s),R(a),R(l),R(c)),d=!1,Je(f)}}}function x_(n){let e,t,i=n[2]("settings")+"",s,a,o,r,l=n[2]("theme_settings")+"",c,h,u,d,f,m,p=n[2]("language_settings")+"",_,k,w,I,S,T,C=n[2]("display_settings")+"",A,E,B,N,U=n[2]("show_furigana")+"",q,Z,H,V,Y,ee,Q=n[2]("interests")+"",se,we,fe,de=n[2]("interests_description")+"",_e,re,ae,Ae,Ie,ct,mt=n[2]("data_management")+"",pt,me,pe,$t=n[2]("download_progress")+"",Ot,tt,bt,vt,nt,gt=n[2]("upload_progress")+"",Tt,Ut,xt,St,Et=n[2]("clear_all_data")+"",Kt,Be,yt,ln;u=new y_({}),w=new T_({});let ut=ue(n[10]),Oe=[];for(let ie=0;ie<ut.length;ie+=1)Oe[ie]=Ul($l(n,ut,ie));let Xe=n[1]&&Kl(n);return{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("section"),r=j("h3"),c=W(l),h=D(),$e(u.$$.fragment),d=D(),f=j("section"),m=j("h3"),_=W(p),k=D(),$e(w.$$.fragment),I=D(),S=j("section"),T=j("h3"),A=W(C),E=D(),B=j("div"),N=j("label"),q=W(U),Z=D(),H=j("input"),V=D(),Y=j("section"),ee=j("h3"),se=W(Q),we=D(),fe=j("p"),_e=W(de),re=D(),ae=j("div");for(let ie=0;ie<Oe.length;ie+=1)Oe[ie].c();Ae=D(),Ie=j("section"),ct=j("h3"),pt=W(mt),me=D(),pe=j("button"),Ot=W($t),tt=D(),bt=j("input"),vt=D(),nt=j("button"),Tt=W(gt),Ut=D(),Xe&&Xe.c(),xt=D(),St=j("button"),Kt=W(Et),v(t,"class","svelte-10b11qo"),v(r,"class","svelte-10b11qo"),v(o,"class","setting-section svelte-10b11qo"),v(m,"class","svelte-10b11qo"),v(f,"class","setting-section svelte-10b11qo"),v(T,"class","svelte-10b11qo"),v(N,"for","furigana-toggle"),v(H,"type","checkbox"),v(H,"id","furigana-toggle"),v(B,"class","setting-item"),v(S,"class","setting-section svelte-10b11qo"),v(ee,"id","interests-heading"),v(ee,"class","svelte-10b11qo"),v(ae,"class","interests-grid svelte-10b11qo"),v(Y,"class","setting-section svelte-10b11qo"),v(Y,"aria-labelledby","interests-heading"),v(ct,"class","svelte-10b11qo"),v(bt,"type","file"),v(bt,"accept",".json"),Jt(bt,"display","none"),v(Ie,"class","setting-section svelte-10b11qo"),v(e,"class","settings-page svelte-10b11qo")},m(ie,Ce){L(ie,e,Ce),g(e,t),g(t,s),g(e,a),g(e,o),g(o,r),g(r,c),g(o,h),Ne(u,o,null),g(e,d),g(e,f),g(f,m),g(m,_),g(f,k),Ne(w,f,null),g(e,I),g(e,S),g(S,T),g(T,A),g(S,E),g(S,B),g(B,N),g(N,q),g(B,Z),g(B,H),H.checked=n[3],g(e,V),g(e,Y),g(Y,ee),g(ee,se),g(Y,we),g(Y,fe),g(fe,_e),g(Y,re),g(Y,ae);for(let We=0;We<Oe.length;We+=1)Oe[We]&&Oe[We].m(ae,null);g(e,Ae),g(e,Ie),g(Ie,ct),g(ct,pt),g(Ie,me),g(Ie,pe),g(pe,Ot),g(Ie,tt),g(Ie,bt),n[14](bt),g(Ie,vt),g(Ie,nt),g(nt,Tt),g(Ie,Ut),Xe&&Xe.m(Ie,null),g(Ie,xt),g(Ie,St),g(St,Kt),Be=!0,yt||(ln=[te(H,"change",n[12]),te(pe,"click",n[5]),te(bt,"change",n[6]),te(nt,"click",n[15]),te(St,"click",n[9])],yt=!0)},p(ie,[Ce]){if((!Be||Ce&4)&&i!==(i=ie[2]("settings")+"")&&O(s,i),(!Be||Ce&4)&&l!==(l=ie[2]("theme_settings")+"")&&O(c,l),(!Be||Ce&4)&&p!==(p=ie[2]("language_settings")+"")&&O(_,p),(!Be||Ce&4)&&C!==(C=ie[2]("display_settings")+"")&&O(A,C),(!Be||Ce&4)&&U!==(U=ie[2]("show_furigana")+"")&&O(q,U),Ce&8&&(H.checked=ie[3]),(!Be||Ce&4)&&Q!==(Q=ie[2]("interests")+"")&&O(se,Q),(!Be||Ce&4)&&de!==(de=ie[2]("interests_description")+"")&&O(_e,de),Ce&3092){ut=ue(ie[10]);let We;for(We=0;We<ut.length;We+=1){const cn=$l(ie,ut,We);Oe[We]?Oe[We].p(cn,Ce):(Oe[We]=Ul(cn),Oe[We].c(),Oe[We].m(ae,null))}for(;We<Oe.length;We+=1)Oe[We].d(1);Oe.length=ut.length}(!Be||Ce&4)&&mt!==(mt=ie[2]("data_management")+"")&&O(pt,mt),(!Be||Ce&4)&&$t!==($t=ie[2]("download_progress")+"")&&O(Ot,$t),(!Be||Ce&4)&&gt!==(gt=ie[2]("upload_progress")+"")&&O(Tt,gt),ie[1]?Xe?Xe.p(ie,Ce):(Xe=Kl(ie),Xe.c(),Xe.m(Ie,xt)):Xe&&(Xe.d(1),Xe=null),(!Be||Ce&4)&&Et!==(Et=ie[2]("clear_all_data")+"")&&O(Kt,Et)},i(ie){Be||(le(u.$$.fragment,ie),le(w.$$.fragment,ie),Be=!0)},o(ie){ce(u.$$.fragment,ie),ce(w.$$.fragment,ie),Be=!1},d(ie){ie&&R(e),qe(u),qe(w),st(Oe,ie),n[14](null),Xe&&Xe.d(),yt=!1,Je(ln)}}}function S_(n,e,t){let i,s,a;ye(n,Ee,S=>t(2,i=S)),ye(n,Ja,S=>t(3,s=S)),ye(n,di,S=>t(4,a=S));let o,r=!1,l=null;function c(){Du(),alert(ht(Ee)("download_started"))}function h(S){const T=S.target.files[0];if(T){const C=new FileReader;C.onload=A=>{try{l=A.target.result,t(1,r=!0)}catch(E){alert(ht(Ee)("invalid_json_file")+": "+E.message)}},C.readAsText(T)}}function u(){if(l){const S=Ou(l);S.success?alert(ht(Ee)("import_success")):alert(ht(Ee)("import_error")+": "+S.error),l=null,t(1,r=!1),t(0,o.value="",o)}}function d(){l=null,t(1,r=!1),t(0,o.value="",o)}function f(){confirm(ht(Ee)("confirm_clear_data"))&&(Eu(),alert(ht(Ee)("data_cleared")))}const m=[{key:"one_piece",labelKey:"topic_one_piece"},{key:"dragon_quest",labelKey:"topic_dragon_quest"},{key:"zelda",labelKey:"topic_zelda"}];function p(S){di.update(T=>{const C=new Set(T||[]);return C.has(S)?C.delete(S):C.add(S),Array.from(C)})}function _(){s=this.checked,Ja.set(s)}const k=S=>p(S.key);function w(S){_n[S?"unshift":"push"](()=>{o=S,t(0,o)})}return[o,r,i,s,a,c,h,u,d,f,m,p,_,k,w,()=>o.click()]}class z_ extends Ke{constructor(e){super(),Ue(this,e,S_,x_,Ve,{})}}const ki=_i(window.location.pathname);function Dn(n){window.history.pushState({},"",n),ki.set(n)}window.addEventListener("popstate",()=>{ki.set(window.location.pathname)});function M_(n){let e,t,i,s,a,o,r=n[2]("learn")+"",l,c,h,u,d=n[2]("explore")+"",f,m,p,_,k=n[2]("progress")+"",w,I,S,T,C=n[2]("hiragana_chart")+"",A,E,B,N,U=n[2]("kanji_chart")+"",q,Z,H,V,Y=n[2]("vocabulary_list")+"",ee,Q,se,we,fe=n[2]("quiz")+"",de,_e,re,ae,Ae=n[2]("settings")+"",Ie,ct,mt,pt;return{c(){e=j("nav"),t=j("button"),i=W("☰"),s=D(),a=j("div"),o=j("button"),l=W(r),h=D(),u=j("button"),f=W(d),p=D(),_=j("button"),w=W(k),S=D(),T=j("button"),A=W(C),B=D(),N=j("button"),q=W(U),H=D(),V=j("button"),ee=W(Y),se=D(),we=j("button"),de=W(fe),re=D(),ae=j("button"),Ie=W(Ae),v(t,"class","menu-toggle svelte-dil3u7"),v(t,"aria-expanded",n[0]),v(t,"aria-controls","main-menu"),v(t,"aria-label","Toggle navigation menu"),v(o,"aria-current",c=n[1]==="learn"?"page":void 0),v(o,"class","svelte-dil3u7"),be(o,"active",n[1]==="learn"),v(u,"aria-current",m=n[1]==="explore"?"page":void 0),v(u,"class","svelte-dil3u7"),be(u,"active",n[1]==="explore"),v(_,"aria-current",I=n[1]==="progress"?"page":void 0),v(_,"class","svelte-dil3u7"),be(_,"active",n[1]==="progress"),v(T,"aria-current",E=n[1]==="kana_charts"?"page":void 0),v(T,"class","svelte-dil3u7"),be(T,"active",n[1]==="kana_charts"),v(N,"aria-current",Z=n[1]==="kanji_charts"?"page":void 0),v(N,"class","svelte-dil3u7"),be(N,"active",n[1]==="kanji_charts"),v(V,"aria-current",Q=n[1]==="vocabulary_list"?"page":void 0),v(V,"class","svelte-dil3u7"),be(V,"active",n[1]==="vocabulary_list"),v(we,"aria-current",_e=n[1]==="quiz"?"page":void 0),v(we,"class","svelte-dil3u7"),be(we,"active",n[1]==="quiz"),v(ae,"aria-current",ct=n[1]==="settings"?"page":void 0),v(ae,"class","svelte-dil3u7"),be(ae,"active",n[1]==="settings"),v(a,"class","nav-menu svelte-dil3u7"),v(a,"id","main-menu"),v(a,"role","menu"),v(a,"tabindex","-1"),be(a,"open",n[0]),v(e,"aria-label","Main navigation"),v(e,"class","svelte-dil3u7")},m(me,pe){L(me,e,pe),g(e,t),g(t,i),g(e,s),g(e,a),g(a,o),g(o,l),g(a,h),g(a,u),g(u,f),g(a,p),g(a,_),g(_,w),g(a,S),g(a,T),g(T,A),g(a,B),g(a,N),g(N,q),g(a,H),g(a,V),g(V,ee),g(a,se),g(a,we),g(we,de),g(a,re),g(a,ae),g(ae,Ie),mt||(pt=[te(t,"click",n[4]),te(o,"click",n[7]),te(u,"click",n[8]),te(_,"click",n[9]),te(T,"click",n[10]),te(N,"click",n[11]),te(V,"click",n[12]),te(we,"click",n[13]),te(ae,"click",n[14]),te(a,"keydown",n[5])],mt=!0)},p(me,[pe]){pe&1&&v(t,"aria-expanded",me[0]),pe&4&&r!==(r=me[2]("learn")+"")&&O(l,r),pe&2&&c!==(c=me[1]==="learn"?"page":void 0)&&v(o,"aria-current",c),pe&2&&be(o,"active",me[1]==="learn"),pe&4&&d!==(d=me[2]("explore")+"")&&O(f,d),pe&2&&m!==(m=me[1]==="explore"?"page":void 0)&&v(u,"aria-current",m),pe&2&&be(u,"active",me[1]==="explore"),pe&4&&k!==(k=me[2]("progress")+"")&&O(w,k),pe&2&&I!==(I=me[1]==="progress"?"page":void 0)&&v(_,"aria-current",I),pe&2&&be(_,"active",me[1]==="progress"),pe&4&&C!==(C=me[2]("hiragana_chart")+"")&&O(A,C),pe&2&&E!==(E=me[1]==="kana_charts"?"page":void 0)&&v(T,"aria-current",E),pe&2&&be(T,"active",me[1]==="kana_charts"),pe&4&&U!==(U=me[2]("kanji_chart")+"")&&O(q,U),pe&2&&Z!==(Z=me[1]==="kanji_charts"?"page":void 0)&&v(N,"aria-current",Z),pe&2&&be(N,"active",me[1]==="kanji_charts"),pe&4&&Y!==(Y=me[2]("vocabulary_list")+"")&&O(ee,Y),pe&2&&Q!==(Q=me[1]==="vocabulary_list"?"page":void 0)&&v(V,"aria-current",Q),pe&2&&be(V,"active",me[1]==="vocabulary_list"),pe&4&&fe!==(fe=me[2]("quiz")+"")&&O(de,fe),pe&2&&_e!==(_e=me[1]==="quiz"?"page":void 0)&&v(we,"aria-current",_e),pe&2&&be(we,"active",me[1]==="quiz"),pe&4&&Ae!==(Ae=me[2]("settings")+"")&&O(Ie,Ae),pe&2&&ct!==(ct=me[1]==="settings"?"page":void 0)&&v(ae,"aria-current",ct),pe&2&&be(ae,"active",me[1]==="settings"),pe&1&&be(a,"open",me[0])},i:oe,o:oe,d(me){me&&R(e),mt=!1,Je(pt)}}}function I_(n,e,t){let i,s,a;ye(n,ki,w=>t(6,s=w)),ye(n,Ee,w=>t(2,a=w));function o(w){Dn(w)}let r=!1;function l(){t(0,r=!r)}function c(w){w.key==="Escape"&&t(0,r=!1)}const h=()=>o("/learn"),u=()=>o("/explore"),d=()=>o("/progress"),f=()=>o("/kana_charts"),m=()=>o("/kanji_charts"),p=()=>o("/vocabulary_list"),_=()=>o("/quiz"),k=()=>o("/settings");return n.$$.update=()=>{n.$$.dirty&64&&t(1,i=s.substring(1)||"learn")},[r,i,a,o,l,c,s,h,u,d,f,m,p,_,k]}class W_ extends Ke{constructor(e){super(),Ue(this,e,I_,M_,Ve,{})}}function P_(n){let e,t,i,s,a,o,r,l,c,h,u,d,f,m;const p=n[6].default,_=ou(p,n,n[5],null);return{c(){e=j("div"),t=D(),i=j("div"),s=W(`aria-modal="true"
    aria-labelledby="bottom-sheet-title"
    role="dialog"
    tabindex="-1"
>
    `),a=j("div"),o=j("h3"),r=W(n[1]),l=D(),c=j("button"),c.textContent="×",h=D(),u=j("div"),_&&_.c(),v(e,"class","bottom-sheet-overlay svelte-cm442n"),v(e,"role","button"),v(e,"tabindex","0"),be(e,"show",n[0]),v(o,"id","bottom-sheet-title"),v(o,"class","svelte-cm442n"),v(c,"aria-label","Close dialog"),v(c,"class","svelte-cm442n"),v(a,"class","bottom-sheet-header svelte-cm442n"),v(u,"class","bottom-sheet-content svelte-cm442n"),v(i,"class","bottom-sheet svelte-cm442n"),v(i,"aria-modal","true"),v(i,"aria-labelledby","bottom-sheet-title"),v(i,"role","dialog"),v(i,"tabindex","-1"),be(i,"show",n[0])},m(k,w){L(k,e,w),L(k,t,w),L(k,i,w),g(i,s),g(i,a),g(a,o),g(o,r),g(a,l),g(a,c),g(i,h),g(i,u),_&&_.m(u,null),n[8](i),d=!0,f||(m=[te(e,"click",n[3]),te(e,"keydown",n[7]),te(c,"click",n[3])],f=!0)},p(k,[w]){(!d||w&1)&&be(e,"show",k[0]),(!d||w&2)&&O(r,k[1]),_&&_.p&&(!d||w&32)&&lu(_,p,k,k[5],d?ru(p,k[5],w,null):cu(k[5]),null),(!d||w&1)&&be(i,"show",k[0])},i(k){d||(le(_,k),d=!0)},o(k){ce(_,k),d=!1},d(k){k&&(R(e),R(t),R(i)),_&&_.d(k),n[8](null),f=!1,Je(m)}}}function A_(n,e,t){let{$$slots:i={},$$scope:s}=e,{show:a=!1}=e,{title:o=""}=e;const r=ls();let l,c;jo(()=>{c&&c()});function h(){t(0,a=!1),r("close")}const u=f=>{f.key==="Escape"&&h()};function d(f){_n[f?"unshift":"push"](()=>{l=f,t(2,l)})}return n.$$set=f=>{"show"in f&&t(0,a=f.show),"title"in f&&t(1,o=f.title),"$$scope"in f&&t(5,s=f.$$scope)},n.$$.update=()=>{n.$$.dirty&21&&(a&&l?(t(4,c=Lu(l)),l.addEventListener("escape",h)):c&&(c(),t(4,c=null)))},[a,o,l,h,c,s,i,u,d]}class C_ extends Ke{constructor(e){super(),Ue(this,e,A_,P_,Ve,{show:0,title:1})}}function D_(n){let e,t;return{c(){e=j("img"),ci(e.src,t=n[4])||v(e,"src",t),v(e,"alt",n[1]),v(e,"class","lazy-image placeholder svelte-c6a8vn")},m(i,s){L(i,e,s)},p(i,s){s&16&&!ci(e.src,t=i[4])&&v(e,"src",t),s&2&&v(e,"alt",i[1])},d(i){i&&R(e)}}}function O_(n){let e,t,i,s,a;return{c(){e=j("img"),ci(e.src,t=n[0])||v(e,"src",t),v(e,"alt",n[1]),v(e,"loading",n[3]),v(e,"class",i="lazy-image "+(n[6]?"loaded":"")+" "+(n[7]?"error":"")+" svelte-c6a8vn")},m(o,r){L(o,e,r),s||(a=[te(e,"load",n[9]),te(e,"error",n[10])],s=!0)},p(o,r){r&1&&!ci(e.src,t=o[0])&&v(e,"src",t),r&2&&v(e,"alt",o[1]),r&8&&v(e,"loading",o[3]),r&192&&i!==(i="lazy-image "+(o[6]?"loaded":"")+" "+(o[7]?"error":"")+" svelte-c6a8vn")&&v(e,"class",i)},d(o){o&&R(e),s=!1,Je(a)}}}function E_(n){let e,t;function i(o,r){return o[8]?O_:D_}let s=i(n),a=s(n);return{c(){e=j("div"),a.c(),v(e,"class",t="lazy-image-container "+n[2]+" svelte-c6a8vn")},m(o,r){L(o,e,r),a.m(e,null),n[11](e)},p(o,[r]){s===(s=i(o))&&a?a.p(o,r):(a.d(1),a=s(o),a&&(a.c(),a.m(e,null))),r&4&&t!==(t="lazy-image-container "+o[2]+" svelte-c6a8vn")&&v(e,"class",t)},i:oe,o:oe,d(o){o&&R(e),a.d(),n[11](null)}}}function R_(n,e,t){let{src:i=""}=e,{alt:s=""}=e,{className:a=""}=e,{loading:o="lazy"}=e,{placeholder:r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkxvYWRpbmcuLi48L3RleHQ+Cjwvc3ZnPg=="}=e,l,c=!1,h=!1,u=!1;gn(()=>{const p=new IntersectionObserver(_=>{_.forEach(k=>{k.isIntersecting&&(t(8,u=!0),p.unobserve(k.target))})},{rootMargin:"50px"});return l&&p.observe(l),()=>{l&&p.unobserve(l)}});function d(){t(6,c=!0),t(7,h=!1)}function f(){t(7,h=!0),t(6,c=!1)}function m(p){_n[p?"unshift":"push"](()=>{l=p,t(5,l)})}return n.$$set=p=>{"src"in p&&t(0,i=p.src),"alt"in p&&t(1,s=p.alt),"className"in p&&t(2,a=p.className),"loading"in p&&t(3,o=p.loading),"placeholder"in p&&t(4,r=p.placeholder)},[i,s,a,o,r,l,c,h,u,d,f,m]}class L_ extends Ke{constructor(e){super(),Ue(this,e,R_,E_,Ve,{src:0,alt:1,className:2,loading:3,placeholder:4})}}const go=[{id:"basic_particles",title:"Basic Particles",description:"Understand the fundamental particles like は, が, を, に, で.",topics:[{id:"particle_wa",title:"Particle は (wa)",content:`
# Particle は (wa)

The particle は (read as "wa", not "ha") is one of the most fundamental and frequently used particles in Japanese. It primarily marks the **topic** of a sentence.

## Topic vs. Subject

It's crucial to understand that the topic is not always the grammatical subject. The topic is what the speaker wants to talk about or focus on.

### Example:

*   **わたしはがくせいです。** (Watashi **wa** gakusei desu.)
    *   わたし (watashi) = I
    *   がくせい (gakusei) = student
    *   です (desu) = is/am/are (polite form)
    *   **Meaning:** As for me, I am a student. (More naturally: I am a student.)

In this sentence, "わたし" (I) is both the topic and the subject.

## Introducing New Information

は is often used to introduce new information or to make a general statement about the topic.

### Example:

*   **これはほんです。** (Kore **wa** hon desu.)
    *   これ (kore) = this
    *   ほん (hon) = book
    *   **Meaning:** This is a book.

Here, "これ" (this) is the topic, and "ほんです" (is a book) is the new information being provided about "this."

## Contrast and Emphasis

は can also be used to draw a contrast or put emphasis on the word preceding it. When used in this way, it often implies "as for X, but not Y" or "X, among other things."

### Example:

*   **ビールはのみません。** (Biiru **wa** nomimasen.)
    *   ビール (biiru) = beer
    *   のみません (nomimasen) = don't drink (polite negative of 飲む - nomu)
    *   **Meaning:** As for beer, I don't drink it (implying I might drink other things).

This usage highlights "beer" by contrasting it with other potential drinks.

## Placement

は always follows the word or phrase it marks as the topic. It can attach to nouns, pronouns, and sometimes even other particles (though this is more advanced).
        `,examples:[{japanese:"わたしはエンジニアです。",romaji:"Watashi wa enjinia desu.",english:"I am an engineer."},{japanese:"きょうはあついです。",romaji:"Kyou wa atsui desu.",english:"Today is hot."},{japanese:"これはペンです。",romaji:"Kore wa pen desu.",english:"This is a pen."},{japanese:"さかなはたべません。",romaji:"Sakana wa tabemasen.",english:"As for fish, I don't eat it."}],nuances:['The pronunciation of は as "wa" is a historical kana usage that has been preserved only for this particle.',"While は marks the topic, が marks the grammatical subject. The distinction can be subtle and is a common point of confusion for learners.","は can be used to generalize or state a known fact about the topic."],quiz:[{question:"Which particle marks the topic of a sentence?",options:["が (ga)","を (wo)","は (wa)","に (ni)"],answer:"は (wa)"},{question:'In the sentence "わたしはがくせいです。", what does は mark?',options:["Subject","Object","Topic","Location"],answer:"Topic"},{question:"How is は pronounced when used as a particle?",options:["ha","wa","pa","ba"],answer:"wa"}]},{id:"particle_ga",title:"Particle が (ga)",content:`
# Particle が (ga)

The particle が (ga) primarily marks the **grammatical subject** of a sentence when that subject is introducing new information, is being emphasized, or is the answer to a question.

## Subject Marker

が explicitly identifies the subject performing the action or being described.

### Example:

*   **ねこがいます。** (Neko **ga** imasu.)
    *   ねこ (neko) = cat
    *   います (imasu) = is (for living things)
    *   **Meaning:** There is a cat. / A cat exists.

Here, "ねこ" (cat) is the subject that exists.

## Introducing New Information / Specific Subject

When you are introducing a new subject into the conversation, or when the subject is specific and not yet known to the listener, が is often used.

### Example:

*   **だれがきましたか？** (Dare **ga** kimashita ka?)
    *   だれ (dare) = who
    *   きました (kimashita) = came (past tense of 来る - kuru)
    *   **Meaning:** Who came?

*   **田中さんがきました。** (Tanaka-san **ga** kimashita.)
    *   田中さん (Tanaka-san) = Mr./Ms. Tanaka
    *   **Meaning:** Mr. Tanaka came.

In the answer, 田中さん is new information, so が is used.

## Emphasis or Exclusion

が can be used to emphasize the subject, often implying "X and only X" or "It is X who...". This is a key difference from は, which marks the topic.

### Example:

*   **わたしがやります。** (Watashi **ga** yarimasu.)
    *   わたし (watashi) = I
    *   やります (yarimasu) = will do (polite form of やる - yaru)
    *   **Meaning:** *I* will do it. (Implying that others won't or shouldn't, or that I am the one specifically designated to do it.)

Compare this to "わたしはやります。" (Watashi wa yarimasu.), which would mean "As for me, I will do it," a more general statement without the same emphasis on "I."

## With Adjectives and Verbs of Existence/Possession

が is commonly used with adjectives and verbs like あります (arimasu - to exist, for inanimate objects) and います (imasu - to exist, for living things), and ほしい (hoshii - to want).

### Examples:

*   **りんごがあります。** (Ringo **ga** arimasu.) - There is an apple.
*   **いぬがいます。** (Inu **ga** imasu.) - There is a dog.
*   **お金がほしいです。** (Okane **ga** hoshii desu.) - I want money.

## Placement

が always follows the word or phrase it marks as the subject.
        `,examples:[{japanese:"鳥がそらをとんでいます。",romaji:"Tori ga sora o tonde imasu.",english:"A bird is flying in the sky."},{japanese:"何がおもしろいですか？",romaji:"Nani ga omoshiroi desu ka?",english:"What is interesting?"},{japanese:"この本がおもしろいです。",romaji:"Kono hon ga omoshiroi desu.",english:"This book is interesting."},{japanese:"私がおいしいケーキを作りました。",romaji:"Watashi ga oishii keeki o tsukurimashita.",english:"I made a delicious cake."}],nuances:["The distinction between は and が is one of the most challenging aspects for Japanese learners. は marks the topic (what you're talking about), while が marks the subject (who or what performs the action or is described).","が is often used when the subject is unknown or when you are providing new information about the subject.","When answering a question that uses が, the answer will typically also use が to emphasize the specific subject."],quiz:[{question:"Which particle marks the grammatical subject when introducing new information or emphasizing it?",options:["は (wa)","が (ga)","を (wo)","で (de)"],answer:"が (ga)"},{question:'In the sentence "ねこがいます。", what does が mark?',options:["Topic","Object","Location","Subject"],answer:"Subject"},{question:"Which of these verbs is typically used with が to indicate existence for living things?",options:["あります (arimasu)","います (imasu)","します (shimasu)","食べます (tabemasu)"],answer:"います (imasu)"}]},{id:"particle_wo",title:"Particle を (wo)",content:`
# Particle を (wo)

The particle を (read as "o", not "wo" in modern Japanese, though written with wo) is primarily used to mark the **direct object** of a transitive verb.

## Direct Object Marker

It indicates the thing or person that directly receives the action of the verb.

### Example:

*   **りんごを食べます。** (Ringo **o** tabemasu.)
    *   りんご (ringo) = apple
    *   食べます (tabemasu) = eat (polite form of 食べる - taberu)
    *   **Meaning:** I eat an apple. / Eat an apple.

Here, "りんご" (apple) is the direct object being eaten.

## Verbs of Movement (through a space)

While を typically marks direct objects, it can also be used with verbs of movement (like 散歩する - sanpo suru, to stroll; 飛ぶ - tobu, to fly; 走る - hashiru, to run) to indicate the space or area through which the movement occurs.

### Example:

*   **公園を散歩します。** (Kouen **o** sanpo shimasu.)
    *   公園 (kouen) = park
    *   散歩します (sanpo shimasu) = stroll (polite form of 散歩する - sanpo suru)
    *   **Meaning:** I stroll through the park.

In this case, "公園" (park) is not a direct object in the traditional sense, but the space traversed.

## Leaving a Place

When a verb implies leaving a place (e.g., 出る - deru, to exit; 卒業する - sotsugyou suru, to graduate), を marks the place being left.

### Example:

*   **家を出ます。** (Ie **o** demasu.)
    *   家 (ie) = house
    *   出ます (demasu) = exit (polite form of 出る - deru)
    *   **Meaning:** I leave the house.

## Placement

を always follows the noun or phrase that is the direct object or the space/place being acted upon.
        `,examples:[{japanese:"水を飲みます。",romaji:"Mizu o nomimasu.",english:"I drink water."},{japanese:"本を読みます。",romaji:"Hon o yomimasu.",english:"I read a book."},{japanese:"道を歩きます。",romaji:"Michi o arukimasu.",english:"I walk along the road."},{japanese:"大学を卒業しました。",romaji:"Daigaku o sotsugyou shimashita.",english:"I graduated from university."}],nuances:["Although written を, it is pronounced exactly the same as お (o) in modern Japanese.","Be careful not to confuse を with other particles that indicate location, such as に or で, which have different nuances."],quiz:[{question:"Which particle is primarily used to mark the direct object of a transitive verb?",options:["が (ga)","を (wo)","は (wa)","に (ni)"],answer:"を (wo)"},{question:"How is を pronounced in modern Japanese?",options:["wo","o","u","e"],answer:"o"},{question:'In the sentence "公園を散歩します。", what does を indicate?',options:["Direct object","Location of action","Means of transport","Space through which movement occurs"],answer:"Space through which movement occurs"}]},{id:"particle_ni",title:"Particle に (ni)",content:`
# Particle に (ni)

The particle に (ni) is a versatile particle with several key functions, primarily indicating **location, direction, time, or the recipient of an action.**

## 1. Destination/Direction (to, toward)

に marks the destination or direction of movement verbs like 行く (iku - to go), 来る (kuru - to come), 帰る (kaeru - to return).

### Example:

*   **日本に行きます。** (Nihon **ni** ikimasu.)
    *   日本 (Nihon) = Japan
    *   行きます (ikimasu) = go (polite form of 行く - iku)
    *   **Meaning:** I go to Japan.

## 2. Location of Existence (in, at, on)

に indicates the static location where something or someone exists, used with います (imasu - for living things) and あります (arimasu - for inanimate objects).

### Example:

*   **部屋に本があります。** (Heya **ni** hon ga arimasu.)
    *   部屋 (heya) = room
    *   本 (hon) = book
    *   あります (arimasu) = exists (for inanimate objects)
    *   **Meaning:** There is a book in the room.

## 3. Time (at, on, in)

に specifies a point in time when an action occurs. It is used with specific times, days of the week, months, and years, but generally *not* with relative times like 今日 (kyou - today) or 毎日 (mainichi - every day).

### Example:

*   **７時に起きます。** (Shichi-ji **ni** okimasu.)
    *   ７時 (shichi-ji) = 7 o'clock
    *   起きます (okimasu) = wake up (polite form of 起きる - okiru)
    *   **Meaning:** I wake up at 7 o'clock.

## 4. Recipient of an Action (to, for)

に marks the indirect object or the recipient of an action, often with verbs like あげる (ageru - to give), もらう (morau - to receive), 教える (oshieru - to teach).

### Example:

*   **友達にプレゼントをあげます。** (Tomodachi **ni** purezento o agemasu.)
    *   友達 (tomodachi) = friend
    *   プレゼント (purezento) = present
    *   あげます (agemasu) = give
    *   **Meaning:** I give a present to my friend.

## 5. Purpose of Movement

に can indicate the purpose for which one goes or comes, often followed by a verb in the ます-stem form or a noun.

### Example:

*   **買い物に行きます。** (Kaimono **ni** ikimasu.)
    *   買い物 (kaimono) = shopping
    *   **Meaning:** I go for shopping. / I go to shop.

## Placement

に always follows the noun or phrase it modifies.
        `,examples:[{japanese:"学校に行きます。",romaji:"Gakkou ni ikimasu.",english:"I go to school."},{japanese:"机の上に本があります。",romaji:"Tsukue no ue ni hon ga arimasu.",english:"There is a book on the desk."},{japanese:"日曜日に映画を見ます。",romaji:"Nichiyoubi ni eiga o mimasu.",english:"I watch a movie on Sunday."},{japanese:"先生に質問します。",romaji:"Sensei ni shitsumon shimasu.",english:"I ask the teacher a question."},{japanese:"食べに行きます。",romaji:"Tabe ni ikimasu.",english:"I go to eat."}],nuances:["に is often confused with で. Remember that に marks the location of existence (static) or destination, while で marks the location where an action takes place.","When used with time, に is generally for specific points in time. For durations or general times, other expressions are used."],quiz:[{question:"Which of the following is NOT a primary function of the particle に?",options:["Indicating destination","Indicating location of action","Indicating time","Indicating recipient of action"],answer:"Indicating location of action"},{question:'In "日本に行きます。", what does に mark?',options:["Origin","Destination","Means","Time"],answer:"Destination"},{question:"Which verb is typically used with に to indicate existence for inanimate objects?",options:["います (imasu)","あります (arimasu)","します (shimasu)","食べます (tabemasu)"],answer:"あります (arimasu)"}]},{id:"particle_de",title:"Particle で (de)",content:`
# Particle で (de)

The particle で (de) is a versatile particle with several key functions, primarily indicating **the location where an action takes place, the means/method, or the cause/reason.**

## 1. Location of Action (at, in)

で marks the place where an action or event occurs. This is a crucial distinction from に, which marks the location of existence or destination.

### Example:

*   **図書館で勉強します。** (Toshokan **de** benkyou shimasu.)
    *   図書館 (toshokan) = library
    *   勉強します (benkyou shimasu) = study (polite form of 勉強する - benkyou suru)
    *   **Meaning:** I study at the library.

Here, the action of studying is *performed* at the library.

## 2. Means or Method (by, with, using)

で indicates the tool, method, or means by which an action is performed.

### Example:

*   **バスで学校に行きます。** (Basu **de** gakkou ni ikimasu.)
    *   バス (basu) = bus
    *   学校 (gakkou) = school
    *   行きます (ikimasu) = go
    *   **Meaning:** I go to school by bus.

Here, "バス" (bus) is the means of transportation.

## 3. Cause or Reason (because of, due to)

で can indicate the cause or reason for something, often an undesirable outcome.

### Example:

*   **病気で会社を休みました。** (Byouki **de** kaisha o yasumimashita.)
    *   病気 (byouki) = sickness
    *   会社 (kaisha) = company
    *   休みました (yasumimashita) = rested/took a day off (past tense of 休む - yasumu)
    *   **Meaning:** I took a day off from work because of sickness.

## 4. Material (made of)

で can indicate the material something is made of.

### Example:

*   **木でできたテーブル。** (Ki **de** dekita teeburu.)
    *   木 (ki) = wood
    *   できた (dekita) = made
    *   テーブル (teeburu) = table
    *   **Meaning:** A table made of wood.

## 5. Scope or Limit (within, among)

で can also indicate a limit or scope, often translated as "within" or "among."

### Example:

*   **クラスで一番背が高いです。** (Kurasu **de** ichiban se ga takai desu.)
    *   クラス (kurasu) = class
    *   一番 (ichiban) = most/best
    *   背が高い (se ga takai) = tall
    *   **Meaning:** I am the tallest in the class.

## Placement

で always follows the noun or phrase it modifies.
        `,examples:[{japanese:"レストランで食事をします。",romaji:"Resutoran de shokuji o shimasu.",english:"I eat a meal at the restaurant."},{japanese:"はしで食べます。",romaji:"Hashi de tabemasu.",english:"I eat with chopsticks."},{japanese:"地震でビルが倒れました。",romaji:"Jishin de biru ga taoremashita.",english:"The building collapsed due to the earthquake."},{japanese:"紙で飛行機を作ります。",romaji:"Kami de hikouki o tsukurimasu.",english:"I make a paper airplane from paper."}],nuances:["The most common confusion is between で and に for location. Remember: で = location of action, に = location of existence/destination.","When indicating a means, で can be used for transportation, tools, languages, etc."],quiz:[{question:"Which particle marks the location where an action takes place?",options:["に (ni)","で (de)","を (wo)","は (wa)"],answer:"で (de)"},{question:'In "バスで学校に行きます。", what does で indicate?',options:["Destination","Time","Means/Method","Recipient"],answer:"Means/Method"},{question:"Which of the following sentences correctly uses で to indicate the location of an action?",options:["公園に遊びます。 (Kouen ni asobimasu.)","公園で遊びます。 (Kouen de asobimasu.)","公園を遊びます。 (Kouen o asobimasu.)","公園は遊びます。 (Kouen wa asobimasu.)"],answer:"公園で遊びます。 (Kouen de asobimasu.)"}]}]},{id:"verb_conjugation",title:"Verb Conjugation",description:"Learn how to conjugate verbs into different forms: ます, て, た, ない.",topics:[{id:"masu_form",title:"ます Form",content:`
# ます Form (Polite Form)

The ます form is the most common and fundamental polite form of Japanese verbs. It is used in everyday conversations to show respect to the listener and is a good starting point for beginners.

## Formation

The ます form is attached to the **masu-stem** of a verb. The masu-stem is derived differently for Group 1 (Godan) and Group 2 (Ichidan) verbs.

### Group 1 Verbs (Godan Verbs)

For Group 1 verbs, change the final "u" sound of the dictionary form to the "i" sound and then add ます.

*   **行く (iku - to go)** → 行き (iki) + ます → **行きます (ikimasu)**
*   **飲む (nomu - to drink)** → 飲み (nomi) + ます → **飲みます (nomimasu)**
*   **話す (hanasu - to speak)** → 話し (hanashi) + ます → **話します (hanashimasu)**

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) from the dictionary form and add ます.

*   **食べる (taberu - to eat)** → 食べ (tabe) + ます → **食べます (tabemasu)**
*   **見る (miru - to see)** → 見 (mi) + ます → **見ます (mimasu)**
*   **起きる (okiru - to wake up)** → 起き (oki) + ます → **起きます (okimasu)**

### Irregular Verbs

There are two main irregular verbs:

*   **する (suru - to do)** → **します (shimasu)**
*   **来る (kuru - to come)** → **来ます (kimasu)**

## Usage

The ます form is used for:

1.  **Polite statements:** It makes your sentences polite and suitable for most social situations.
    *   **毎日日本語を勉強します。** (Mainichi Nihongo o benkyou shimasu.) - I study Japanese every day.

2.  **Present and Future Tense:** It can indicate actions happening now, habitually, or in the future.
    *   **今、本を読みます。** (Ima, hon o yomimasu.) - I am reading a book now.
    *   **明日、映画を見ます。** (Ashita, eiga o mimasu.) - I will watch a movie tomorrow.

3.  **Invitations/Suggestions (with か):** Adding か (ka) at the end turns it into a polite question or invitation.
    *   **一緒に食べませんか？** (Issho ni tabemasen ka?) - Won't you eat together? (Invitation)

## Negative Form (ません)

To make the ます form negative, change ます to ません (masen).

*   **行きます (ikimasu)** → **行きません (ikimasen - won't go)**
*   **食べます (tabemasu)** → **食べません (tabemasen - won't eat)**

## Past Tense (ました)

To make the ます form past tense, change ます to ました (mashita).

*   **行きます (ikimasu)** → **行きました (ikimashita - went)**
*   **食べます (tabemasu)** → **食べました (tabemashita - ate)**

## Past Negative (ませんでした)

To make the ます form past negative, change ます to ませんでした (masen deshita).

*   **行きます (ikimasu)** → **行きませんでした (ikimasen deshita - didn't go)**
*   **食べます (tabemasu)** → **食べませんでした (tabemasen deshita - didn't eat)**
        `,examples:[{japanese:"毎朝コーヒーを飲みます。",romaji:"Maiasa koohii o nomimasu.",english:"I drink coffee every morning."},{japanese:"週末に友達と会います。",romaji:"Shuumatsu ni tomodachi to aimasu.",english:"I will meet my friend on the weekend."},{japanese:"昨日は働きませんでした。",romaji:"Kinou wa hatarakimasen deshita.",english:"I didn't work yesterday."}],nuances:["The ます form is essential for polite communication in Japanese. It is the default form you should use when speaking to people you don't know well, superiors, or in formal situations.","While it covers present and future, context usually clarifies which tense is intended."],quiz:[{question:"What is the ます form of the verb 食べる (taberu - to eat)?",options:["食べます (tabemasu)","食べます (tabemasu)","食べます (tabemasu)","食べます (tabemasu)"],answer:"食べます (tabemasu)"},{question:"What is the negative ます form of 行く (iku - to go)?",options:["行きます (ikimasu)","行きません (ikimasen)","行きました (ikimashita)","行かなかった (ikanakatta)"],answer:"行きません (ikimasen)"},{question:"Which of the following sentences uses the ます form correctly?",options:["昨日、本を読みました。 (Kinou, hon o yomimashita.)","明日、映画を見ます。 (Ashita, eiga o mimasu.)","毎日日本語を勉強します。 (Mainichi Nihongo o benkyou shimasu.)","All of the above."],answer:"All of the above."}]},{id:"te_form",title:"て Form",content:`
# て Form

The て form is one of the most versatile and frequently used verb forms in Japanese. It does not have a tense on its own but connects clauses and indicates various relationships between actions or states.

## Formation

The formation of the て form depends on the verb group.

### Group 1 Verbs (Godan Verbs)

This group has several sound changes (euphonic changes) before adding て.

*   Verbs ending in う, つ, る → って
    *   **買う (kau - to buy)** → 買って (katte)
    *   **待つ (matsu - to wait)** → 待って (matte)
    *   **帰る (kaeru - to return)** → 帰って (kaette)

*   Verbs ending in む, ぶ, ぬ → んで
    *   **読む (yomu - to read)** → 読んで (yonde)
    *   **遊ぶ (asobu - to play)** → 遊んで (asonde)
    *   **死ぬ (shinu - to die)** → 死んで (shinde)

*   Verbs ending in く → いて
    *   **書く (kaku - to write)** → 書いて (kaite)

*   Verbs ending in ぐ → いで
    *   **泳ぐ (oyogu - to swim)** → 泳いで (oyoide)

*   Verbs ending in す → して
    *   **話す (hanasu - to speak)** → 話して (hanashite)

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) and add て.

*   **食べる (taberu - to eat)** → 食べて (tabete)
*   **見る (miru - to see)** → 見て (mite)

### Irregular Verbs

*   **する (suru - to do)** → **して (shite)**
*   **来る (kuru - to come)** → **来て (kite)**

## Common Usages

1.  **Connecting Actions (and, then):** To list actions in chronological order.
    *   **朝ごはんを食べて、学校に行きます。** (Asagohan o tabete, gakkou ni ikimasu.) - I eat breakfast, and then go to school.

2.  **Request/Command (ください):** To make a polite request.
    *   **座ってください。** (Suwatte kudasai.) - Please sit down.

3.  **Ongoing Action (いる):** To indicate an action in progress.
    *   **本を読んでいます。** (Hon o yonde imasu.) - I am reading a book.

4.  **Permission (もいいです):** To ask for or grant permission.
    *   **入ってもいいですか？** (Haitte mo ii desu ka?) - May I come in?

5.  **Prohibition (はいけません):** To prohibit an action.
    *   **ここで写真を撮ってはいけません。** (Koko de shashin o totte wa ikemasen.) - You must not take pictures here.

6.  **Cause/Reason (から):** To state a reason or cause.
    *   **頭が痛くて、学校を休みました。** (Atama ga itakute, gakkou o yasumimashita.) - I had a headache, so I took a day off from school.

7.  **Sequential Actions (から):** To indicate that one action happens after another.
    *   **宿題をしてから、遊びに行きます。** (Shukudai o shite kara, asobi ni ikimasu.) - After doing homework, I will go play.

## Placement

て form connects verbs, adjectives, and nouns to other clauses or particles.
        `,examples:[{japanese:"テレビを見て、寝ます。",romaji:"Terebi o mite, nemasu.",english:"I watch TV, then go to sleep."},{japanese:"この本を読んでください。",romaji:"Kono hon o yonde kudasai.",english:"Please read this book."},{japanese:"雨が降っていて、寒いです。",romaji:"Ame ga futte ite, samui desu.",english:"It's raining and cold."}],nuances:["The euphonic changes for Group 1 verbs are crucial to memorize. They are consistent and apply to other verb forms as well.","The て form is incredibly versatile and its meaning often depends on the particle or verb that follows it."],quiz:[{question:"What is the て form of the verb 食べる (taberu - to eat)?",options:["食べって (tabette)","食べて (tabete)","食べで (tabede)","食べし (tabeshi)"],answer:"食べて (tabete)"},{question:"Which of the following is the て form of 行く (iku - to go)?",options:["行って (itte)","行きって (ikitte)","行いて (iite)","行んで (inde)"],answer:"行って (itte)"},{question:'In the sentence "本を読んでいます。", what does the て form + います indicate?',options:["Past action","Future action","Ongoing action","Completed action"],answer:"Ongoing action"}]},{id:"ta_form",title:"た Form",content:`
# た Form (Plain Past Form)

The た form is the plain past tense of Japanese verbs. It is equivalent to the "-ed" or irregular past tense forms in English (e.g., "ate," "went"). It is used in casual speech and as a building block for many other grammatical structures.

## Formation

The formation of the た form follows the same euphonic changes as the て form, simply replacing て with た, and で with だ.

### Group 1 Verbs (Godan Verbs)

*   Verbs ending in う, つ, る → った
    *   **買う (kau - to buy)** → 買った (katta)
    *   **待つ (matsu - to wait)** → 待った (matta)
    *   **帰る (kaeru - to return)** → 帰った (kaetta)

*   Verbs ending in む, ぶ, ぬ → んだ
    *   **読む (yomu - to read)** → 読んだ (yonda)
    *   **遊ぶ (asobu - to play)** → 遊んだ (asonda)
    *   **死ぬ (shinu - to die)** → 死んだ (shinda)

*   Verbs ending in く → いた
    *   **書く (kaku - to write)** → 書いた (kaita)

*   Verbs ending in ぐ → いだ
    *   **泳ぐ (oyogu - to swim)** → 泳いだ (oyoida)

*   Verbs ending in す → した
    *   **話す (hanasu - to speak)** → 話した (hanashita)

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) and add た.

*   **食べる (taberu - to eat)** → 食べた (tabeta)
*   **見る (miru - to see)** → 見た (mita)

### Irregular Verbs

*   **する (suru - to do)** → **した (shita)**
*   **来る (kuru - to come)** → **来た (kita)**

## Usage

The た form is used for:

1.  **Plain Past Tense:** To indicate actions that happened in the past in casual speech.
    *   **昨日、映画を見た。** (Kinou, eiga o mita.) - I watched a movie yesterday.

2.  **As a Modifier:** It can directly modify nouns, acting like a relative clause.
    *   **昨日食べたケーキは美味しかった。** (Kinou tabeta keeki wa oishikatta.) - The cake I ate yesterday was delicious.

3.  **Experience (ことがある):** To express having done something before.
    *   **日本に行ったことがあります。** (Nihon ni itta koto ga arimasu.) - I have been to Japan.

4.  **Conditional (ら):** To form a conditional clause.
    *   **雨が降ったら、家にいます。** (Ame ga futtara, ie ni imasu.) - If it rains, I will stay home.

## Negative Form (なかった)

To make the た form negative, use the ない form stem and add かった.

*   **行く (iku)** → 行かない (ikanai) → **行かなかった (ikanakatta - didn't go)**
*   **食べる (taberu)** → 食べない (tabenai) → **食べなかった (tabenakatta - didn't eat)**
        `,examples:[{japanese:"先週、新しい本を買った。",romaji:"Senshuu, atarashii hon o katta.",english:"Last week, I bought a new book."},{japanese:"友達と公園で遊んだ。",romaji:"Tomodachi to kouen de asonda.",english:"I played with my friend in the park."},{japanese:"あの映画は面白かった。",romaji:"Ano eiga wa omoshirokatta.",english:"That movie was interesting."}],nuances:["The た form is the plain form equivalent of the polite ました form. It is crucial for casual conversations and for forming more complex grammatical structures.","Mastering the euphonic changes is key to correctly forming both the て form and the た form."],quiz:[{question:"What is the た form of the verb 食べる (taberu - to eat)?",options:["食べった (tabetta)","食べた (tabeta)","食べだ (tabeda)","食べし (tabeshi)"],answer:"食べた (tabeta)"},{question:"Which of the following is the た form of 行く (iku - to go)?",options:["行った (itta)","行きった (ikitta)","行いた (iita)","行んだ (inda)"],answer:"行った (itta)"},{question:'In the sentence "日本に行ったことがあります。", what does the た form + ことがあります express?',options:["Future plan","Past experience","Current state","Obligation"],answer:"Past experience"}]},{id:"nai_form",title:"ない Form",content:`
# ない Form (Plain Negative Form)

The ない form is the plain negative form of Japanese verbs. It is used in casual speech to express that an action will not happen, is not happening, or did not happen. It is also a building block for many other negative grammatical structures.

## Formation

The formation of the ない form depends on the verb group.

### Group 1 Verbs (Godan Verbs)

For Group 1 verbs, change the final "u" sound of the dictionary form to the "a" sound and then add ない. If the verb ends in う (u), it changes to わ (wa) before adding ない.

*   **行く (iku - to go)** → 行か (ika) + ない → **行かない (ikanai)**
*   **飲む (nomu - to drink)** → 飲ま (noma) + ない → **飲まない (nomanai)**
*   **話す (hanasu - to speak)** → 話さ (hanasa) + ない → **話さない (hanasanai)**
*   **買う (kau - to buy)** → 買わ (kawa) + ない → **買わない (kawanai)**

### Group 2 Verbs (Ichidan Verbs)

For Group 2 verbs, simply remove the final る (ru) from the dictionary form and add ない.

*   **食べる (taberu - to eat)** → 食べ (tabe) + ない → **食べない (tabenai)**
*   **見る (miru - to see)** → 見 (mi) + ない → **見ない (minai)**
*   **起きる (okiru - to wake up)** → 起き (oki) + ない → **起きない (okinai)**

### Irregular Verbs

*   **する (suru - to do)** → **しない (shinai)**
*   **来る (kuru - to come)** → **来ない (konai)**

## Usage

The ない form is used for:

1.  **Plain Negative Statements:** To express negation in casual speech.
    *   **明日、学校に行かない。** (Ashita, gakkou ni ikanai.) - I won't go to school tomorrow.

2.  **Prohibition (でください):** To tell someone not to do something (less polite than ないでください).
    *   **ここに座らないでください。** (Koko ni suwaranai de kudasai.) - Please don't sit here.

3.  **Necessity (なければならない):** To express obligation or necessity.
    *   **勉強しなければならない。** (Benkyou shinakereba naranai.) - I must study.

4.  **Without Doing (ないで):** To indicate doing something without doing another action.
    *   **何も食べないで寝た。** (Nani mo tabenai de neta.) - I went to bed without eating anything.

## Past Negative (なかった)

To make the ない form past tense, replace the い with かった.

*   **行かない (ikanai)** → **行かなかった (ikanakatta - didn't go)**
*   **食べない (tabenai)** → **食べなかった (tabenakatta - didn't eat)**
        `,examples:[{japanese:"今日は何も食べない。",romaji:"Kyou wa nani mo tabenai.",english:"I won't eat anything today."},{japanese:"嘘をつかないでください。",romaji:"Uso o tsukanai de kudasai.",english:"Please don't lie."},{japanese:"まだ宿題をしていない。",romaji:"Mada shukudai o shite inai.",english:"I haven't done my homework yet."}],nuances:["The ない form is the plain negative equivalent of the polite ません form. It is crucial for casual conversations and for forming more complex negative grammatical structures.","Pay close attention to the vowel changes for Group 1 verbs, especially the う → わ change."],quiz:[]}]},{id:"adjective_forms",title:"Adjective Forms",description:"Explore the different forms of い-adjectives and な-adjectives.",topics:[{id:"i_adjective",title:"い-Adjectives",content:`
# い-Adjectives

い-adjectives (い形容詞 - i-keiyoushi) are a category of Japanese adjectives that always end with the hiragana い (i) in their dictionary form. They directly modify nouns and can be conjugated to express different tenses and polarities.

## Usage

1.  **Modifying Nouns:** Place the い-adjective directly before the noun it modifies.
    *   **高い山** (takai yama) - a tall mountain
    *   **新しい車** (atarashii kuruma) - a new car

2.  **Predicating Sentences:** When an い-adjective ends a sentence, it acts as the predicate.
    *   **この本は面白いです。** (Kono hon wa omoshiroi desu.) - This book is interesting.

## Conjugation

い-adjectives conjugate by changing the final い.

### 1. Negative Form (くない)

Replace the final い with くない (kunai).

*   **高い (takai - expensive/tall)** → 高くない (takakunai - not expensive/tall)
*   **美味しい (oishii - delicious)** → 美味しくない (oishikunai - not delicious)

### 2. Past Form (かった)

Replace the final い with かった (katta).

*   **高い (takai)** → 高かった (takakatta - was expensive/tall)
*   **美味しい (oishii)** → 美味しかった (oishikatta - was delicious)

### 3. Past Negative Form (くなかった)

Combine the negative and past forms: replace the final い with くなかった (kunakatta).

*   **高い (takai)** → 高くなかった (takakunakatta - was not expensive/tall)
*   **美味しい (oishii)** → 美味しくなかった (oishikunakatta - was not delicious)

### 4. Connecting Adjectives (くて)

To connect two い-adjectives or an い-adjective to a verb, change the final い to くて (kute).

*   **安くて美味しいレストラン** (yasukute oishii resutoran) - a cheap and delicious restaurant
*   **寒くて、外に出たくない。** (Samukute, soto ni detakunai.) - It's cold, so I don't want to go outside.

## Special Case: 良い (ii - good)

The adjective 良い (ii - good) is irregular. While its dictionary form is 良い (ii), its conjugations are based on 良い (yoi).

*   **良い (ii)** → 良くない (yokunai - not good)
*   **良い (ii)** → 良かった (yokatta - was good)
*   **良い (ii)** → 良くなかった (yokunakatta - was not good)
        `,examples:[{japanese:"このりんごは甘いです。",romaji:"Kono ringo wa amai desu.",english:"This apple is sweet."},{japanese:"昨日は寒かったです。",romaji:"Kinou wa samukatta desu.",english:"It was cold yesterday."},{japanese:"この映画は面白くないです。",romaji:"Kono eiga wa omoshirokunai desu.",english:"This movie is not interesting."}],nuances:["い-adjectives directly modify nouns without needing any particle in between.","The final い is dropped before adding conjugation endings.","Remember the irregular conjugation of 良い (ii)."],quiz:[{question:"Which of the following is an い-adjective?",options:["きれい (kirei)","静か (shizuka)","高い (takai)","有名 (yuumei)"],answer:"高い (takai)"},{question:"What is the negative form of 美味しい (oishii - delicious)?",options:["美味しいじゃない (oishii janai)","美味しくない (oishikunai)","美味しくなかった (oishikunakatta)","美味しいではありません (oishii dewa arimasen)"],answer:"美味しくない (oishikunai)"},{question:"What is the past form of 良い (ii - good)?",options:["良かった (yokatta)","いいかった (iikatta)","良くない (yokunai)","良いでした (ii deshita)"],answer:"良かった (yokatta)"}]},{id:"na_adjective",title:"な-Adjectives",content:`
# な-Adjectives

な-adjectives (な形容詞 - na-keiyoushi), also known as nominal adjectives or adjectival nouns, are a category of Japanese adjectives that require the particle な (na) when directly modifying a noun. When used as a predicate at the end of a sentence, they typically end with です (desu) or だ (da).

## Usage

1.  **Modifying Nouns:** Add な (na) between the な-adjective and the noun it modifies.
    *   **きれいな花** (kirei **na** hana) - a beautiful flower
    *   **有名な場所** (yuumei **na** basho) - a famous place

2.  **Predicating Sentences:** When a な-adjective ends a sentence, it acts as the predicate and is followed by です (desu) for polite speech or だ (da) for plain speech.
    *   **この部屋はきれいです。** (Kono heya wa kirei desu.) - This room is beautiful.
    *   **彼は有名だ。** (Kare wa yuumei da.) - He is famous.

## Conjugation

な-adjectives conjugate using です/だ and their negative/past forms.

### 1. Negative Form (じゃない / ではありません)

For plain negative, add じゃない (janai). For polite negative, add ではありません (dewa arimasen) or じゃありません (ja arimasen).

*   **きれい (kirei - beautiful/clean)** → きれいじゃない (kirei janai - not beautiful/clean)
*   **きれい (kirei)** → きれいではありません (kirei dewa arimasen - not beautiful/clean, polite)

### 2. Past Form (だった / でした)

For plain past, add だった (datta). For polite past, add でした (deshita).

*   **きれい (kirei)** → きれいだった (kirei datta - was beautiful/clean)
*   **きれい (kirei)** → きれいでした (kirei deshita - was beautiful/clean, polite)

### 3. Past Negative Form (じゃなかった / ではありませんでした)

For plain past negative, add じゃなかった (janakatta). For polite past negative, add ではありませんでした (dewa arimasen deshita) or じゃありませんでした (ja arimasen deshita).

*   **きれい (kirei)** → きれいじゃなかった (kirei janakatta - was not beautiful/clean)
*   **きれい (kirei)** → きれいではありませんでした (kirei dewa arimasen deshita - was not beautiful/clean, polite)

### 4. Connecting Adjectives (で)

To connect two な-adjectives or a な-adjective to a verb, use で (de).

*   **静かで便利な場所** (shizuka **de** benri na basho) - a quiet and convenient place
*   **元気で頑張ります。** (Genki **de** ganbarimasu.) - I'll do my best energetically.
        `,examples:[{japanese:"これは便利な辞書です。",romaji:"Kore wa benri na jisho desu.",english:"This is a convenient dictionary."},{japanese:"昨日は暇でした。",romaji:"Kinou wa hima deshita.",english:"I was free yesterday."},{japanese:"この町は静かじゃない。",romaji:"Kono machi wa shizuka janai.",english:"This town is not quiet."}],nuances:["The key difference from い-adjectives is the need for な when modifying nouns.","な-adjectives behave more like nouns when used as predicates, taking です/だ and their conjugations.","Many な-adjectives are derived from Chinese loanwords or are concepts that describe a state or quality."],quiz:[{question:"Which particle is required when a な-adjective directly modifies a noun?",options:["が (ga)","を (wo)","な (na)","に (ni)"],answer:"な (na)"},{question:"What is the polite past form of きれい (kirei - beautiful/clean)?",options:["きれいだった (kirei datta)","きれいでした (kirei deshita)","きれいじゃない (kirei janai)","きれいではありません (kirei dewa arimasen)"],answer:"きれいでした (kirei deshita)"},{question:'In the phrase "静かで便利な場所", what does で connect?',options:["Two nouns","A noun and a verb","Two な-adjectives","An い-adjective and a な-adjective"],answer:"Two な-adjectives"}]}]}];function Bo(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Vn=Bo();function Bh(n){Vn=n}const Nh=/[&<>"']/,F_=new RegExp(Nh.source,"g"),qh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,B_=new RegExp(qh.source,"g"),N_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gl=n=>N_[n];function kt(n,e){if(e){if(Nh.test(n))return n.replace(F_,Gl)}else if(qh.test(n))return n.replace(B_,Gl);return n}const q_=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function V_(n){return n.replace(q_,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const H_=/(^|[^\[])\^/g;function Me(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(s,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(H_,"$1"),t=t.replace(s,o),i},getRegex:()=>new RegExp(t,e)};return i}function Yl(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Xi={exec:()=>null};function Jl(n,e){const t=n.replace(/\|/g,(a,o,r)=>{let l=!1,c=o;for(;--c>=0&&r[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function Hs(n,e,t){const i=n.length;if(i===0)return"";let s=0;for(;s<i&&n.charAt(i-s-1)===e;)s++;return n.slice(0,i-s)}function $_(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function Xl(n,e,t,i){const s=e.href,a=e.title?kt(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const r={type:"link",raw:t,href:s,title:a,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,r}return{type:"image",raw:t,href:s,title:a,text:kt(o)}}function U_(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(s=>{const a=s.match(/^\s+/);if(a===null)return s;const[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}class _a{constructor(e){$(this,"options");$(this,"rules");$(this,"lexer");this.options=e||Vn}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Hs(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],s=U_(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const s=Hs(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);i=Hs(i.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(i);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const s=i.length>1,a={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");const o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let r="",l="",c=!1;for(;e;){let h=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let u=t[2].split(`
`,1)[0].replace(/^\t+/,k=>" ".repeat(3*k.length)),d=e.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=u.trimStart()):(f=t[2].search(/[^ ]/),f=f>4?1:f,l=u.slice(f),f+=t[1].length);let m=!1;if(!u&&/^ *$/.test(d)&&(r+=d+`
`,e=e.substring(d.length+1),h=!0),!h){const k=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),I=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),S=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e;){const T=e.split(`
`,1)[0];if(d=T,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),I.test(d)||S.test(d)||k.test(d)||w.test(e))break;if(d.search(/[^ ]/)>=f||!d.trim())l+=`
`+d.slice(f);else{if(m||u.search(/[^ ]/)>=4||I.test(u)||S.test(u)||w.test(u))break;l+=`
`+d}!m&&!d.trim()&&(m=!0),r+=T+`
`,e=e.substring(T.length+1),u=d.slice(f)}}a.loose||(c?a.loose=!0:/\n *\n *$/.test(r)&&(c=!0));let p=null,_;this.options.gfm&&(p=/^\[[ xX]\] /.exec(l),p&&(_=p[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:r,task:!!p,checked:_,loose:!1,text:l,tokens:[]}),a.raw+=r}a.items[a.items.length-1].raw=r.trimEnd(),a.items[a.items.length-1].text=l.trimEnd(),a.raw=a.raw.trimEnd();for(let h=0;h<a.items.length;h++)if(this.lexer.state.top=!1,a.items[h].tokens=this.lexer.blockTokens(a.items[h].text,[]),!a.loose){const u=a.items[h].tokens.filter(f=>f.type==="space"),d=u.length>0&&u.some(f=>/\n.*\n/.test(f.raw));a.loose=d}if(a.loose)for(let h=0;h<a.items.length;h++)a.items[h].loose=!0;return a}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:s,title:a}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=Jl(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),a=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===s.length){for(const r of s)/^ *-+: *$/.test(r)?o.align.push("right"):/^ *:-+: *$/.test(r)?o.align.push("center"):/^ *:-+ *$/.test(r)?o.align.push("left"):o.align.push(null);for(const r of i)o.header.push({text:r,tokens:this.lexer.inline(r)});for(const r of a)o.rows.push(Jl(r,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:kt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Hs(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=$_(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),Xl(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const s=(i[2]||i[1]).replace(/\s+/g," "),a=t[s.toLowerCase()];if(!a){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return Xl(i,a,i[0],this.lexer)}}emStrong(e,t,i=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const o=[...s[0]].length-1;let r,l,c=o,h=0;const u=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+o);(s=u.exec(t))!=null;){if(r=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!r)continue;if(l=[...r].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){h+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+h);const d=[...s[0]][0].length,f=e.slice(0,o+s.index+d+l);if(Math.min(o,l)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const m=f.slice(2,-2);return{type:"strong",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const s=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return s&&a&&(i=i.substring(1,i.length-1)),i=kt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,s;return t[2]==="@"?(i=kt(t[1]),s="mailto:"+i):(i=kt(t[1]),s=i),{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let s,a;if(t[2]==="@")s=kt(t[0]),a="mailto:"+s;else{let o;do o=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(o!==t[0]);s=kt(t[0]),t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=kt(t[0]),{type:"text",raw:t[0],text:i}}}}const K_=/^(?: *(?:\n|$))+/,G_=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Y_=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,fs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,J_=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Vh=/(?:[*+-]|\d{1,9}[.)])/,Hh=Me(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Vh).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),No=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,X_=/^[^\n]+/,qo=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Z_=Me(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",qo).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Q_=Me(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Vh).getRegex(),za="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vo=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ek=Me("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Vo).replace("tag",za).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$h=Me(No).replace("hr",fs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",za).getRegex(),tk=Me(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$h).getRegex(),Ho={blockquote:tk,code:G_,def:Z_,fences:Y_,heading:J_,hr:fs,html:ek,lheading:Hh,list:Q_,newline:K_,paragraph:$h,table:Xi,text:X_},Zl=Me("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",fs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",za).getRegex(),nk={...Ho,table:Zl,paragraph:Me(No).replace("hr",fs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Zl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",za).getRegex()},ik={...Ho,html:Me(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vo).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Me(No).replace("hr",fs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Hh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Uh=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,sk=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Kh=/^( {2,}|\\)\n(?!\s*$)/,ak=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ms="\\p{P}\\p{S}",ok=Me(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ms).getRegex(),rk=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,lk=Me(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ms).getRegex(),ck=Me("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ms).getRegex(),hk=Me("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ms).getRegex(),uk=Me(/\\([punct])/,"gu").replace(/punct/g,ms).getRegex(),dk=Me(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fk=Me(Vo).replace("(?:-->|$)","-->").getRegex(),mk=Me("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fk).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ka=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pk=Me(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ka).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Gh=Me(/^!?\[(label)\]\[(ref)\]/).replace("label",ka).replace("ref",qo).getRegex(),Yh=Me(/^!?\[(ref)\](?:\[\])?/).replace("ref",qo).getRegex(),gk=Me("reflink|nolink(?!\\()","g").replace("reflink",Gh).replace("nolink",Yh).getRegex(),$o={_backpedal:Xi,anyPunctuation:uk,autolink:dk,blockSkip:rk,br:Kh,code:sk,del:Xi,emStrongLDelim:lk,emStrongRDelimAst:ck,emStrongRDelimUnd:hk,escape:Uh,link:pk,nolink:Yh,punctuation:ok,reflink:Gh,reflinkSearch:gk,tag:mk,text:ak,url:Xi},_k={...$o,link:Me(/^!?\[(label)\]\((.*?)\)/).replace("label",ka).getRegex(),reflink:Me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ka).getRegex()},_o={...$o,escape:Me(Uh).replace("])","~|])").getRegex(),url:Me(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kk={..._o,br:Me(Kh).replace("{2,}","*").getRegex(),text:Me(_o.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},$s={normal:Ho,gfm:nk,pedantic:ik},Ri={normal:$o,gfm:_o,breaks:kk,pedantic:_k};class Nt{constructor(e){$(this,"tokens");$(this,"options");$(this,"state");$(this,"tokenizer");$(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Vn,this.options.tokenizer=this.options.tokenizer||new _a,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:$s.normal,inline:Ri.normal};this.options.pedantic?(t.block=$s.pedantic,t.inline=Ri.pedantic):this.options.gfm&&(t.block=$s.gfm,this.options.breaks?t.inline=Ri.breaks:t.inline=Ri.gfm),this.tokenizer.rules=t}static get rules(){return{block:$s,inline:Ri}}static lex(e,t){return new Nt(t).lex(e)}static lexInline(e,t){return new Nt(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(r,l,c)=>l+"    ".repeat(c.length));let i,s,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>(i=r.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let r=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(h=>{c=h.call({lexer:this},l),typeof c=="number"&&c>=0&&(r=Math.min(r,c))}),r<1/0&&r>=0&&(a=e.substring(0,r+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){s=t[t.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(e){const r="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(r);break}else throw new Error(r)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,s,a,o=e,r,l,c;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,r.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(i=h.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,c)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const u=e.slice(1);let d;this.options.extensions.startInline.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(h=Math.min(h,d))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(i=this.tokenizer.inlineText(a)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class ba{constructor(e){$(this,"options");this.options=e||Vn}code(e,t,i){var a;const s=(a=(t||"").match(/^\S*/))==null?void 0:a[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+kt(s)+'">'+(i?e:kt(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:kt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,i){const s=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+s+a+`>
`+e+"</"+s+`>
`}listitem(e,t,i){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const s=Yl(e);if(s===null)return i;e=s;let a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+i+"</a>",a}image(e,t,i){const s=Yl(e);if(s===null)return i;e=s;let a=`<img src="${e}" alt="${i}"`;return t&&(a+=` title="${t}"`),a+=">",a}text(e){return e}}class Uo{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class qt{constructor(e){$(this,"options");$(this,"renderer");$(this,"textRenderer");this.options=e||Vn,this.options.renderer=this.options.renderer||new ba,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Uo}static parse(e,t){return new qt(t).parse(e)}static parseInline(e,t){return new qt(t).parseInline(e)}parse(e,t=!0){let i="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,r=this.options.extensions.renderers[o.type].call({parser:this},o);if(r!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=r||"";continue}}switch(a.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const o=a;i+=this.renderer.heading(this.parseInline(o.tokens),o.depth,V_(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=a;i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=a;let r="",l="";for(let h=0;h<o.header.length;h++)l+=this.renderer.tablecell(this.parseInline(o.header[h].tokens),{header:!0,align:o.align[h]});r+=this.renderer.tablerow(l);let c="";for(let h=0;h<o.rows.length;h++){const u=o.rows[h];l="";for(let d=0;d<u.length;d++)l+=this.renderer.tablecell(this.parseInline(u[d].tokens),{header:!1,align:o.align[d]});c+=this.renderer.tablerow(l)}i+=this.renderer.table(r,c);continue}case"blockquote":{const o=a,r=this.parse(o.tokens);i+=this.renderer.blockquote(r);continue}case"list":{const o=a,r=o.ordered,l=o.start,c=o.loose;let h="";for(let u=0;u<o.items.length;u++){const d=o.items[u],f=d.checked,m=d.task;let p="";if(d.task){const _=this.renderer.checkbox(!!f);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=_+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=_+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:_+" "}):p+=_+" "}p+=this.parse(d.tokens,c),h+=this.renderer.listitem(p,m,!!f)}i+=this.renderer.list(h,r,l);continue}case"html":{const o=a;i+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=a;i+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=a,r=o.tokens?this.parseInline(o.tokens):o.text;for(;s+1<e.length&&e[s+1].type==="text";)o=e[++s],r+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);i+=t?this.renderer.paragraph(r):r;continue}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=o||"";continue}}switch(a.type){case"escape":{const o=a;i+=t.text(o.text);break}case"html":{const o=a;i+=t.html(o.text);break}case"link":{const o=a;i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{const o=a;i+=t.image(o.href,o.title,o.text);break}case"strong":{const o=a;i+=t.strong(this.parseInline(o.tokens,t));break}case"em":{const o=a;i+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{const o=a;i+=t.codespan(o.text);break}case"br":{i+=t.br();break}case"del":{const o=a;i+=t.del(this.parseInline(o.tokens,t));break}case"text":{const o=a;i+=t.text(o.text);break}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}}class Zi{constructor(e){$(this,"options");this.options=e||Vn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}$(Zi,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Bn,ko,Jh;class bk{constructor(...e){Yo(this,Bn);$(this,"defaults",Bo());$(this,"options",this.setOptions);$(this,"parse",Ss(this,Bn,ko).call(this,Nt.lex,qt.parse));$(this,"parseInline",Ss(this,Bn,ko).call(this,Nt.lexInline,qt.parseInline));$(this,"Parser",qt);$(this,"Renderer",ba);$(this,"TextRenderer",Uo);$(this,"Lexer",Nt);$(this,"Tokenizer",_a);$(this,"Hooks",Zi);this.use(...e)}walkTokens(e,t){var s,a;let i=[];for(const o of e)switch(i=i.concat(t.call(this,o)),o.type){case"table":{const r=o;for(const l of r.header)i=i.concat(this.walkTokens(l.tokens,t));for(const l of r.rows)for(const c of l)i=i.concat(this.walkTokens(c.tokens,t));break}case"list":{const r=o;i=i.concat(this.walkTokens(r.items,t));break}default:{const r=o;(a=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&a[r.type]?this.defaults.extensions.childTokens[r.type].forEach(l=>{const c=r[l].flat(1/0);i=i.concat(this.walkTokens(c,t))}):r.tokens&&(i=i.concat(this.walkTokens(r.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const o=t.renderers[a.name];o?t.renderers[a.name]=function(...r){let l=a.renderer.apply(this,r);return l===!1&&(l=o.apply(this,r)),l}:t.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=t[a.level];o?o.unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(t.childTokens[a.name]=a.childTokens)}),s.extensions=t),i.renderer){const a=this.defaults.renderer||new ba(this.defaults);for(const o in i.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const r=o,l=i.renderer[r],c=a[r];a[r]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u||""}}s.renderer=a}if(i.tokenizer){const a=this.defaults.tokenizer||new _a(this.defaults);for(const o in i.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const r=o,l=i.tokenizer[r],c=a[r];a[r]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u}}s.tokenizer=a}if(i.hooks){const a=this.defaults.hooks||new Zi;for(const o in i.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const r=o,l=i.hooks[r],c=a[r];Zi.passThroughHooks.has(o)?a[r]=h=>{if(this.defaults.async)return Promise.resolve(l.call(a,h)).then(d=>c.call(a,d));const u=l.call(a,h);return c.call(a,u)}:a[r]=(...h)=>{let u=l.apply(a,h);return u===!1&&(u=c.apply(a,h)),u}}s.hooks=a}if(i.walkTokens){const a=this.defaults.walkTokens,o=i.walkTokens;s.walkTokens=function(r){let l=[];return l.push(o.call(this,r)),a&&(l=l.concat(a.call(this,r))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Nt.lex(e,t??this.defaults)}parser(e,t){return qt.parse(e,t??this.defaults)}}Bn=new WeakSet,ko=function(e,t){return(i,s)=>{const a={...s},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const r=Ss(this,Bn,Jh).call(this,!!o.silent,!!o.async);if(typeof i>"u"||i===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(r);try{o.hooks&&(i=o.hooks.preprocess(i));let l=e(i,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=t(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return r(l)}}},Jh=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+kt(i.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(i);throw i}};const Fn=new bk;function xe(n,e){return Fn.parse(n,e)}xe.options=xe.setOptions=function(n){return Fn.setOptions(n),xe.defaults=Fn.defaults,Bh(xe.defaults),xe};xe.getDefaults=Bo;xe.defaults=Vn;xe.use=function(...n){return Fn.use(...n),xe.defaults=Fn.defaults,Bh(xe.defaults),xe};xe.walkTokens=function(n,e){return Fn.walkTokens(n,e)};xe.parseInline=Fn.parseInline;xe.Parser=qt;xe.parser=qt.parse;xe.Renderer=ba;xe.TextRenderer=Uo;xe.Lexer=Nt;xe.lexer=Nt.lex;xe.Tokenizer=_a;xe.Hooks=Zi;xe.parse=xe;xe.options;xe.setOptions;xe.use;xe.walkTokens;xe.parseInline;qt.parse;Nt.lex;function vk(n){let e,t,i,s,a,o;return{c(){e=j("ruby"),t=W(n[0]),i=j("rp"),i.textContent="(",s=j("rt"),a=W(n[1]),o=j("rp"),o.textContent=")"},m(r,l){L(r,e,l),g(e,t),g(e,i),g(e,s),g(s,a),g(e,o)},p(r,[l]){l&1&&O(t,r[0]),l&2&&O(a,r[1])},i:oe,o:oe,d(r){r&&R(e)}}}function yk(n,e,t){let{japanese:i}=e,{reading:s}=e;return n.$$set=a=>{"japanese"in a&&t(0,i=a.japanese),"reading"in a&&t(1,s=a.reading)},[i,s]}class wk extends Ke{constructor(e){super(),Ue(this,e,yk,vk,Ve,{japanese:0,reading:1})}}function Ql(n,e,t){const i=n.slice();return i[14]=e[t],i}function ec(n,e,t){const i=n.slice();return i[17]=e[t],i}function tc(n,e,t){const i=n.slice();return i[20]=e[t],i}function nc(n){let e,t=n[7]("examples")+"",i,s,a,o,r=ue(n[0].examples),l=[];for(let h=0;h<r.length;h+=1)l[h]=ic(tc(n,r,h));const c=h=>ce(l[h],1,1,()=>{l[h]=null});return{c(){e=j("h3"),i=W(t),s=D(),a=j("ul");for(let h=0;h<l.length;h+=1)l[h].c();v(a,"class","svelte-apytev")},m(h,u){L(h,e,u),g(e,i),L(h,s,u),L(h,a,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(a,null);o=!0},p(h,u){if((!o||u&128)&&t!==(t=h[7]("examples")+"")&&O(i,t),u&385){r=ue(h[0].examples);let d;for(d=0;d<r.length;d+=1){const f=tc(h,r,d);l[d]?(l[d].p(f,u),le(l[d],1)):(l[d]=ic(f),l[d].c(),le(l[d],1),l[d].m(a,null))}for(Ct(),d=r.length;d<l.length;d+=1)c(d);Dt()}},i(h){if(!o){for(let u=0;u<r.length;u+=1)le(l[u]);o=!0}},o(h){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)ce(l[u]);o=!1},d(h){h&&(R(e),R(s),R(a)),st(l,h)}}}function jk(n){let e=n[20].japanese+"",t;return{c(){t=W(e)},m(i,s){L(i,t,s)},p(i,s){s&1&&e!==(e=i[20].japanese+"")&&O(t,e)},i:oe,o:oe,d(i){i&&R(t)}}}function Tk(n){let e,t;return e=new wk({props:{japanese:n[20].japanese,reading:n[20].reading}}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p(i,s){const a={};s&1&&(a.japanese=i[20].japanese),s&1&&(a.reading=i[20].reading),e.$set(a)},i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function ic(n){let e,t,i,s,a=n[20].romaji+"",o,r,l=n[7](n[20].english)+"",c,h;const u=[Tk,jk],d=[];function f(m,p){return m[8]?0:1}return t=f(n),i=d[t]=u[t](n),{c(){e=j("li"),i.c(),s=W(" ("),o=W(a),r=W(") - "),c=W(l),v(e,"class","svelte-apytev")},m(m,p){L(m,e,p),d[t].m(e,null),g(e,s),g(e,o),g(e,r),g(e,c),h=!0},p(m,p){let _=t;t=f(m),t===_?d[t].p(m,p):(Ct(),ce(d[_],1,1,()=>{d[_]=null}),Dt(),i=d[t],i?i.p(m,p):(i=d[t]=u[t](m),i.c()),le(i,1),i.m(e,s)),(!h||p&1)&&a!==(a=m[20].romaji+"")&&O(o,a),(!h||p&129)&&l!==(l=m[7](m[20].english)+"")&&O(c,l)},i(m){h||(le(i),h=!0)},o(m){ce(i),h=!1},d(m){m&&R(e),d[t].d()}}}function sc(n){let e,t=n[7]("nuances_tips")+"",i,s,a,o=ue(n[0].nuances),r=[];for(let l=0;l<o.length;l+=1)r[l]=ac(ec(n,o,l));return{c(){e=j("h3"),i=W(t),s=D(),a=j("ul");for(let l=0;l<r.length;l+=1)r[l].c();v(a,"class","svelte-apytev")},m(l,c){L(l,e,c),g(e,i),L(l,s,c),L(l,a,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(a,null)},p(l,c){if(c&128&&t!==(t=l[7]("nuances_tips")+"")&&O(i,t),c&129){o=ue(l[0].nuances);let h;for(h=0;h<o.length;h+=1){const u=ec(l,o,h);r[h]?r[h].p(u,c):(r[h]=ac(u),r[h].c(),r[h].m(a,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=o.length}},d(l){l&&(R(e),R(s),R(a)),st(r,l)}}}function ac(n){let e,t=n[7](n[17])+"",i;return{c(){e=j("li"),i=W(t),v(e,"class","svelte-apytev")},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&129&&t!==(t=s[7](s[17])+"")&&O(i,t)},d(s){s&&R(e)}}}function oc(n){let e,t=n[7]("mini_quiz")+"",i,s,a;function o(c,h){return c[6]?xk:Sk}let r=o(n),l=r(n);return{c(){e=j("h3"),i=W(t),s=D(),l.c(),a=on()},m(c,h){L(c,e,h),g(e,i),L(c,s,h),l.m(c,h),L(c,a,h)},p(c,h){h&128&&t!==(t=c[7]("mini_quiz")+"")&&O(i,t),r===(r=o(c))&&l?l.p(c,h):(l.d(1),l=r(c),l&&(l.c(),l.m(a.parentNode,a)))},d(c){c&&(R(e),R(s),R(a)),l.d(c)}}}function xk(n){let e,t,i=n[7]("quiz_complete")+"",s,a,o,r=n[7]("start_new_quiz")+"",l,c,h;return{c(){e=j("div"),t=j("p"),s=W(i),a=D(),o=j("button"),l=W(r),v(e,"class","quiz-completed svelte-apytev")},m(u,d){L(u,e,d),g(e,t),g(t,s),g(e,a),g(e,o),g(o,l),c||(h=te(o,"click",n[12]),c=!0)},p(u,d){d&128&&i!==(i=u[7]("quiz_complete")+"")&&O(s,i),d&128&&r!==(r=u[7]("start_new_quiz")+"")&&O(l,r)},d(u){u&&R(e),c=!1,h()}}}function Sk(n){let e,t,i=n[0].quiz[n[2]].question+"",s,a,o,r,l=ue(n[0].quiz[n[2]].options),c=[];for(let f=0;f<l.length;f+=1)c[f]=rc(Ql(n,l,f));function h(f,m){return f[5]?Mk:zk}let u=h(n),d=u(n);return{c(){e=j("div"),t=j("p"),s=W(i),a=D(),o=j("div");for(let f=0;f<c.length;f+=1)c[f].c();r=D(),d.c(),v(t,"class","question svelte-apytev"),v(o,"class","options svelte-apytev"),v(e,"class","quiz-container svelte-apytev")},m(f,m){L(f,e,m),g(e,t),g(t,s),g(e,a),g(e,o);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(o,null);g(e,r),d.m(e,null)},p(f,m){if(m&5&&i!==(i=f[0].quiz[f[2]].question+"")&&O(s,i),m&557){l=ue(f[0].quiz[f[2]].options);let p;for(p=0;p<l.length;p+=1){const _=Ql(f,l,p);c[p]?c[p].p(_,m):(c[p]=rc(_),c[p].c(),c[p].m(o,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=l.length}u===(u=h(f))&&d?d.p(f,m):(d.d(1),d=u(f),d&&(d.c(),d.m(e,null)))},d(f){f&&R(e),st(c,f),d.d()}}}function rc(n){let e,t=n[14]+"",i,s,a,o;function r(){return n[13](n[14])}return{c(){e=j("button"),i=W(t),s=D(),e.disabled=n[5],v(e,"class","svelte-apytev"),be(e,"selected",n[3]===n[14]),be(e,"correct",n[5]&&n[14]===n[0].quiz[n[2]].answer),be(e,"incorrect",n[5]&&n[3]===n[14]&&n[3]!==n[0].quiz[n[2]].answer)},m(l,c){L(l,e,c),g(e,i),g(e,s),a||(o=te(e,"click",r),a=!0)},p(l,c){n=l,c&5&&t!==(t=n[14]+"")&&O(i,t),c&32&&(e.disabled=n[5]),c&13&&be(e,"selected",n[3]===n[14]),c&37&&be(e,"correct",n[5]&&n[14]===n[0].quiz[n[2]].answer),c&45&&be(e,"incorrect",n[5]&&n[3]===n[14]&&n[3]!==n[0].quiz[n[2]].answer)},d(l){l&&R(e),a=!1,o()}}}function zk(n){let e,t=n[7]("check_answer")+"",i,s,a,o;return{c(){e=j("button"),i=W(t),e.disabled=s=n[3]===null},m(r,l){L(r,e,l),g(e,i),a||(o=te(e,"click",n[10]),a=!0)},p(r,l){l&128&&t!==(t=r[7]("check_answer")+"")&&O(i,t),l&8&&s!==(s=r[3]===null)&&(e.disabled=s)},d(r){r&&R(e),a=!1,o()}}}function Mk(n){let e,t,i,s=n[7]("next_question")+"",a,o,r;function l(u,d){return u[4]?Wk:Ik}let c=l(n),h=c(n);return{c(){e=j("p"),h.c(),t=D(),i=j("button"),a=W(s),v(e,"class","feedback svelte-apytev"),be(e,"correct",n[4]),be(e,"incorrect",!n[4])},m(u,d){L(u,e,d),h.m(e,null),L(u,t,d),L(u,i,d),g(i,a),o||(r=te(i,"click",n[11]),o=!0)},p(u,d){c===(c=l(u))&&h?h.p(u,d):(h.d(1),h=c(u),h&&(h.c(),h.m(e,null))),d&16&&be(e,"correct",u[4]),d&16&&be(e,"incorrect",!u[4]),d&128&&s!==(s=u[7]("next_question")+"")&&O(a,s)},d(u){u&&(R(e),R(t),R(i)),h.d(),o=!1,r()}}}function Ik(n){let e=n[7]("incorrect_answer")+"",t,i,s=n[7]("correct_is")+"",a,o,r=n[0].quiz[n[2]].answer+"",l;return{c(){t=W(e),i=D(),a=W(s),o=D(),l=W(r)},m(c,h){L(c,t,h),L(c,i,h),L(c,a,h),L(c,o,h),L(c,l,h)},p(c,h){h&128&&e!==(e=c[7]("incorrect_answer")+"")&&O(t,e),h&128&&s!==(s=c[7]("correct_is")+"")&&O(a,s),h&5&&r!==(r=c[0].quiz[c[2]].answer+"")&&O(l,r)},d(c){c&&(R(t),R(i),R(a),R(o),R(l))}}}function Wk(n){let e=n[7]("correct_answer")+"",t;return{c(){t=W(e)},m(i,s){L(i,t,s)},p(i,s){s&128&&e!==(e=i[7]("correct_answer")+"")&&O(t,e)},d(i){i&&R(t)}}}function Pk(n){let e,t,i=n[0].title+"",s,a,o,r,l,c,h,u=n[0].examples&&n[0].examples.length>0&&nc(n),d=n[0].nuances&&n[0].nuances.length>0&&sc(n),f=n[0].quiz&&n[0].quiz.length>0&&oc(n);return{c(){e=j("div"),t=j("h2"),s=W(i),a=D(),o=j("div"),r=D(),u&&u.c(),l=D(),d&&d.c(),c=D(),f&&f.c(),v(t,"class","svelte-apytev"),v(o,"class","grammar-content svelte-apytev"),v(e,"class","grammar-topic-detail svelte-apytev")},m(m,p){L(m,e,p),g(e,t),g(t,s),g(e,a),g(e,o),o.innerHTML=n[1],g(e,r),u&&u.m(e,null),g(e,l),d&&d.m(e,null),g(e,c),f&&f.m(e,null),h=!0},p(m,[p]){(!h||p&1)&&i!==(i=m[0].title+"")&&O(s,i),(!h||p&2)&&(o.innerHTML=m[1]),m[0].examples&&m[0].examples.length>0?u?(u.p(m,p),p&1&&le(u,1)):(u=nc(m),u.c(),le(u,1),u.m(e,l)):u&&(Ct(),ce(u,1,1,()=>{u=null}),Dt()),m[0].nuances&&m[0].nuances.length>0?d?d.p(m,p):(d=sc(m),d.c(),d.m(e,c)):d&&(d.d(1),d=null),m[0].quiz&&m[0].quiz.length>0?f?f.p(m,p):(f=oc(m),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(m){h||(le(u),h=!0)},o(m){ce(u),h=!1},d(m){m&&R(e),u&&u.d(),d&&d.d(),f&&f.d()}}}function Ak(n,e,t){let i,s;ye(n,Ee,k=>t(7,i=k)),ye(n,Ja,k=>t(8,s=k));let{topic:a}=e,o="",r=0,l=null,c=!1,h=!1,u=!1;gn(()=>{t(1,o=xe(a.content))});function d(k){t(3,l=k),t(5,h=!1)}function f(){l===a.quiz[r].answer?t(4,c=!0):t(4,c=!1),t(5,h=!0)}function m(){r<a.quiz.length-1?(t(2,r++,r),t(3,l=null),t(4,c=!1),t(5,h=!1)):t(6,u=!0)}function p(){t(2,r=0),t(3,l=null),t(4,c=!1),t(5,h=!1),t(6,u=!1)}const _=k=>d(k);return n.$$set=k=>{"topic"in k&&t(0,a=k.topic)},[a,o,r,l,c,h,u,i,s,d,f,m,p,_]}class Ck extends Ke{constructor(e){super(),Ue(this,e,Ak,Pk,Ve,{topic:0})}}function lc(n,e,t){const i=n.slice();return i[7]=e[t],i}function cc(n,e,t){const i=n.slice();return i[10]=e[t],i}function Dk(n){let e,t=n[1]("learn_section_title")+"",i,s,a,o=n[1]("learn_section_description")+"",r,l,c,h=ue(go),u=[];for(let d=0;d<h.length;d+=1)u[d]=uc(lc(n,h,d));return{c(){e=j("h2"),i=W(t),s=D(),a=j("p"),r=W(o),l=D(),c=j("div");for(let d=0;d<u.length;d+=1)u[d].c();v(c,"class","grammar-categories-grid svelte-170yrqk")},m(d,f){L(d,e,f),g(e,i),L(d,s,f),L(d,a,f),g(a,r),L(d,l,f),L(d,c,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(c,null)},p(d,f){if(f&2&&t!==(t=d[1]("learn_section_title")+"")&&O(i,t),f&2&&o!==(o=d[1]("learn_section_description")+"")&&O(r,o),f&4){h=ue(go);let m;for(m=0;m<h.length;m+=1){const p=lc(d,h,m);u[m]?u[m].p(p,f):(u[m]=uc(p),u[m].c(),u[m].m(c,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=h.length}},i:oe,o:oe,d(d){d&&(R(e),R(s),R(a),R(l),R(c)),st(u,d)}}}function Ok(n){let e,t=n[1]("back_to_categories")+"",i,s,a,o,r,l;return a=new Ck({props:{topic:n[0]}}),{c(){e=j("button"),i=W(t),s=D(),$e(a.$$.fragment)},m(c,h){L(c,e,h),g(e,i),L(c,s,h),Ne(a,c,h),o=!0,r||(l=te(e,"click",n[5]),r=!0)},p(c,h){(!o||h&2)&&t!==(t=c[1]("back_to_categories")+"")&&O(i,t);const u={};h&1&&(u.topic=c[0]),a.$set(u)},i(c){o||(le(a.$$.fragment,c),o=!0)},o(c){ce(a.$$.fragment,c),o=!1},d(c){c&&(R(e),R(s)),qe(a,c),r=!1,l()}}}function hc(n){let e,t,i;function s(){return n[6](n[7],n[10])}return{c(){e=j("button"),e.textContent=`${n[10].title}`,v(e,"class","svelte-170yrqk")},m(a,o){L(a,e,o),t||(i=te(e,"click",s),t=!0)},p(a,o){n=a},d(a){a&&R(e),t=!1,i()}}}function uc(n){let e,t,i,s,a,o,r,l=ue(n[7].topics),c=[];for(let h=0;h<l.length;h+=1)c[h]=hc(cc(n,l,h));return{c(){e=j("div"),t=j("h3"),t.textContent=`${n[7].title}`,i=D(),s=j("p"),s.textContent=`${n[7].description}`,a=D(),o=j("div");for(let h=0;h<c.length;h+=1)c[h].c();r=D(),v(t,"class","svelte-170yrqk"),v(s,"class","svelte-170yrqk"),v(o,"class","category-topics svelte-170yrqk"),v(e,"class","grammar-category-card svelte-170yrqk")},m(h,u){L(h,e,u),g(e,t),g(e,i),g(e,s),g(e,a),g(e,o);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(o,null);g(e,r)},p(h,u){if(u&4){l=ue(h[7].topics);let d;for(d=0;d<l.length;d+=1){const f=cc(h,l,d);c[d]?c[d].p(f,u):(c[d]=hc(f),c[d].c(),c[d].m(o,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=l.length}},d(h){h&&R(e),st(c,h)}}}function Ek(n){let e,t,i,s;const a=[Ok,Dk],o=[];function r(l,c){return l[0]?0:1}return t=r(n),i=o[t]=a[t](n),{c(){e=j("div"),i.c(),v(e,"class","learn-container svelte-170yrqk")},m(l,c){L(l,e,c),o[t].m(e,null),s=!0},p(l,[c]){let h=t;t=r(l),t===h?o[t].p(l,c):(Ct(),ce(o[h],1,1,()=>{o[h]=null}),Dt(),i=o[t],i?i.p(l,c):(i=o[t]=a[t](l),i.c()),le(i,1),i.m(e,null))},i(l){s||(le(i),s=!0)},o(l){ce(i),s=!1},d(l){l&&R(e),o[t].d()}}}function Rk(n,e,t){let i,s;ye(n,ki,h=>t(4,i=h)),ye(n,Ee,h=>t(1,s=h));let a=null,o=!1;gn(()=>{a&&(Za(),t(3,o=!0))}),jo(()=>{o&&Gs()});function r(h,u){Dn(`/learn/${h}/${u}`)}const l=()=>{t(0,a=null),Dn("/learn")},c=(h,u)=>r(h.id,u.id);return n.$$.update=()=>{if(n.$$.dirty&25){const u=i.split("/");if(u.length===4&&u[1]==="learn"){const d=u[2],f=u[3],m=go.find(p=>p.id===d);m?(t(0,a=m.topics.find(p=>p.id===f)),a&&!o&&(Za(),t(3,o=!0))):(t(0,a=null),o&&(Gs(),t(3,o=!1)))}else u.length===2&&u[1]==="learn"?(t(0,a=null),o&&(Gs(),t(3,o=!1))):t(0,a=null)}},[a,s,r,o,i,l,c]}class Lk extends Ke{constructor(e){super(),Ue(this,e,Rk,Ek,Ve,{})}}const dc=[{id:"sakura_season",title:"Sakura Season: A Symbol of Renewal",category:"Traditions",image:"/assets/images/sakura.jpg",content:`
# Sakura Season: A Symbol of Renewal

Cherry blossom (sakura) season is one of the most anticipated times of the year in Japan. It typically occurs from late March to early May, moving from south to north across the archipelago. The delicate pink and white blossoms are not just beautiful; they hold deep cultural significance.

## Hanami: Flower Viewing Parties

During sakura season, people gather in parks and along riversides for *hanami* (花見), or flower viewing parties. Friends, families, and colleagues spread out picnic blankets, share food and drinks, and enjoy the ephemeral beauty of the blossoms. It's a time for celebration, relaxation, and appreciating nature.

## Symbolism in Japanese Culture

Sakura are a powerful symbol in Japanese culture, representing the transient nature of life, beauty, and renewal. Their short but brilliant bloom reminds people of the fleetingness of existence and the importance of living each moment to the fullest. This concept is often linked to *mono no aware* (物の哀れ), a Japanese term for the pathos of things, or a gentle sadness at the transience of life.

## Popular Hanami Spots

Some of the most famous hanami spots include Ueno Park in Tokyo, Maruyama Park in Kyoto, and Hirosaki Castle Park in Aomori. Each location offers a unique experience, from bustling city parks to serene castle grounds.

## Beyond the Blossoms

While the blossoms themselves are the main attraction, sakura season also brings special foods and drinks, such as sakura-flavored mochi, Kit Kats, and even sakura-infused sake. Many festivals and events are held throughout the country to celebrate this cherished time.
`,keywords:["sakura","cherry blossom","hanami","Japanese culture","traditions"]},{id:"tea_ceremony",title:"The Art of Japanese Tea Ceremony",category:"Traditions",image:"/assets/images/tea_ceremony.jpg",content:`
# The Art of Japanese Tea Ceremony

The Japanese tea ceremony, or *chanoyu* (茶の湯), is a highly ritualized and aesthetic way of preparing and serving matcha (powdered green tea). More than just drinking tea, it is a spiritual practice that embodies principles of harmony (和 wa), respect (敬 kei), purity (清 sei), and tranquility (寂 jaku).

## History and Philosophy

The tea ceremony has roots in Zen Buddhism and was heavily influenced by figures like Sen no Rikyū in the 16th century, who refined its principles. It is a meditative practice that encourages mindfulness and appreciation for the present moment.

## Key Elements

A typical tea ceremony involves several elements:

*   **Tea Room (Chashitsu):** A specially designed space, often simple and rustic, to foster a sense of tranquility.
*   **Utensils:** Specific tools like the chawan (tea bowl), chasen (bamboo whisk), chashaku (bamboo scoop), and natsume (tea caddy), each with its own significance.
*   **Kaiseki:** A multi-course meal served before the tea, emphasizing seasonal ingredients and artistic presentation.
*   **Wagashi:** Traditional Japanese sweets served with the tea, designed to complement the bitter taste of matcha.

## The Flow of the Ceremony

The ceremony follows a precise sequence of movements, from the purification of utensils to the whisking of the tea. Every gesture is deliberate and graceful, reflecting the host's respect for the guests and the tea itself.

## Modern Relevance

While deeply rooted in tradition, the tea ceremony continues to be practiced today, offering a serene escape from the fast pace of modern life. It is a profound way to experience Japanese aesthetics and hospitality.
`,keywords:["tea ceremony","chanoyu","matcha","Zen Buddhism","Japanese traditions"]},{id:"shinto_shrines",title:"Shinto Shrines: Gates to the Sacred",category:"Culture & Religion",image:"/assets/images/shinto_shrine.jpg",content:`
# Shinto Shrines: Gates to the Sacred

Shinto is the indigenous religion of Japan, and its places of worship are called Shinto shrines (*jinja* 神社). These sacred sites are dedicated to the worship of *kami* (神), deities or spirits that inhabit natural objects, places, and phenomena, as well as deified ancestors.

## Torii Gates

One of the most recognizable features of a Shinto shrine is the *torii* (鳥居) gate, which marks the transition from the mundane world to the sacred. Passing through a torii signifies entering a sacred space.

## Purification Rituals

Before approaching the main hall of a shrine, visitors typically perform a purification ritual at a *temizuya* (手水舎), a water basin where hands and mouth are cleansed. This act symbolizes spiritual purity.

## Main Hall (Honden)

The *honden* (本殿) is the most sacred building within a shrine, housing the *go-shintai* (御神体), an object in which the kami is believed to reside. Visitors typically offer prayers and make small offerings at the *haiden* (拝殿), the hall of worship, which is usually in front of the honden.

## Festivals (Matsuri)

Shinto shrines are central to local communities and host numerous *matsuri* (祭り), or festivals, throughout the year. These vibrant events often involve parades, traditional music and dance, and special rituals to honor the kami and pray for good fortune.

## Harmony with Nature

Shinto emphasizes the harmony between humans and nature, and many shrines are beautifully integrated into natural landscapes, surrounded by ancient trees, mountains, or rivers. This connection to nature is a fundamental aspect of the Shinto faith.
`,keywords:["Shinto","shrine","jinja","kami","torii","Japanese religion"]}];function fc(n,e,t){const i=n.slice();return i[3]=e[t],i}function mc(n){let e,t,i;return{c(){e=j("img"),ci(e.src,t=n[0].image)||v(e,"src",t),v(e,"alt",i=n[0].title),v(e,"class","article-image svelte-k6fg9d")},m(s,a){L(s,e,a)},p(s,a){a&1&&!ci(e.src,t=s[0].image)&&v(e,"src",t),a&1&&i!==(i=s[0].title)&&v(e,"alt",i)},d(s){s&&R(e)}}}function pc(n){let e,t,i=n[2]("keywords")+"",s,a,o,r=ue(n[0].keywords),l=[];for(let c=0;c<r.length;c+=1)l[c]=gc(fc(n,r,c));return{c(){e=j("div"),t=j("strong"),s=W(i),a=W(":"),o=D();for(let c=0;c<l.length;c+=1)l[c].c();v(e,"class","article-keywords svelte-k6fg9d")},m(c,h){L(c,e,h),g(e,t),g(t,s),g(t,a),g(e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null)},p(c,h){if(h&4&&i!==(i=c[2]("keywords")+"")&&O(s,i),h&1){r=ue(c[0].keywords);let u;for(u=0;u<r.length;u+=1){const d=fc(c,r,u);l[u]?l[u].p(d,h):(l[u]=gc(d),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(c){c&&R(e),st(l,c)}}}function gc(n){let e,t=n[3]+"",i;return{c(){e=j("span"),i=W(t),v(e,"class","svelte-k6fg9d")},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&1&&t!==(t=s[3]+"")&&O(i,t)},d(s){s&&R(e)}}}function Fk(n){let e,t,i,s=n[0].title+"",a,o,r,l,c=n[0].image&&mc(n),h=n[0].keywords&&n[0].keywords.length>0&&pc(n);return{c(){e=j("div"),c&&c.c(),t=D(),i=j("h2"),a=W(s),o=D(),r=j("div"),l=D(),h&&h.c(),v(i,"class","svelte-k6fg9d"),v(r,"class","article-content svelte-k6fg9d"),v(e,"class","cultural-article-detail svelte-k6fg9d")},m(u,d){L(u,e,d),c&&c.m(e,null),g(e,t),g(e,i),g(i,a),g(e,o),g(e,r),r.innerHTML=n[1],g(e,l),h&&h.m(e,null)},p(u,[d]){u[0].image?c?c.p(u,d):(c=mc(u),c.c(),c.m(e,t)):c&&(c.d(1),c=null),d&1&&s!==(s=u[0].title+"")&&O(a,s),d&2&&(r.innerHTML=u[1]),u[0].keywords&&u[0].keywords.length>0?h?h.p(u,d):(h=pc(u),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:oe,o:oe,d(u){u&&R(e),c&&c.d(),h&&h.d()}}}function Bk(n){let e=n.replace(/日本/g,"<ruby>日本<rt>にほん</rt></ruby>").replace(/花見/g,"<ruby>花見<rt>はなみ</rt></ruby>").replace(/神社/g,"<ruby>神社<rt>じんじゃ</rt></ruby>").replace(/鳥居/g,"<ruby>鳥居<rt>とりい</rt></ruby>");return e=e.replace(/桜/g,'<span class="tooltip-wrapper"><Tooltip text="桜" tooltipContent="Cherry blossom, a symbol of Japan." link="/explore/cultural-articles/sakura"/></span>').replace(/武士/g,'<span class="tooltip-wrapper"><Tooltip text="武士" tooltipContent="Samurai, a member of a powerful military caste in feudal Japan." link="/explore/cultural-articles/samurai"/></span>'),e}function Nk(n,e,t){let i;ye(n,Ee,o=>t(2,i=o));let{article:s}=e,a="";return n.$$set=o=>{"article"in o&&t(0,s=o.article)},n.$$.update=()=>{if(n.$$.dirty&1&&s){const o=Bk(s.content);t(1,a=xe(o))}},[s,a,i]}class qk extends Ke{constructor(e){super(),Ue(this,e,Nk,Fk,Ve,{article:0})}}function _c(n,e,t){const i=n.slice();return i[4]=e[t],i}function Vk(n){let e,t=n[2]("no_guides_available")+"",i;return{c(){e=j("p"),i=W(t)},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&4&&t!==(t=s[2]("no_guides_available")+"")&&O(i,t)},d(s){s&&R(e)}}}function Hk(n){let e,t=[],i=new Map,s=ue(n[0]);const a=o=>o[4].id;for(let o=0;o<s.length;o+=1){let r=_c(n,s,o),l=a(r);i.set(l,t[o]=kc(l,r))}return{c(){e=j("ul");for(let o=0;o<t.length;o+=1)t[o].c();v(e,"class","guide-list svelte-1aexzpo")},m(o,r){L(o,e,r);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,r){r&3&&(s=ue(o[0]),t=hs(t,r,a,1,o,s,i,e,cs,kc,null,_c))},d(o){o&&R(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function kc(n,e){let t,i,s,a=e[4].title+"",o,r,l,c=e[4].description+"",h,u,d,f,m;function p(){return e[3](e[4])}return{key:n,first:null,c(){t=j("li"),i=j("button"),s=j("h4"),o=W(a),r=D(),l=j("p"),h=W(c),d=D(),v(s,"class","svelte-1aexzpo"),v(l,"class","svelte-1aexzpo"),v(i,"type","button"),v(i,"class","guide-button svelte-1aexzpo"),v(i,"aria-label",u="View guide for "+e[4].title),v(t,"class","guide-item svelte-1aexzpo"),this.first=t},m(_,k){L(_,t,k),g(t,i),g(i,s),g(s,o),g(i,r),g(i,l),g(l,h),g(t,d),f||(m=te(i,"click",p),f=!0)},p(_,k){e=_,k&1&&a!==(a=e[4].title+"")&&O(o,a),k&1&&c!==(c=e[4].description+"")&&O(h,c),k&1&&u!==(u="View guide for "+e[4].title)&&v(i,"aria-label",u)},d(_){_&&R(t),f=!1,m()}}}function $k(n){let e;function t(a,o){return a[0].length>0?Hk:Vk}let i=t(n),s=i(n);return{c(){e=j("div"),s.c(),v(e,"class","guide-list-container svelte-1aexzpo")},m(a,o){L(a,e,o),s.m(e,null)},p(a,[o]){i===(i=t(a))&&s?s.p(a,o):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},i:oe,o:oe,d(a){a&&R(e),s.d()}}}function Uk(n,e,t){let i;ye(n,Ee,r=>t(2,i=r));let{guides:s=[]}=e,{onSelectGuide:a}=e;const o=r=>a(r);return n.$$set=r=>{"guides"in r&&t(0,s=r.guides),"onSelectGuide"in r&&t(1,a=r.onSelectGuide)},[s,a,i,o]}class Kk extends Ke{constructor(e){super(),Ue(this,e,Uk,$k,Ve,{guides:0,onSelectGuide:1})}}function bc(n,e,t){const i=n.slice();return i[2]=e[t],i}function vc(n,e,t){const i=n.slice();return i[5]=e[t],i[7]=t,i}function yc(n,e,t){const i=n.slice();return i[8]=e[t],i}function Gk(n){let e,t=n[1]("select_a_guide")+"",i;return{c(){e=j("p"),i=W(t)},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&2&&t!==(t=s[1]("select_a_guide")+"")&&O(i,t)},d(s){s&&R(e)}}}function Yk(n){let e,t=n[0].title+"",i,s,a,o=n[0].description+"",r,l,c,h,u,d,f=ue(n[0].steps),m=[];for(let _=0;_<f.length;_+=1)m[_]=jc(vc(n,f,_));let p=n[0].troubleshooting&&n[0].troubleshooting.length>0&&Tc(n);return{c(){e=j("h2"),i=W(t),s=D(),a=j("p"),r=W(o),l=D(),c=j("div"),h=j("h3"),h.textContent="Step-by-Step Instructions",u=D();for(let _=0;_<m.length;_+=1)m[_].c();d=D(),p&&p.c(),v(a,"class","guide-description svelte-47b0c2"),v(h,"class","svelte-47b0c2"),v(c,"class","guide-content svelte-47b0c2")},m(_,k){L(_,e,k),g(e,i),L(_,s,k),L(_,a,k),g(a,r),L(_,l,k),L(_,c,k),g(c,h),g(c,u);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(c,null);g(c,d),p&&p.m(c,null)},p(_,k){if(k&1&&t!==(t=_[0].title+"")&&O(i,t),k&1&&o!==(o=_[0].description+"")&&O(r,o),k&1){f=ue(_[0].steps);let w;for(w=0;w<f.length;w+=1){const I=vc(_,f,w);m[w]?m[w].p(I,k):(m[w]=jc(I),m[w].c(),m[w].m(c,d))}for(;w<m.length;w+=1)m[w].d(1);m.length=f.length}_[0].troubleshooting&&_[0].troubleshooting.length>0?p?p.p(_,k):(p=Tc(_),p.c(),p.m(c,null)):p&&(p.d(1),p=null)},d(_){_&&(R(e),R(s),R(a),R(l),R(c)),st(m,_),p&&p.d()}}}function wc(n){let e,t=n[8]+"",i;return{c(){e=j("li"),i=W(t),v(e,"class","svelte-47b0c2")},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&1&&t!==(t=s[8]+"")&&O(i,t)},d(s){s&&R(e)}}}function jc(n){let e,t,i,s=n[7]+1+"",a,o,r=n[5].title+"",l,c,h,u=n[5].description+"",d,f,m,p=ue(n[5].details),_=[];for(let k=0;k<p.length;k+=1)_[k]=wc(yc(n,p,k));return{c(){e=j("div"),t=j("h4"),i=W("Step "),a=W(s),o=W(": "),l=W(r),c=D(),h=j("p"),d=W(u),f=D(),m=j("ol");for(let k=0;k<_.length;k+=1)_[k].c();v(t,"class","svelte-47b0c2"),v(h,"class","step-description svelte-47b0c2"),v(m,"class","step-details svelte-47b0c2"),v(e,"class","step svelte-47b0c2")},m(k,w){L(k,e,w),g(e,t),g(t,i),g(t,a),g(t,o),g(t,l),g(e,c),g(e,h),g(h,d),g(e,f),g(e,m);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(m,null)},p(k,w){if(w&1&&r!==(r=k[5].title+"")&&O(l,r),w&1&&u!==(u=k[5].description+"")&&O(d,u),w&1){p=ue(k[5].details);let I;for(I=0;I<p.length;I+=1){const S=yc(k,p,I);_[I]?_[I].p(S,w):(_[I]=wc(S),_[I].c(),_[I].m(m,null))}for(;I<_.length;I+=1)_[I].d(1);_.length=p.length}},d(k){k&&R(e),st(_,k)}}}function Tc(n){let e,t,i,s=ue(n[0].troubleshooting),a=[];for(let o=0;o<s.length;o+=1)a[o]=xc(bc(n,s,o));return{c(){e=j("div"),t=j("h3"),t.textContent="Troubleshooting",i=D();for(let o=0;o<a.length;o+=1)a[o].c();v(t,"class","svelte-47b0c2"),v(e,"class","troubleshooting-section svelte-47b0c2")},m(o,r){L(o,e,r),g(e,t),g(e,i);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(e,null)},p(o,r){if(r&1){s=ue(o[0].troubleshooting);let l;for(l=0;l<s.length;l+=1){const c=bc(o,s,l);a[l]?a[l].p(c,r):(a[l]=xc(c),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=s.length}},d(o){o&&R(e),st(a,o)}}}function xc(n){let e,t,i,s=n[2].problem+"",a,o,r,l,c,h=n[2].solution+"",u,d;return{c(){e=j("div"),t=j("h4"),i=W("Problem: "),a=W(s),o=D(),r=j("p"),l=j("strong"),l.textContent="Solution:",c=D(),u=W(h),d=D(),v(t,"class","svelte-47b0c2"),v(r,"class","solution svelte-47b0c2"),v(e,"class","troubleshooting-item svelte-47b0c2")},m(f,m){L(f,e,m),g(e,t),g(t,i),g(t,a),g(e,o),g(e,r),g(r,l),g(r,c),g(r,u),g(e,d)},p(f,m){m&1&&s!==(s=f[2].problem+"")&&O(a,s),m&1&&h!==(h=f[2].solution+"")&&O(u,h)},d(f){f&&R(e)}}}function Jk(n){let e;function t(a,o){return a[0]?Yk:Gk}let i=t(n),s=i(n);return{c(){e=j("div"),s.c(),v(e,"class","guide-detail-container svelte-47b0c2")},m(a,o){L(a,e,o),s.m(e,null)},p(a,[o]){i===(i=t(a))&&s?s.p(a,o):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},i:oe,o:oe,d(a){a&&R(e),s.d()}}}function Xk(n,e,t){let i;ye(n,Ee,a=>t(1,i=a));let{guide:s}=e;return n.$$set=a=>{"guide"in a&&t(0,s=a.guide)},[s,i]}class Zk extends Ke{constructor(e){super(),Ue(this,e,Xk,Jk,Ve,{guide:0})}}const Xh=[{id:"windows",title:"Windows",description:"Set up Japanese input on Windows 10/11",steps:[{title:"Add Japanese Language",description:"Go to Settings > Time & Language > Language & region",details:['Click "Add a language"','Search for "Japanese" and select it','Click "Next" and then "Install"',"Wait for the language pack to download"]},{title:"Enable Japanese IME",description:"Configure the Japanese Input Method Editor",details:['Click on the language indicator in the taskbar (usually shows "ENG")','Select "Japanese" from the list','You should see "JP" in the taskbar when Japanese is active']},{title:"Switch Input Modes",description:"Toggle between different input modes",details:["Press Alt + Shift to switch between languages","Press Alt + ` (backtick) to toggle hiragana/katakana/alphanumeric","Use the IME toolbar for additional options"]}],troubleshooting:[{problem:"Japanese language not appearing in options",solution:"Make sure Windows is updated to the latest version and try restarting your computer."},{problem:"Cannot type in Japanese after setup",solution:"Check that the JP indicator is showing in the taskbar. Press Alt + Shift to switch languages."}]},{id:"macos",title:"macOS",description:"Set up Japanese input on macOS",steps:[{title:"Add Japanese Input Source",description:"Add Japanese to your input sources",details:["Open System Preferences (or System Settings on macOS 13+)","Go to Keyboard > Input Sources",'Click the "+" button to add a new input source','Select "Japanese" and choose "Hiragana" or "Romaji"','Click "Add"']},{title:"Switch Input Methods",description:"Toggle between input methods",details:["Use Cmd + Space to switch between input sources","Or click the input menu in the menu bar","Select the desired input method from the dropdown"]},{title:"Customize Shortcuts",description:"Set up convenient keyboard shortcuts",details:['In Keyboard settings, go to "Shortcuts"','Select "Input Sources" from the sidebar',"Customize shortcuts for switching input sources",'Consider enabling "Use the Caps Lock key to switch to and from ABC"']}],troubleshooting:[{problem:"Japanese input not working in some apps",solution:"Some apps may need to be restarted after adding the input source. Try closing and reopening the app."},{problem:"Predictive text not showing",solution:'Make sure "Live conversion" is enabled in the Japanese input preferences.'}]},{id:"ios",title:"iOS",description:"Set up Japanese input on iPhone/iPad",steps:[{title:"Add Japanese Keyboard",description:"Enable Japanese keyboard in iOS settings",details:["Open Settings app","Go to General > Keyboard > Keyboards",'Tap "Add New Keyboard..."','Select "Japanese"','Choose "Kana" or "Romaji" (or both)']},{title:"Switch Keyboards",description:"Toggle between keyboards while typing",details:["When typing, tap the globe icon on the keyboard","Or press and hold the globe icon to see all keyboards","Select the Japanese keyboard","Toggle between hiragana, katakana, and numbers using the keys"]},{title:"Use Predictive Text",description:"Take advantage of Japanese predictive text",details:["Type in romaji and conversion suggestions will appear","Tap the desired conversion from the suggestion bar","Use the arrow keys to cycle through more options","Swipe left/right on suggestions for more choices"]}],troubleshooting:[{problem:"Globe icon not appearing",solution:"Make sure you have more than one keyboard enabled. The globe only appears when multiple keyboards are available."},{problem:"Japanese keyboard not in the list",solution:"Check if your iOS version supports Japanese input. Update to the latest iOS version if needed."}]},{id:"android",title:"Android",description:"Set up Japanese input on Android devices",steps:[{title:"Install Gboard",description:"Get Google's keyboard app",details:["Download Gboard from Google Play Store if not already installed","Open Gboard app or go to Settings > Languages & input","Set Gboard as your default keyboard"]},{title:"Add Japanese Language",description:"Enable Japanese in Gboard",details:["Open Gboard settings",'Tap "Languages"','Tap "Add keyboard"','Select "Japanese"',"Choose your preferred layout (12-key, QWERTY, or handwriting)"]},{title:"Switch Languages",description:"Toggle between input languages",details:["When typing, tap the space bar and hold","Swipe to switch between languages","Or tap the language key if available","Use the あ/A key to switch between hiragana and romaji"]}],troubleshooting:[{problem:"Japanese not showing up in language list",solution:"Make sure Gboard is updated to the latest version. Some older versions may not support all languages."},{problem:"Conversion not working properly",solution:"Clear Gboard cache in app settings and re-add the Japanese language."}]}];function Sc(n,e,t){const i=n.slice();return i[12]=e[t][0],i[13]=e[t][1],i}function zc(n,e,t){const i=n.slice();return i[16]=e[t],i}function Qk(n){let e,t=n[4]("explore_section_title")+"",i,s,a,o=n[4]("explore_section_description")+"",r,l,c,h,u=n[4]("fact_of_the_day")+"",d,f,m,p,_,k,w=[],I=new Map,S,T,C,A=n[4]("input_methods")+"",E,B,N,U,q=ue(Object.entries(n[2]));const Z=H=>H[12];for(let H=0;H<q.length;H+=1){let V=Sc(n,q,H),Y=Z(V);I.set(Y,w[H]=Ic(Y,V))}return N=new Kk({props:{guides:Xh,onSelectGuide:n[6]}}),{c(){e=j("h2"),i=W(t),s=D(),a=j("p"),r=W(o),l=D(),c=j("div"),h=j("h3"),d=W(u),f=D(),m=j("p"),p=W(n[3]),_=D(),k=j("div");for(let H=0;H<w.length;H+=1)w[H].c();S=D(),T=j("div"),C=j("h3"),E=W(A),B=D(),$e(N.$$.fragment),v(c,"class","fact-of-the-day svelte-10w0v4p"),v(k,"class","cultural-articles-grid svelte-10w0v4p"),v(T,"class","input-methods svelte-10w0v4p")},m(H,V){L(H,e,V),g(e,i),L(H,s,V),L(H,a,V),g(a,r),L(H,l,V),L(H,c,V),g(c,h),g(h,d),g(c,f),g(c,m),g(m,p),L(H,_,V),L(H,k,V);for(let Y=0;Y<w.length;Y+=1)w[Y]&&w[Y].m(k,null);L(H,S,V),L(H,T,V),g(T,C),g(C,E),g(T,B),Ne(N,T,null),U=!0},p(H,V){(!U||V&16)&&t!==(t=H[4]("explore_section_title")+"")&&O(i,t),(!U||V&16)&&o!==(o=H[4]("explore_section_description")+"")&&O(r,o),(!U||V&16)&&u!==(u=H[4]("fact_of_the_day")+"")&&O(d,u),(!U||V&8)&&O(p,H[3]),V&36&&(q=ue(Object.entries(H[2])),w=hs(w,V,Z,1,H,q,I,k,cs,Ic,null,Sc)),(!U||V&16)&&A!==(A=H[4]("input_methods")+"")&&O(E,A)},i(H){U||(le(N.$$.fragment,H),U=!0)},o(H){ce(N.$$.fragment,H),U=!1},d(H){H&&(R(e),R(s),R(a),R(l),R(c),R(_),R(k),R(S),R(T));for(let V=0;V<w.length;V+=1)w[V].d();qe(N)}}}function eb(n){let e,t=n[4]("back_to_explore")+"",i,s,a,o,r,l;return a=new Zk({props:{guide:n[1]}}),{c(){e=j("button"),i=W(t),s=D(),$e(a.$$.fragment)},m(c,h){L(c,e,h),g(e,i),L(c,s,h),Ne(a,c,h),o=!0,r||(l=te(e,"click",n[8]),r=!0)},p(c,h){(!o||h&16)&&t!==(t=c[4]("back_to_explore")+"")&&O(i,t);const u={};h&2&&(u.guide=c[1]),a.$set(u)},i(c){o||(le(a.$$.fragment,c),o=!0)},o(c){ce(a.$$.fragment,c),o=!1},d(c){c&&(R(e),R(s)),qe(a,c),r=!1,l()}}}function tb(n){let e,t=n[4]("back_to_explore")+"",i,s,a,o,r,l;return a=new qk({props:{article:n[0]}}),{c(){e=j("button"),i=W(t),s=D(),$e(a.$$.fragment)},m(c,h){L(c,e,h),g(e,i),L(c,s,h),Ne(a,c,h),o=!0,r||(l=te(e,"click",n[7]),r=!0)},p(c,h){(!o||h&16)&&t!==(t=c[4]("back_to_explore")+"")&&O(i,t);const u={};h&1&&(u.article=c[0]),a.$set(u)},i(c){o||(le(a.$$.fragment,c),o=!0)},o(c){ce(a.$$.fragment,c),o=!1},d(c){c&&(R(e),R(s)),qe(a,c),r=!1,l()}}}function Mc(n){let e,t,i=n[16].title+"",s,a,o,r=n[16].keywords.join(", ")+"",l,c,h,u,d;function f(){return n[9](n[16])}return{c(){e=j("button"),t=j("h4"),s=W(i),a=D(),o=j("p"),l=W(r),c=D(),v(t,"class","svelte-10w0v4p"),v(o,"class","svelte-10w0v4p"),v(e,"type","button"),v(e,"class","article-card svelte-10w0v4p"),v(e,"aria-label",h="Read article: "+n[16].title)},m(m,p){L(m,e,p),g(e,t),g(t,s),g(e,a),g(e,o),g(o,l),g(e,c),u||(d=te(e,"click",f),u=!0)},p(m,p){n=m,p&4&&i!==(i=n[16].title+"")&&O(s,i),p&4&&r!==(r=n[16].keywords.join(", ")+"")&&O(l,r),p&4&&h!==(h="Read article: "+n[16].title)&&v(e,"aria-label",h)},d(m){m&&R(e),u=!1,d()}}}function Ic(n,e){let t,i,s=e[12]+"",a,o,r,l,c=ue(e[13]),h=[];for(let u=0;u<c.length;u+=1)h[u]=Mc(zc(e,c,u));return{key:n,first:null,c(){t=j("section"),i=j("h3"),a=W(s),o=D(),r=j("div");for(let u=0;u<h.length;u+=1)h[u].c();l=D(),v(r,"class","articles-list svelte-10w0v4p"),v(t,"class","article-category-section svelte-10w0v4p"),this.first=t},m(u,d){L(u,t,d),g(t,i),g(i,a),g(t,o),g(t,r);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(r,null);g(t,l)},p(u,d){if(e=u,d&4&&s!==(s=e[12]+"")&&O(a,s),d&36){c=ue(e[13]);let f;for(f=0;f<c.length;f+=1){const m=zc(e,c,f);h[f]?h[f].p(m,d):(h[f]=Mc(m),h[f].c(),h[f].m(r,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=c.length}},d(u){u&&R(t),st(h,u)}}}function nb(n){let e,t,i,s;const a=[tb,eb,Qk],o=[];function r(l,c){return l[0]?0:l[1]?1:2}return t=r(n),i=o[t]=a[t](n),{c(){e=j("div"),i.c(),v(e,"class","explore-container svelte-10w0v4p")},m(l,c){L(l,e,c),o[t].m(e,null),s=!0},p(l,[c]){let h=t;t=r(l),t===h?o[t].p(l,c):(Ct(),ce(o[h],1,1,()=>{o[h]=null}),Dt(),i=o[t],i?i.p(l,c):(i=o[t]=a[t](l),i.c()),le(i,1),i.m(e,null))},i(l){s||(le(i),s=!0)},o(l){ce(i),s=!1},d(l){l&&R(e),o[t].d()}}}function ib(n,e,t){let i,s;ye(n,ki,p=>t(10,i=p)),ye(n,Ee,p=>t(4,s=p));let a=null,o=null;const r={};dc.forEach(p=>{r[p.category]||t(2,r[p.category]=[],r),r[p.category].push(p)});function l(p){t(0,a=dc.find(_=>_.id===p)),t(1,o=null),Dn(`/explore/articles/${p}`)}function c(p){t(1,o=p),t(0,a=null),Dn(`/explore/input-methods/${p.id}`)}gn(()=>{const p=i.split("/");if(p.length>=3&&p[1]==="explore"){if(p[2]==="articles"&&p.length===4){const _=p[3];l(_)}else if(p[2]==="input-methods"&&p.length===4){const _=p[3];t(1,o=Xh.find(k=>k.id===_)),t(0,a=null)}}});let h="Loading fact...";const u=["Did you know that Japan has more vending machines per capita than any other country?","The world's oldest company, Kongo Gumi, was a Japanese construction company that lasted for over 1,400 years.","Japan consists of over 6,800 islands!","Sumo wrestling is Japan's national sport."];return gn(()=>{const p=Math.floor(Math.random()*u.length);t(3,h=u[p])}),[a,o,r,h,s,l,c,()=>{t(0,a=null),Dn("/explore")},()=>{t(1,o=null),Dn("/explore")},p=>l(p.id)]}class sb extends Ke{constructor(e){super(),Ue(this,e,ib,nb,Ve,{})}}function Wc(n,e,t){const i=n.slice();i[25]=e[t];const s=fi.find(function(...o){return n[20](i[25],...o)});return i[26]=s,i}function ab(n){let e;return{c(){e=j("div"),e.textContent="Loading translations..."},m(t,i){L(t,e,i)},p:oe,i:oe,o:oe,d(t){t&&R(e)}}}function ob(n){let e,t=n[7]("main_title")+"",i,s,a,o,r,l,c,h,u,d;a=new W_({});const f=[mb,fb,db,ub,hb,cb,lb,rb],m=[];function p(_,k){return k&4&&(r=null),k&4&&(l=null),r==null&&(r=!!_[2].startsWith("learn")),r?0:(l==null&&(l=!!_[2].startsWith("explore")),l?1:_[2]==="kana_charts"?2:_[2]==="kanji_charts"?3:_[2]==="vocabulary_list"?4:_[2]==="progress"?5:_[2]==="quiz"?6:_[2]==="settings"?7:-1)}return~(c=p(n,-1))&&(h=m[c]=f[c](n)),{c(){e=j("h1"),i=W(t),s=D(),$e(a.$$.fragment),o=D(),h&&h.c(),u=on()},m(_,k){L(_,e,k),g(e,i),L(_,s,k),Ne(a,_,k),L(_,o,k),~c&&m[c].m(_,k),L(_,u,k),d=!0},p(_,k){(!d||k&128)&&t!==(t=_[7]("main_title")+"")&&O(i,t);let w=c;c=p(_,k),c===w?~c&&m[c].p(_,k):(h&&(Ct(),ce(m[w],1,1,()=>{m[w]=null}),Dt()),~c?(h=m[c],h?h.p(_,k):(h=m[c]=f[c](_),h.c()),le(h,1),h.m(u.parentNode,u)):h=null)},i(_){d||(le(a.$$.fragment,_),le(h),d=!0)},o(_){ce(a.$$.fragment,_),ce(h),d=!1},d(_){_&&(R(e),R(s),R(o),R(u)),qe(a,_),~c&&m[c].d(_)}}}function rb(n){let e,t;return e=new z_({}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p:oe,i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function lb(n){let e,t;return e=new Ku({}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p:oe,i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function cb(n){let e,t;return e=new k_({}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p:oe,i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function hb(n){let e,t,i,s;return e=new Cu({props:{themes:n[15],translations:n[0]}}),e.$on("filterChange",n[14]),i=new Wu({props:{filterTheme:n[3]}}),{c(){$e(e.$$.fragment),t=D(),$e(i.$$.fragment)},m(a,o){Ne(e,a,o),L(a,t,o),Ne(i,a,o),s=!0},p(a,o){const r={};o&1&&(r.translations=a[0]),e.$set(r);const l={};o&8&&(l.filterTheme=a[3]),i.$set(l)},i(a){s||(le(e.$$.fragment,a),le(i.$$.fragment,a),s=!0)},o(a){ce(e.$$.fragment,a),ce(i.$$.fragment,a),s=!1},d(a){a&&R(t),qe(e,a),qe(i,a)}}}function ub(n){let e,t;return e=new zu({props:{masteredIds:n[10]}}),e.$on("selectKanji",n[12]),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p(i,s){const a={};s&1024&&(a.masteredIds=i[10]),e.$set(a)},i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function db(n){let e,t,i,s;return e=new er({props:{kanaData:ra,type:"hiragana",masteredIds:n[8],t:n[7]}}),e.$on("selectKana",n[11]),i=new er({props:{kanaData:la,type:"katakana",masteredIds:n[9],t:n[7]}}),i.$on("selectKana",n[11]),{c(){$e(e.$$.fragment),t=D(),$e(i.$$.fragment)},m(a,o){Ne(e,a,o),L(a,t,o),Ne(i,a,o),s=!0},p(a,o){const r={};o&256&&(r.masteredIds=a[8]),o&128&&(r.t=a[7]),e.$set(r);const l={};o&512&&(l.masteredIds=a[9]),o&128&&(l.t=a[7]),i.$set(l)},i(a){s||(le(e.$$.fragment,a),le(i.$$.fragment,a),s=!0)},o(a){ce(e.$$.fragment,a),ce(i.$$.fragment,a),s=!1},d(a){a&&R(t),qe(e,a),qe(i,a)}}}function fb(n){let e,t;return e=new sb({}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p:oe,i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function mb(n){let e,t;return e=new Lk({}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p:oe,i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function pb(n){let e,t,i=n[6].data&&Pc(n);return{c(){i&&i.c(),e=on()},m(s,a){i&&i.m(s,a),L(s,e,a),t=!0},p(s,a){s[6].data?i?(i.p(s,a),a&64&&le(i,1)):(i=Pc(s),i.c(),le(i,1),i.m(e.parentNode,e)):i&&(Ct(),ce(i,1,1,()=>{i=null}),Dt())},i(s){t||(le(i),t=!0)},o(s){ce(i),t=!1},d(s){s&&R(e),i&&i.d(s)}}}function gb(n){let e;function t(a,o){return a[6].data?kb:_b}let i=t(n),s=i(n);return{c(){s.c(),e=on()},m(a,o){s.m(a,o),L(a,e,o)},p(a,o){i===(i=t(a))&&s?s.p(a,o):(s.d(1),s=i(a),s&&(s.c(),s.m(e.parentNode,e)))},i:oe,o:oe,d(a){a&&R(e),s.d(a)}}}function Pc(n){let e,t=n[7]("selected_kanji")+"",i,s,a=n[6].data.kanji+"",o,r,l,c,h=n[7]("meaning")+"",u,d,f,m=n[7](n[6].data.meaning)+"",p,_,k,w,I=n[7]("onyomi")+"",S,T,C,A=n[6].data.onyomi.join(", ")+"",E,B,N,U,q=n[7]("kunyomi")+"",Z,H,V,Y=n[6].data.kunyomi.join(", ")+"",ee,Q,se,we,fe,de=n[6].data.strokeOrderImg&&Ac(n),_e=n[6].data.examples&&n[6].data.examples.length>0&&Cc(n);return{c(){e=j("h3"),i=W(t),s=W(": "),o=W(a),r=D(),l=j("p"),c=j("strong"),u=W(h),d=W(":"),f=D(),p=W(m),_=D(),k=j("p"),w=j("strong"),S=W(I),T=W(":"),C=D(),E=W(A),B=D(),N=j("p"),U=j("strong"),Z=W(q),H=W(":"),V=D(),ee=W(Y),Q=D(),de&&de.c(),se=D(),_e&&_e.c(),we=on()},m(re,ae){L(re,e,ae),g(e,i),g(e,s),g(e,o),L(re,r,ae),L(re,l,ae),g(l,c),g(c,u),g(c,d),g(l,f),g(l,p),L(re,_,ae),L(re,k,ae),g(k,w),g(w,S),g(w,T),g(k,C),g(k,E),L(re,B,ae),L(re,N,ae),g(N,U),g(U,Z),g(U,H),g(N,V),g(N,ee),L(re,Q,ae),de&&de.m(re,ae),L(re,se,ae),_e&&_e.m(re,ae),L(re,we,ae),fe=!0},p(re,ae){(!fe||ae&128)&&t!==(t=re[7]("selected_kanji")+"")&&O(i,t),(!fe||ae&64)&&a!==(a=re[6].data.kanji+"")&&O(o,a),(!fe||ae&128)&&h!==(h=re[7]("meaning")+"")&&O(u,h),(!fe||ae&192)&&m!==(m=re[7](re[6].data.meaning)+"")&&O(p,m),(!fe||ae&128)&&I!==(I=re[7]("onyomi")+"")&&O(S,I),(!fe||ae&64)&&A!==(A=re[6].data.onyomi.join(", ")+"")&&O(E,A),(!fe||ae&128)&&q!==(q=re[7]("kunyomi")+"")&&O(Z,q),(!fe||ae&64)&&Y!==(Y=re[6].data.kunyomi.join(", ")+"")&&O(ee,Y),re[6].data.strokeOrderImg?de?(de.p(re,ae),ae&64&&le(de,1)):(de=Ac(re),de.c(),le(de,1),de.m(se.parentNode,se)):de&&(Ct(),ce(de,1,1,()=>{de=null}),Dt()),re[6].data.examples&&re[6].data.examples.length>0?_e?_e.p(re,ae):(_e=Cc(re),_e.c(),_e.m(we.parentNode,we)):_e&&(_e.d(1),_e=null)},i(re){fe||(le(de),fe=!0)},o(re){ce(de),fe=!1},d(re){re&&(R(e),R(r),R(l),R(_),R(k),R(B),R(N),R(Q),R(se),R(we)),de&&de.d(re),_e&&_e.d(re)}}}function Ac(n){let e,t;return e=new L_({props:{src:n[6].data.strokeOrderImg,alt:n[7]("stroke_order")+" "+n[6].data.kanji,className:"stroke-order-image"}}),{c(){$e(e.$$.fragment)},m(i,s){Ne(e,i,s),t=!0},p(i,s){const a={};s&64&&(a.src=i[6].data.strokeOrderImg),s&192&&(a.alt=i[7]("stroke_order")+" "+i[6].data.kanji),e.$set(a)},i(i){t||(le(e.$$.fragment,i),t=!0)},o(i){ce(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function Cc(n){let e,t=n[7]("examples")+"",i,s,a,o,r=ue(n[6].data.examples),l=[];for(let c=0;c<r.length;c+=1)l[c]=Oc(Wc(n,r,c));return{c(){e=j("h4"),i=W(t),s=W(":"),a=D(),o=j("ul");for(let c=0;c<l.length;c+=1)l[c].c()},m(c,h){L(c,e,h),g(e,i),g(e,s),L(c,a,h),L(c,o,h);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(c,h){if(h&128&&t!==(t=c[7]("examples")+"")&&O(i,t),h&192){r=ue(c[6].data.examples);let u;for(u=0;u<r.length;u+=1){const d=Wc(c,r,u);l[u]?l[u].p(d,h):(l[u]=Oc(d),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}},d(c){c&&(R(e),R(a),R(o)),st(l,c)}}}function Dc(n){let e,t=n[26].kana+"",i,s,a=n[26].romaji+"",o,r,l=n[7](n[26].id)+"",c;return{c(){e=j("li"),i=W(t),s=W(" ("),o=W(a),r=W(") - "),c=W(l)},m(h,u){L(h,e,u),g(e,i),g(e,s),g(e,o),g(e,r),g(e,c)},p(h,u){u&64&&t!==(t=h[26].kana+"")&&O(i,t),u&64&&a!==(a=h[26].romaji+"")&&O(o,a),u&192&&l!==(l=h[7](h[26].id)+"")&&O(c,l)},d(h){h&&R(e)}}}function Oc(n){let e,t=n[26]&&Dc(n);return{c(){t&&t.c(),e=on()},m(i,s){t&&t.m(i,s),L(i,e,s)},p(i,s){i[26]?t?t.p(i,s):(t=Dc(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&R(e),t&&t.d(i)}}}function _b(n){let e,t=n[7]("no_vocabulary_example_selected")+"",i;return{c(){e=j("p"),i=W(t)},m(s,a){L(s,e,a),g(e,i)},p(s,a){a&128&&t!==(t=s[7]("no_vocabulary_example_selected")+"")&&O(i,t)},d(s){s&&R(e)}}}function kb(n){let e,t,i,s=n[7]("kana")+"",a,o,r,l=n[6].data.kana+"",c,h,u,d,f=n[7]("romaji")+"",m,p,_,k=n[6].data.romaji+"",w,I,S,T,C=n[7]("meaning")+"",A,E,B,N=n[7](n[6].data.id)+"",U;return{c(){e=j("div"),t=j("p"),i=j("strong"),a=W(s),o=W(":"),r=D(),c=W(l),h=D(),u=j("p"),d=j("strong"),m=W(f),p=W(":"),_=D(),w=W(k),I=D(),S=j("p"),T=j("strong"),A=W(C),E=W(":"),B=D(),U=W(N),v(e,"class","vocabulary-example-content")},m(q,Z){L(q,e,Z),g(e,t),g(t,i),g(i,a),g(i,o),g(t,r),g(t,c),g(e,h),g(e,u),g(u,d),g(d,m),g(d,p),g(u,_),g(u,w),g(e,I),g(e,S),g(S,T),g(T,A),g(T,E),g(S,B),g(S,U)},p(q,Z){Z&128&&s!==(s=q[7]("kana")+"")&&O(a,s),Z&64&&l!==(l=q[6].data.kana+"")&&O(c,l),Z&128&&f!==(f=q[7]("romaji")+"")&&O(m,f),Z&64&&k!==(k=q[6].data.romaji+"")&&O(w,k),Z&128&&C!==(C=q[7]("meaning")+"")&&O(A,C),Z&192&&N!==(N=q[7](q[6].data.id)+"")&&O(U,N)},d(q){q&&R(e)}}}function bb(n){let e,t,i,s;const a=[gb,pb],o=[];function r(l,c){return l[6]&&l[6].type==="kana"?0:l[6]&&l[6].type==="kanji"?1:-1}return~(e=r(n))&&(t=o[e]=a[e](n)),{c(){t&&t.c(),i=on()},m(l,c){~e&&o[e].m(l,c),L(l,i,c),s=!0},p(l,c){let h=e;e=r(l),e===h?~e&&o[e].p(l,c):(t&&(Ct(),ce(o[h],1,1,()=>{o[h]=null}),Dt()),~e?(t=o[e],t?t.p(l,c):(t=o[e]=a[e](l),t.c()),le(t,1),t.m(i.parentNode,i)):t=null)},i(l){s||(le(t),s=!0)},o(l){ce(t),s=!1},d(l){l&&R(i),~e&&o[e].d(l)}}}function vb(n){let e,t,i,s,a,o,r;const l=[ob,ab],c=[];function h(f,m){return f[1]?0:1}t=h(n),i=c[t]=l[t](n);function u(f){n[21](f)}let d={title:n[5],$$slots:{default:[bb]},$$scope:{ctx:n}};return n[4]!==void 0&&(d.show=n[4]),a=new C_({props:d}),_n.push(()=>Bc(a,"show",u)),a.$on("close",n[13]),{c(){e=j("main"),i.c(),s=D(),$e(a.$$.fragment)},m(f,m){L(f,e,m),c[t].m(e,null),L(f,s,m),Ne(a,f,m),r=!0},p(f,[m]){let p=t;t=h(f),t===p?c[t].p(f,m):(Ct(),ce(c[p],1,1,()=>{c[p]=null}),Dt(),i=c[t],i?i.p(f,m):(i=c[t]=l[t](f),i.c()),le(i,1),i.m(e,null));const _={};m&32&&(_.title=f[5]),m&536871104&&(_.$$scope={dirty:m,ctx:f}),!o&&m&16&&(o=!0,_.show=f[4],Lc(()=>o=!1)),a.$set(_)},i(f){r||(le(i),le(a.$$.fragment,f),r=!0)},o(f){ce(i),ce(a.$$.fragment,f),r=!1},d(f){f&&(R(e),R(s)),c[t].d(),qe(a,f)}}}function yb(n,e,t){let i,s,a,o,r,l,c,h;ye(n,sa,q=>t(0,i=q)),ye(n,oa,q=>t(1,s=q)),ye(n,Ee,q=>t(7,a=q)),ye(n,di,q=>t(24,o=q)),ye(n,ki,q=>t(19,r=q));let u=null,d=null,f="learn",m="all",p=!1,_="",k=null;gn(()=>{rn.update(q=>{const Z=new Date().toISOString().slice(0,10);let H={...q};if(H.lastStudyDate){const V=new Date(H.lastStudyDate),Y=new Date;Y.setDate(Y.getDate()-1),V.toISOString().slice(0,10)===Y.toISOString().slice(0,10)?H.currentStreak++:V.toISOString().slice(0,10)!==Z&&(H.currentStreak=1)}else H.currentStreak=1;return H.currentStreak>H.longestStreak&&(H.longestStreak=H.currentStreak),H.lastStudyDate=Z,H})});function w(q){const Z=q.detail,H=o||[],V=fi.filter(Y=>Y.kana.startsWith(Z.kana));u=V.find(Y=>(Y.themes||[]).some(ee=>H.includes(ee)))||V[0]||null,t(5,_=a("vocabulary_example")),t(6,k={type:"kana",data:u}),t(4,p=!0)}function I(q){const Z=q.detail;d=Z,t(5,_=Z.kanji),t(6,k={type:"kanji",data:d}),t(4,p=!0)}function S(){t(4,p=!1),t(6,k=null),u=null,d=null}function T(q){t(3,m=q.detail)}const C=[...new Set(fi.flatMap(q=>q.themes||[]))],A=Ks(an,q=>q.hiragana);ye(n,A,q=>t(8,l=q));const E=Ks(an,q=>q.katakana);ye(n,E,q=>t(9,c=q));const B=Ks(an,q=>q.kanji);ye(n,B,q=>t(10,h=q));const N=(q,Z)=>Z.id===q;function U(q){p=q,t(4,p)}return n.$$.update=()=>{n.$$.dirty&524288&&t(2,f=r.substring(1)||"learn"),n.$$.dirty&3&&s&&(console.log("App.svelte: translationsLoaded is true"),console.log("App.svelte: translations store value",i))},[i,s,f,m,p,_,k,a,l,c,h,w,I,S,T,C,A,E,B,r,N,U]}class wb extends Ke{constructor(e){super(),Ue(this,e,yb,vb,Ve,{})}}function jb(n){const e=["theme-light","theme-dark","theme-ocean-blue","theme-forest-green","theme-high-contrast"];if(document.body.classList.remove(...e),n==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;document.body.classList.add(t?"theme-dark":"theme-light")}else document.body.classList.add(`theme-${n}`)}ui.subscribe(jb);wu().then(()=>{new wb({target:document.getElementById("app")})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
